import {
  w as w2
} from "./chunk-RY4ZYEZD.js";
import "./chunk-6BVAE5VM.js";
import "./chunk-UWJW6IHR.js";
import "./chunk-GCCROLU6.js";
import "./chunk-Z3OZTRXI.js";
import "./chunk-Z6552KW6.js";
import "./chunk-XJMFXMGK.js";
import {
  n as n2,
  p as p2
} from "./chunk-VOBFRSU5.js";
import "./chunk-2LU4NAEM.js";
import "./chunk-EUGUM3DF.js";
import "./chunk-NEBU5XJO.js";
import "./chunk-KXFCAOWK.js";
import "./chunk-VGXBH5PT.js";
import "./chunk-ZUTXZ2PO.js";
import "./chunk-FSVG2RRX.js";
import "./chunk-L3O6KWVI.js";
import "./chunk-2SK5ARBZ.js";
import "./chunk-RNXMAHSA.js";
import "./chunk-VD4HSDHE.js";
import "./chunk-WBSGKMRV.js";
import "./chunk-SBFMUXL3.js";
import "./chunk-PZV6BOD6.js";
import "./chunk-DD7VYTDF.js";
import "./chunk-H7SHPX7W.js";
import "./chunk-WIICHW3C.js";
import "./chunk-T4BWGCN6.js";
import "./chunk-AC7GOP3F.js";
import "./chunk-XPKVLOAO.js";
import "./chunk-GESOBEYT.js";
import "./chunk-3IU6SQCC.js";
import "./chunk-E7YVYF37.js";
import "./chunk-E76L26GR.js";
import "./chunk-GG4VLKUY.js";
import "./chunk-IL45XPTT.js";
import "./chunk-6MFKAT6L.js";
import {
  a as a4,
  e as e5
} from "./chunk-NOWX6W7R.js";
import "./chunk-OQ76WPLD.js";
import "./chunk-KSVHYEPS.js";
import "./chunk-YOMN3PFE.js";
import "./chunk-UTU6N7VJ.js";
import "./chunk-RV3SBM2C.js";
import "./chunk-4GXVCEW4.js";
import "./chunk-KQINCOQL.js";
import "./chunk-B6C7UPBZ.js";
import "./chunk-IUQBXXYO.js";
import "./chunk-7WKBQS4R.js";
import "./chunk-SJHAGLIM.js";
import "./chunk-Z6OMEWWC.js";
import {
  e as e4
} from "./chunk-ELSQQIKB.js";
import {
  A
} from "./chunk-MULCOUFY.js";
import "./chunk-VGIEH4HM.js";
import "./chunk-XLF2NMGX.js";
import "./chunk-X5GD6LFD.js";
import "./chunk-G4PMFSAZ.js";
import "./chunk-MX5VW6PC.js";
import "./chunk-JJNHUYXK.js";
import "./chunk-UG6RJXJ2.js";
import {
  S
} from "./chunk-OTCYHWWG.js";
import "./chunk-UDSZVLDS.js";
import {
  E
} from "./chunk-UGXCZZ7N.js";
import "./chunk-OTSYE6UT.js";
import "./chunk-K5LVZUBF.js";
import "./chunk-J7LSFQNH.js";
import "./chunk-AGDHKBKD.js";
import "./chunk-OC2XWDW2.js";
import "./chunk-C3JHRSMA.js";
import "./chunk-M2UZRY7C.js";
import "./chunk-HUVZEBBO.js";
import "./chunk-VLPG2W66.js";
import "./chunk-GH7GZNY6.js";
import "./chunk-G5DA3EEG.js";
import "./chunk-D443BZKU.js";
import "./chunk-7DFHXN7Z.js";
import "./chunk-NX54JGTL.js";
import "./chunk-I6IIPG56.js";
import "./chunk-JEYXDNAT.js";
import "./chunk-DJJNSAUR.js";
import "./chunk-PZBXBPVO.js";
import "./chunk-TMC6HYGQ.js";
import "./chunk-7FAVUXK2.js";
import "./chunk-IVNFIIVI.js";
import "./chunk-T4QXFCFF.js";
import "./chunk-BFUOEOXA.js";
import "./chunk-NOGWEW4X.js";
import "./chunk-ZCZERMS4.js";
import "./chunk-7CUBIFKN.js";
import "./chunk-GPMIOMDJ.js";
import "./chunk-RGFH75DR.js";
import "./chunk-FEGY3M6U.js";
import "./chunk-RWRC6JKB.js";
import "./chunk-M6AESODI.js";
import "./chunk-NY6S6EMV.js";
import "./chunk-AQGMTI4V.js";
import "./chunk-QG7JWSBW.js";
import {
  L as L2,
  m as m4
} from "./chunk-UECUZHH7.js";
import "./chunk-KSRBNZJ2.js";
import {
  n as n3,
  s as s3
} from "./chunk-6WL2SHX6.js";
import "./chunk-CL7PETHS.js";
import "./chunk-CAZNHUEV.js";
import "./chunk-XDXJG3QL.js";
import "./chunk-YSCIEMYQ.js";
import "./chunk-ZXGBNDYM.js";
import "./chunk-GOWWJ2HE.js";
import "./chunk-5GBXHGKW.js";
import "./chunk-7ZMGKXLG.js";
import "./chunk-JMXPE5PE.js";
import "./chunk-LL73CCBG.js";
import "./chunk-6TS2ZJL4.js";
import {
  i as i2
} from "./chunk-IBGTNH54.js";
import "./chunk-ROVRMLYN.js";
import "./chunk-SYPTUUSZ.js";
import "./chunk-YZLWQJLF.js";
import "./chunk-3LRL7HAL.js";
import "./chunk-4OESBQFK.js";
import "./chunk-L7EN54WK.js";
import {
  u as u2
} from "./chunk-6QTMK7BB.js";
import "./chunk-BNO7HCVD.js";
import "./chunk-6U2RA2A3.js";
import "./chunk-UGHHK55N.js";
import {
  g
} from "./chunk-LFWK3CIR.js";
import {
  t
} from "./chunk-5SRIFOTG.js";
import "./chunk-7NMH5MM5.js";
import "./chunk-TCIXF7MM.js";
import "./chunk-UGTICYU7.js";
import "./chunk-3MHRDLQO.js";
import {
  k as k2
} from "./chunk-F4KXGA4J.js";
import {
  m as m3
} from "./chunk-VUGQF5TL.js";
import "./chunk-ZAISHGSP.js";
import "./chunk-KHRHKYU2.js";
import "./chunk-2IMSGFJN.js";
import "./chunk-VHTQ5H2C.js";
import "./chunk-YX2VTIZR.js";
import "./chunk-LYSDGL5S.js";
import "./chunk-SRJX4QLW.js";
import "./chunk-WPTJIN2M.js";
import "./chunk-KUP5BM5G.js";
import "./chunk-HNQNVI5C.js";
import "./chunk-G34OBNLT.js";
import "./chunk-WJUYGRZY.js";
import "./chunk-FKFXOPPT.js";
import "./chunk-KE3WBZYL.js";
import {
  r as r3
} from "./chunk-EOMIFMDH.js";
import "./chunk-QFU5COFB.js";
import "./chunk-45ILJ6ZH.js";
import "./chunk-VCRP2PLV.js";
import "./chunk-BDLVUYG2.js";
import "./chunk-6QA2BVC5.js";
import {
  n
} from "./chunk-HWKQJUGY.js";
import "./chunk-QVKLS4LH.js";
import "./chunk-2KVNXQA7.js";
import "./chunk-XDCUZFJX.js";
import "./chunk-DNZK6PPI.js";
import "./chunk-7BWCD63N.js";
import "./chunk-65K4DQAH.js";
import "./chunk-MUKDJQWB.js";
import "./chunk-6KFXWKZZ.js";
import "./chunk-HPGYEHVI.js";
import "./chunk-YBJ5GVXQ.js";
import {
  V
} from "./chunk-X3R5OB6L.js";
import "./chunk-RACDQ3AL.js";
import "./chunk-TEXTBDH7.js";
import {
  f as f2
} from "./chunk-N3A2BVTW.js";
import {
  l as l2
} from "./chunk-IGYEHOTB.js";
import {
  a as a3
} from "./chunk-TVM3SZJR.js";
import "./chunk-52HWRRRQ.js";
import "./chunk-VNTEV3V4.js";
import "./chunk-OGOQOMMV.js";
import "./chunk-7Z3AF3B2.js";
import "./chunk-6GWORUT3.js";
import "./chunk-U57T7EQN.js";
import "./chunk-CMHHL5UO.js";
import "./chunk-XHYOFJ4U.js";
import "./chunk-HCYE6OE4.js";
import "./chunk-KJSBBQ22.js";
import {
  e as e3
} from "./chunk-LMEOPAGQ.js";
import "./chunk-YIV2QKTZ.js";
import {
  j
} from "./chunk-A3VAC24F.js";
import "./chunk-FPSA4NFH.js";
import "./chunk-UY6B6IVT.js";
import {
  C
} from "./chunk-6PV45IYU.js";
import {
  p
} from "./chunk-SRQCQD63.js";
import {
  m as m2
} from "./chunk-FIRNXFAH.js";
import "./chunk-O5TPFXRT.js";
import {
  j as j2
} from "./chunk-Q6XRAGMA.js";
import {
  o
} from "./chunk-JUAPMINU.js";
import {
  f
} from "./chunk-PK2ZR2SJ.js";
import {
  r as r2
} from "./chunk-YFPGM5UE.js";
import "./chunk-OXSERRAR.js";
import "./chunk-7HI4VRVW.js";
import "./chunk-ZX46THLM.js";
import "./chunk-Y2ZIOB7Y.js";
import {
  s as s2
} from "./chunk-KTUX3OKX.js";
import {
  d,
  l
} from "./chunk-E3KEUGUG.js";
import {
  b,
  m
} from "./chunk-N3XLUQJI.js";
import {
  a2
} from "./chunk-JUAD7TJ6.js";
import {
  D,
  w,
  x
} from "./chunk-VHLUKPRH.js";
import {
  r
} from "./chunk-5TPMG26T.js";
import {
  o as o2
} from "./chunk-3NBBZ43U.js";
import "./chunk-VOLWOTEG.js";
import "./chunk-XTNIDRTB.js";
import "./chunk-FGWIXJQY.js";
import "./chunk-TKYAZCMB.js";
import "./chunk-3TBMFSPB.js";
import "./chunk-PSZLDJJA.js";
import {
  e as e2
} from "./chunk-ZWFY3WY5.js";
import {
  Bt,
  dt,
  ot,
  tt
} from "./chunk-LQFTAGIV.js";
import "./chunk-S7IJH524.js";
import {
  k,
  u2 as u
} from "./chunk-GZ2P4SCJ.js";
import {
  i2 as i,
  s
} from "./chunk-XWG6QGFK.js";
import {
  a,
  e
} from "./chunk-GWNLQRNM.js";
import {
  L
} from "./chunk-FXKORAMT.js";
import "./chunk-GNMFMITH.js";

// node_modules/@arcgis/core/layers/support/FacilityLayerInfo.js
var s4 = class extends l {
  constructor(e7) {
    super(e7), this.facilityIdField = null, this.layerId = null, this.nameField = null, this.siteIdField = null, this.sublayerId = null;
  }
};
r([m({ type: String, json: { write: { isRequired: true } } })], s4.prototype, "facilityIdField", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], s4.prototype, "layerId", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], s4.prototype, "nameField", void 0), r([m({ type: String, json: { write: true } })], s4.prototype, "siteIdField", void 0), r([m({ type: Number, json: { read: { source: "subLayerId" }, write: { target: "subLayerId" }, origins: { "web-scene": { read: false, write: false } } } })], s4.prototype, "sublayerId", void 0), s4 = r([a2("esri.layers.support.FacilityLayerInfo")], s4);
var i3 = s4;

// node_modules/@arcgis/core/layers/support/LevelLayerInfo.js
var o3 = class extends l {
  constructor(e7) {
    super(e7), this.facilityIdField = null, this.layerId = null, this.levelIdField = null, this.levelNumberField = null, this.longNameField = null, this.shortNameField = null, this.sublayerId = null, this.verticalOrderField = null;
  }
};
r([m({ type: String, json: { write: { isRequired: true } } })], o3.prototype, "facilityIdField", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], o3.prototype, "layerId", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], o3.prototype, "levelIdField", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], o3.prototype, "levelNumberField", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], o3.prototype, "longNameField", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], o3.prototype, "shortNameField", void 0), r([m({ type: Number, json: { read: { source: "subLayerId" }, write: { target: "subLayerId" }, origins: { "web-scene": { read: false, write: false } } } })], o3.prototype, "sublayerId", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], o3.prototype, "verticalOrderField", void 0), o3 = r([a2("esri.layers.support.LevelLayerInfo")], o3);
var s5 = o3;

// node_modules/@arcgis/core/layers/support/SiteLayerInfo.js
var t2 = class extends l {
  constructor(e7) {
    super(e7), this.layerId = null, this.nameField = null, this.siteIdField = null, this.sublayerId = null;
  }
};
r([m({ type: String, json: { write: { isRequired: true } } })], t2.prototype, "layerId", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], t2.prototype, "nameField", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], t2.prototype, "siteIdField", void 0), r([m({ type: Number, json: { read: { source: "subLayerId" }, write: { target: "subLayerId" }, origins: { "web-scene": { read: false, write: false } } } })], t2.prototype, "sublayerId", void 0), t2 = r([a2("esri.layers.support.SiteLayerInfo")], t2);
var i4 = t2;

// node_modules/@arcgis/core/support/MapFloorInfo.js
var a5 = class extends l {
  constructor(r4) {
    super(r4), this.levelLayer = null, this.facilityLayer = null, this.siteLayer = null;
  }
};
r([m({ type: s5, json: { write: { isRequired: true } } })], a5.prototype, "levelLayer", void 0), r([m({ type: i3, json: { write: { isRequired: true } } })], a5.prototype, "facilityLayer", void 0), r([m({ type: i4, json: { write: true } })], a5.prototype, "siteLayer", void 0), a5 = r([a2("esri.support.MapFloorInfo")], a5);
var l3 = a5;

// node_modules/@arcgis/core/webdoc/RangeInfo.js
var s6;
var a6 = s6 = class extends l {
  constructor(e7) {
    super(e7), this.activeRange = null, this.currentRangeExtent = null, this.fullRangeExtent = null;
  }
  clone() {
    return new s6(a({ activeRange: this.activeRange, currentRangeExtent: this.currentRangeExtent, fullRangeExtent: this.fullRangeExtent }));
  }
};
r([m({ type: String, nonNullable: true, json: { read: { source: "activeRangeName" }, write: { target: "activeRangeName", isRequired: true } } })], a6.prototype, "activeRange", void 0), r([m({ type: [Number], json: { write: true } })], a6.prototype, "currentRangeExtent", void 0), r([m({ type: [Number], json: { write: true } })], a6.prototype, "fullRangeExtent", void 0), a6 = s6 = r([a2("esri.webdoc.RangeInfo")], a6);
var c = a6;

// node_modules/@arcgis/core/webdoc/widgets/FloorFilter.js
var s7;
var l4 = s7 = class extends l {
  constructor(e7) {
    super(e7), this.enabled = false, this.longNames = false, this.minimized = false, this.pinnedLevels = false, this.site = null, this.facility = null, this.level = null;
  }
  clone() {
    return new s7(a({ enabled: this.enabled, longNames: this.longNames, minimized: this.minimized, pinnedLevels: this.pinnedLevels, site: this.site, facility: this.facility, level: this.level }));
  }
};
r([m({ type: Boolean, json: { read: { source: "enabled" }, write: { target: "enabled" } } })], l4.prototype, "enabled", void 0), r([m({ type: Boolean, json: { read: { source: "longNames" }, write: { target: "longNames" } } })], l4.prototype, "longNames", void 0), r([m({ type: Boolean, json: { read: { source: "minimized" }, write: { target: "minimized" } } })], l4.prototype, "minimized", void 0), r([m({ type: Boolean, json: { read: { source: "pinnedLevels" }, write: { target: "pinnedLevels" } } })], l4.prototype, "pinnedLevels", void 0), r([m({ type: String, json: { read: { source: "site" }, write: { target: "site" } } })], l4.prototype, "site", void 0), r([m({ type: String, json: { read: { source: "facility" }, write: { target: "facility" } } })], l4.prototype, "facility", void 0), r([m({ type: String, json: { read: { source: "level" }, write: { target: "level" } } })], l4.prototype, "level", void 0), l4 = s7 = r([a2("esri.webdoc.widgets.FloorFilter")], l4);
var n4 = l4;

// node_modules/@arcgis/core/webdoc/widgets/Range.js
var n5;
var p3 = new o2({ slider: "slider", picker: "picker" });
var a7 = n5 = class extends l {
  constructor(e7) {
    super(e7), this.interactionMode = null, this.numStops = null, this.stopInterval = null;
  }
  clone() {
    return new n5({ interactionMode: this.interactionMode, numStops: this.numStops, stopInterval: this.stopInterval });
  }
};
r([m({ type: p3.apiValues, nonNullable: true, json: { type: p3.jsonValues, default: null, read: { reader: p3.read }, write: { isRequired: true, writer: p3.write } } })], a7.prototype, "interactionMode", void 0), r([m({ type: x, json: { read: { source: "numberOfStops" }, write: { target: "numberOfStops", overridePolicy() {
  const e7 = null != this.stopInterval;
  return { enabled: !e7, isRequired: !e7 };
} } } })], a7.prototype, "numStops", void 0), r([m({ type: Number, json: { write: { overridePolicy() {
  return { isRequired: null == this.numStops };
} } } })], a7.prototype, "stopInterval", void 0), a7 = n5 = r([a2("esri.webdoc.widgets.Range")], a7);
var u3 = a7;

// node_modules/@arcgis/core/webdoc/widgets/TimeSlider.js
var d2;
var T = d2 = class extends l {
  constructor(t5) {
    super(t5), this.currentTimeExtent = null, this.fullTimeExtent = null, this.loop = false, this.numStops = null, this.numThumbs = null, this.stopDelay = null, this.stopInterval = null, this.stops = null;
  }
  readCurrentTimeExtent(t5) {
    return t5 ? u2.fromArray(t5) : void 0;
  }
  writeCurrentTimeExtent(t5, e7, r4) {
    t5 && e(r4, t5.toArray(), e7);
  }
  readFullTimeExtent(t5, e7) {
    const r4 = e7.properties;
    if (!r4) return;
    const o7 = null != r4.endTime ? new Date(r4.endTime) : null, s8 = null != r4.startTime ? new Date(r4.startTime) : null;
    return new u2({ start: s8, end: o7 });
  }
  writeFullTimeExtent(t5, e7) {
    if (!t5) return;
    const r4 = e7.properties = e7.properties || {}, o7 = t5.end, s8 = t5.start;
    o7 && (r4.endTime = null != o7 ? o7.getTime() : null), s8 && (r4.startTime = null != s8 ? s8.getTime() : null);
  }
  readStopInterval(t5, e7, r4) {
    return t5 ? a4.fromJSON({ value: t5.interval, unit: t5.units }, r4) : null;
  }
  writeStopInterval(t5, e7, r4, s8) {
    if (!t5) return;
    const p17 = t5.toJSON(s8);
    e("properties.timeStopInterval", { interval: p17.value, units: p17.unit }, e7);
  }
  readStops(t5) {
    return t5?.length ? t5.map((t6) => new Date(t6)) : null;
  }
  writeStops(t5, e7, r4) {
    t5?.length && e(r4, t5.map((t6) => t6.getTime()), e7);
  }
  clone() {
    return new d2(a({ currentTimeExtent: this.currentTimeExtent, fullTimeExtent: this.fullTimeExtent, loop: this.loop, numStops: this.numStops, numThumbs: this.numThumbs, stopDelay: this.stopDelay, stopInterval: this.stopInterval, stops: this.stops }));
  }
};
r([m({ type: u2, json: { type: [[x, D]], read: { source: "properties.currentTimeExtent" }, write: { target: "properties.currentTimeExtent" } } })], T.prototype, "currentTimeExtent", void 0), r([o("currentTimeExtent")], T.prototype, "readCurrentTimeExtent", null), r([r2("currentTimeExtent")], T.prototype, "writeCurrentTimeExtent", null), r([m({ type: u2, json: { read: { source: ["properties.endTime", "properties.startTime"] }, write: { target: { "properties.endTime": { type: Number }, "properties.startTime": { type: Number } } } } })], T.prototype, "fullTimeExtent", void 0), r([o("fullTimeExtent")], T.prototype, "readFullTimeExtent", null), r([r2("fullTimeExtent")], T.prototype, "writeFullTimeExtent", null), r([m({ type: Boolean, nonNullable: true, json: { default: false, read: { source: "properties.loop" }, write: { target: "properties.loop" } } })], T.prototype, "loop", void 0), r([m({ type: x, json: { read: { source: "properties.numberOfStops" }, write: { target: "properties.numberOfStops", overridePolicy() {
  const t5 = !!this.stopInterval, e7 = !!this.stops?.length, r4 = !(t5 || e7);
  return { enabled: r4, isRequired: r4 };
} } } })], T.prototype, "numStops", void 0), r([m({ type: [1, 2], nonNullable: true, json: { type: x, read: { source: "properties.thumbCount" }, write: { target: "properties.thumbCount", isRequired: true } } })], T.prototype, "numThumbs", void 0), r([m({ type: Number, nonNullable: true, json: { read: { source: "properties.thumbMovingRate" }, write: { target: "properties.thumbMovingRate", isRequired: true } } })], T.prototype, "stopDelay", void 0), r([m({ type: a4, json: { read: { source: "properties.timeStopInterval" }, write: { target: { "properties.timeStopInterval.interval": { type: Number }, "properties.timeStopInterval.units": { type: e5.jsonValues.filter((t5) => "esriTimeUnitsUnknown" !== t5) } }, overridePolicy() {
  const t5 = null != this.numStops, e7 = !!this.stops?.length;
  return { enabled: !e7, isRequired: !(t5 || e7) };
} } } })], T.prototype, "stopInterval", void 0), r([o("stopInterval")], T.prototype, "readStopInterval", null), r([r2("stopInterval")], T.prototype, "writeStopInterval", null), r([m({ type: [Date], json: { type: [x], read: { source: "properties.stops" }, write: { target: "properties.stops", overridePolicy() {
  return { isRequired: null == this.numStops && !this.stopInterval };
} } } })], T.prototype, "stops", void 0), r([o("stops")], T.prototype, "readStops", null), r([r2("stops")], T.prototype, "writeStops", null), T = d2 = r([a2("esri.webdoc.widgets.TimeSlider")], T);
var y = T;

// node_modules/@arcgis/core/webdoc/Widgets.js
var m5;
var c2 = m5 = class extends l {
  constructor(r4) {
    super(r4), this.range = null, this.timeSlider = null, this.floorFilter = null;
  }
  clone() {
    return new m5(a({ range: this.range, timeSlider: this.timeSlider, floorFilter: this.floorFilter }));
  }
};
r([m({ type: u3, json: { write: true } })], c2.prototype, "range", void 0), r([m({ type: y, json: { write: true } })], c2.prototype, "timeSlider", void 0), r([m({ type: n4, json: { write: true } })], c2.prototype, "floorFilter", void 0), c2 = m5 = r([a2("esri.webdoc.Widgets")], c2);
var n6 = c2;

// node_modules/@arcgis/core/webdoc/support/thumbnailUtils.js
var h = { width: 600, height: 400 };
var t3 = 1.5;
function i5(i12, e7) {
  e7 = e7 || h;
  let { width: d3, height: n12 } = e7;
  const g2 = d3 / n12;
  return g2 < t3 ? n12 = d3 / t3 : g2 > t3 && (d3 = n12 * t3), d3 > i12.width && (n12 *= i12.width / d3, d3 = i12.width), n12 > i12.height && (d3 *= i12.height / n12, n12 = i12.height), { width: Math.round(d3), height: Math.round(n12) };
}

// node_modules/@arcgis/core/webdoc/support/webdocLoadUtils.js
function p4(e7, t5) {
  return t5.resourceInfo ? l5(t5, t5.resourceInfo, { origin: e7.origin }) : t5.portalItem?.id ? c3(e7, t5, t5.portalItem) : Promise.resolve();
}
function l5(e7, t5, r4) {
  const o7 = { context: { ...r4, layerContainerType: "operational-layers" } };
  return e7.portalItem && (o7.context.portal = e7.portalItem.portal || C.getDefault()), import("./layersCreator-NB7JC7SG.js").then(({ populateOperationalLayers: r5 }) => {
    const n12 = [], i12 = t5.operationalLayers;
    i12?.length && n12.push(r5(e7.layers, i12, o7));
    const a17 = { ...o7, context: { ...o7.context, layerContainerType: "tables" }, defaultLayerType: "ArcGISFeatureLayer" }, s8 = t5.tables;
    return s8?.length && n12.push(r5(e7.tables, s8, a17)), Promise.allSettled(n12).then(() => {
    });
  });
}
async function c3(e7, o7, n12) {
  if (await n12.load().catch((r4) => {
    throw new s(`${e7.name}:load-portal-item`, "Failed to load portal item", { error: r4 });
  }), n12.type !== e7.itemType) throw new s(`${e7.name}:invalid-portal-item`, `Invalid portal item type '${n12.type}', expected '${e7.itemType}'`, { type: n12.type });
  const a17 = await n12.fetchData();
  o7.resourceInfo = a17;
  const s8 = e4(n12, e7.origin);
  await m6(e7, o7, a17, s8), o7.resourceReferences = { portalItem: n12, paths: s8.readResourcePaths };
  const p17 = await f3(o7.initialViewProperties, n12, i.getLogger(o7));
  if (p17) {
    const t5 = o7.initialViewProperties?.clone() ?? e7.createInitialViewProperties();
    t5.viewpoint = p17, o7.initialViewProperties = t5;
  }
}
function m6(e7, t5, r4, o7) {
  const n12 = u4(e7, r4);
  return t5.read(n12, o7), l5(t5, n12, o7);
}
function u4(e7, t5) {
  const r4 = e7.parseVersion(t5.version || "", e7.name);
  return e7.currentVersion.validate(r4), t5.version = `${r4.major}.${r4.minor}`, t5;
}
async function f3(t5, r4, o7) {
  const n12 = t5?.viewpoint?.targetGeometry;
  if (n12) return null;
  const i12 = await y2(t5, r4, o7);
  if (!i12) return null;
  return new m3({ targetGeometry: i12 });
}
async function y2(e7, t5, r4) {
  const n12 = e7?.spatialReference, i12 = t5?.extent;
  if (!n12 || !i12) return null;
  if (n12.isWGS84) return i12.clone();
  if (n12.isWebMercator) return j2(i12);
  const { getGeometryServiceURL: p17 } = await import("./geometryServiceUtils-IXHCDX5A.js");
  try {
    const e8 = await p17(t5), r5 = new p2({ geometries: [i12], outSpatialReference: n12 });
    return (await n2(e8, r5))[0];
  } catch (l10) {
    r4.error("Error projecting item's extent:", l10);
  }
  return null;
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writePolicyUtils.js
function e6(e7) {
  return { enabled: !!e7?.length };
}

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchLayerField.js
var c4;
var a8 = c4 = class extends l {
  constructor(o7) {
    super(o7), this.exactMatch = false, this.name = null, this.type = null;
  }
  clone() {
    return new c4({ exactMatch: this.exactMatch, type: this.type, name: this.name });
  }
};
r([m({ type: Boolean, json: { write: true } })], a8.prototype, "exactMatch", void 0), r([m({ type: String, json: { write: true } })], a8.prototype, "name", void 0), r([r3(i2)], a8.prototype, "type", void 0), a8 = c4 = r([a2("esri.webdoc.applicationProperties.SearchLayerField")], a8);
var i6 = a8;

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchLayer.js
var c5;
var a9 = c5 = class extends l {
  constructor(r4) {
    super(r4), this.field = null, this.id = null, this.subLayer = null;
  }
  clone() {
    return new c5(a({ field: this.field, id: this.id, subLayer: this.subLayer }));
  }
};
r([m({ type: i6, json: { write: { isRequired: true } } })], a9.prototype, "field", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], a9.prototype, "id", void 0), r([m({ type: x, json: { write: true } })], a9.prototype, "subLayer", void 0), a9 = c5 = r([a2("esri.webdoc.applicationProperties.SearchLayer")], a9);
var u5 = a9;

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchTableField.js
var c6;
var a10 = c6 = class extends l {
  constructor(o7) {
    super(o7), this.exactMatch = false, this.name = null, this.type = null;
  }
  clone() {
    return new c6({ exactMatch: this.exactMatch, type: this.type, name: this.name });
  }
};
r([m({ type: Boolean, json: { write: true } })], a10.prototype, "exactMatch", void 0), r([m({ type: String, json: { write: true } })], a10.prototype, "name", void 0), r([r3(i2)], a10.prototype, "type", void 0), a10 = c6 = r([a2("esri.webdoc.applicationProperties.SearchTableField")], a10);
var i7 = a10;

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchTable.js
var p5;
var c7 = p5 = class extends l {
  constructor(r4) {
    super(r4), this.field = null, this.id = null;
  }
  clone() {
    return new p5(a({ field: this.field, id: this.id }));
  }
};
r([m({ type: i7, json: { write: { isRequired: true } } })], c7.prototype, "field", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], c7.prototype, "id", void 0), c7 = p5 = r([a2("esri.webdoc.applicationProperties.SearchTable")], c7);
var l6 = c7;

// node_modules/@arcgis/core/webdoc/applicationProperties/Search.js
var p6;
var b2 = V.ofType(u5);
var h2 = V.ofType(l6);
var m7 = p6 = class extends l {
  constructor(e7) {
    super(e7), this.addressSearchEnabled = true, this.enabled = true, this.hintText = null, this.layers = new b2(), this.tables = new h2();
  }
  readAddressSearchEnabled(e7) {
    return !e7;
  }
  writeAddressSearchEnabled(e7, r4, o7) {
    r4[o7] = !e7;
  }
  clone() {
    return new p6(a({ addressSearchEnabled: this.addressSearchEnabled, enabled: this.enabled, hintText: this.hintText, layers: this.layers, tables: this.tables }));
  }
};
r([m({ type: Boolean, nonNullable: true, json: { read: { source: "disablePlaceFinder" }, write: { target: "disablePlaceFinder", isRequired: true }, origins: { "web-scene": { read: false, write: false } } } })], m7.prototype, "addressSearchEnabled", void 0), r([o("addressSearchEnabled")], m7.prototype, "readAddressSearchEnabled", null), r([r2("addressSearchEnabled")], m7.prototype, "writeAddressSearchEnabled", null), r([m({ type: Boolean, nonNullable: true, json: { write: true, origins: { "web-map": { write: { isRequired: true } }, "web-scene": { default: true, write: true } } } })], m7.prototype, "enabled", void 0), r([m({ type: String, json: { write: true } })], m7.prototype, "hintText", void 0), r([m({ type: b2, json: { write: { overridePolicy: e6 }, origins: { "web-scene": { write: { isRequired: true } } } } })], m7.prototype, "layers", void 0), r([m({ type: h2, json: { read: true, write: { overridePolicy: e6 } } })], m7.prototype, "tables", void 0), m7 = p6 = r([a2("esri.webdoc.applicationProperties.Search")], m7);
var y3 = m7;

// node_modules/@arcgis/core/webdoc/applicationProperties/Viewing.js
var p7;
var a11 = p7 = class extends l {
  constructor(r4) {
    super(r4), this.search = null;
  }
  clone() {
    return new p7(a({ search: this.search }));
  }
};
r([m({ type: y3, json: { write: true } })], a11.prototype, "search", void 0), a11 = p7 = r([a2("esri.webdoc.applicationProperties.Viewing")], a11);
var i8 = a11;

// node_modules/@arcgis/core/webmap/ApplicationProperties.js
var p8;
var n7 = p8 = class extends l {
  constructor(o7) {
    super(o7), this.editing = null, this.offline = null, this.viewing = null;
  }
  clone() {
    return new p8(a({ editing: this.editing, offline: this.offline, viewing: this.viewing }));
  }
};
r([m({ json: { write: true } })], n7.prototype, "editing", void 0), r([m({ json: { write: true } })], n7.prototype, "offline", void 0), r([m({ type: i8, json: { write: true } })], n7.prototype, "viewing", void 0), n7 = p8 = r([a2("esri.webmap.ApplicationProperties")], n7);
var c8 = n7;

// node_modules/@arcgis/core/webdoc/support/SlideThumbnail.js
var p9;
var u6 = p9 = class extends l {
  constructor() {
    super(...arguments), this.url = "";
  }
  destroy() {
    this.url = "";
  }
  get isSecureUrl() {
    return dt(this.url);
  }
  get isDataURI() {
    return tt(this.url);
  }
  clone() {
    return new p9({ url: this.url });
  }
};
r([m({ type: String, json: { write: { isRequired: true } } })], u6.prototype, "url", void 0), r([m()], u6.prototype, "isSecureUrl", null), r([m()], u6.prototype, "isDataURI", null), u6 = p9 = r([a2("esri.webdoc.support.SlideThumbnail")], u6);

// node_modules/@arcgis/core/webdoc/support/timeProperties.js
var o4 = { type: u2, json: { read: { source: "timeExtent", reader: (e7) => e7 ? Array.isArray(e7) ? u2.fromArray(e7) : u2.fromJSON(e7) : null }, write: { writer: (r4, t5, s8, o7) => {
  r4 && (r4.isEmpty ? o7?.messages && o7.messages.push(new s("invalid-timeExtent", "TimeExtent cannot be empty")) : t5[s8] = r4.toArray());
}, target: { timeExtent: { type: [[x, D]] } } } } };

// node_modules/@arcgis/core/webmap/Bookmark.js
var h3;
var f4 = h3 = class extends n.IdentifiableMixin(l) {
  constructor(t5) {
    super(t5), this.name = null, this.thumbnail = new u6(), this.timeExtent = null;
  }
  castThumbnail(t5) {
    return "string" == typeof t5 ? new u6({ url: t5 }) : w(u6, t5);
  }
  set viewpoint(t5) {
    const { targetGeometry: e7, scale: o7 } = t5;
    null != e7 && "point" === e7.type && null == o7 && i.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.", t5), this._set("viewpoint", t5);
  }
  readViewpoint(t5, o7) {
    const { extent: r4, viewpoint: i12 } = o7;
    return m3.fromJSON(i12 || { targetGeometry: r4 });
  }
  writeViewpoint(t5, e7, r4, i12) {
    if (!t5) return;
    const { targetGeometry: n12 } = t5;
    if (null == n12 || "extent" === n12.type) null != n12 && (e7.extent = n12.toJSON()), e7[r4] = t5.toJSON();
    else {
      const t6 = "Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";
      i12?.messages ? i12.messages.push(new s("property:unsupported", t6)) : i.getLogger(this).error(t6);
    }
  }
  clone() {
    return new h3(a({ name: this.name, thumbnail: this.thumbnail, timeExtent: this.timeExtent, viewpoint: this.viewpoint }));
  }
};
r([m({ type: String, nonNullable: true, json: { write: { isRequired: true } } })], f4.prototype, "name", void 0), r([m({ type: u6, json: { write: { overridePolicy: (t5) => ({ enabled: !(!t5 || !t5.url) }) } } })], f4.prototype, "thumbnail", void 0), r([s2("thumbnail")], f4.prototype, "castThumbnail", null), r([m(o4)], f4.prototype, "timeExtent", void 0), r([m({ type: m3, nonNullable: true, json: { write: true } })], f4.prototype, "viewpoint", null), r([o("viewpoint", ["extent", "viewpoint"])], f4.prototype, "readViewpoint", null), r([r2("viewpoint")], f4.prototype, "writeViewpoint", null), f4 = h3 = r([a2("esri.webmap.Bookmark")], f4);
var y4 = f4;

// node_modules/@arcgis/core/webmap/InitialViewProperties.js
var l7 = class extends a3.ClonableMixin(b) {
  constructor(o7) {
    super(o7), this.background = null, this.rangeInfo = null, this.spatialReference = null, this.timeExtent = null, this.timeZone = e3, this.viewpoint = null;
  }
};
r([m({ type: m4 })], l7.prototype, "background", void 0), r([m({ type: c })], l7.prototype, "rangeInfo", void 0), r([m({ type: f })], l7.prototype, "spatialReference", void 0), r([m({ type: u2 })], l7.prototype, "timeExtent", void 0), r([m({ nonNullable: true })], l7.prototype, "timeZone", void 0), r([m({ type: m3 })], l7.prototype, "viewpoint", void 0), l7 = r([a2("esri.webmap.InitialViewProperties")], l7);
var f5 = l7;

// node_modules/@arcgis/core/WebDocument2D.js
var J = V.ofType(y4);
var M = /* @__PURE__ */ new Map([["image/jpeg", "jpeg"], ["image/jpg", "jpg"], ["image/png", "png"], ["image/gif", "gif"]]);
var Z = "ArcGIS Pro";
var W = E.JSAPI;
var $ = class extends S(p.LoadableMixin(m2.EsriPromiseMixin(L2))) {
  constructor(e7) {
    super(e7), this._isAuthoringAppSetByUser = false, this._isAuthoringAppVersionSetByUser = false, this._thumbnailFilename = null, this._updateFromPromise = null, this.resourceReferences = { portalItem: null, paths: [] }, this.applicationProperties = null, this.bookmarks = new J(), this.floorInfo = null, this.initialViewProperties = new f5(), this.portalItem = null, this.sourceVersion = null, this.widgets = null, this._debouncedSaveOperations = k(async (e8, t5, r4) => {
      const { save: i12, saveAs: o7 } = await import("./webdocSaveUtils-ULOXYDWB.js");
      switch (e8) {
        case A.SAVE:
          return i12(this.context, this, t5);
        case A.SAVE_AS:
          return o7(this.context, this, r4, t5);
      }
    }), this.authoringApp = this.authoringAppVersion = null, this._isAuthoringAppSetByUser = this._isAuthoringAppVersionSetByUser = false;
  }
  destroy() {
    this.portalItem = u(this.portalItem);
  }
  initialize() {
    if (this.when().catch((e7) => {
      i.getLogger(this).error("#load()", "Failed to load web map", e7);
    }), this.resourceInfo) {
      let t5;
      try {
        t5 = this._validateJSON(this.resourceInfo);
      } catch (e7) {
        return void this.addResolvingPromise(Promise.reject(e7));
      }
      this.read(t5);
    }
  }
  set authoringApp(e7) {
    this._isAuthoringAppSetByUser = true, this._set("authoringApp", e7);
  }
  writeAuthoringApp(e7, t5) {
    e7 && this._isAuthoringAppSetByUser ? t5.authoringApp = e7 : t5.authoringApp = W;
  }
  set authoringAppVersion(e7) {
    this._isAuthoringAppVersionSetByUser = true, this._set("authoringAppVersion", e7);
  }
  writeAuthoringAppVersion(e7, r4) {
    e7 && this._isAuthoringAppVersionSetByUser ? r4.authoringAppVersion = e7 : r4.authoringAppVersion = e2;
  }
  readInitialViewProperties(e7, t5) {
    const r4 = new f5();
    t5.background && (r4.background = m4.fromJSON(t5.background));
    const o7 = t5.initialState?.timeExtent;
    o7 && (r4.timeExtent = u2.fromArray(o7));
    const s8 = t5.initialState?.viewpoint;
    if (s8) {
      if (s8.rotation) {
        s3.parse(t5.version || "", "webmap").lessThan(2, 20) && t5.authoringApp === Z && (s8.rotation *= -1);
      }
      r4.viewpoint = m3.fromJSON(s8);
    }
    return t5.mapRangeInfo && (r4.rangeInfo = c.fromJSON(t5.mapRangeInfo)), t5.spatialReference && (r4.spatialReference = f.fromJSON(t5.spatialReference)), t5.timeZone && (r4.timeZone = t5.timeZone), r4;
  }
  writeInitialViewProperties(e7, t5, r4, i12) {
    if (!e7) return;
    e7.background?.color && (t5.background = e7.background.write({}, i12));
    const { timeExtent: o7, viewpoint: s8 } = e7;
    if (s8 || o7) {
      const e8 = {};
      s8 && (e8.viewpoint = s8.write({}, i12)), o7 && (e8.timeExtent = o7.toArray()), t5.initialState = e8;
    }
    e7.rangeInfo && (t5.mapRangeInfo = e7.rangeInfo.toJSON(i12)), e7.spatialReference && (t5.spatialReference = e7.spatialReference.write({}, i12)), t5.timeZone = e7.timeZone;
  }
  writeLayers(e7, t5, r4, i12) {
    t5[r4] = this._writeLayers(e7, i12, "operational-layers");
  }
  readSourceVersion(e7, t5) {
    const [r4, i12] = t5.version.split(".");
    return new s3(parseInt(r4, 10), parseInt(i12, 10));
  }
  writeSourceVersion(e7, t5, r4) {
    t5[r4] = `${this.context.currentVersion.major}.${this.context.currentVersion.minor}`;
  }
  writeTables(e7, t5, r4, i12) {
    const o7 = this._writeLayers(e7, i12, "tables");
    o7.length && (t5[r4] = o7);
  }
  get thumbnailUrl() {
    return this.portalItem?.thumbnailUrl || null;
  }
  set thumbnailUrl(e7) {
    e7 ? (this._override("thumbnailUrl", e7), this._thumbnailFilename = this._generateCustomThumbnailFilename(e7)) : this._clearThumbnailOverride();
  }
  get updatingFromView() {
    return !!this._updateFromPromise;
  }
  load(e7) {
    return this.addResolvingPromise(p4(this.context, this)), Promise.resolve(this);
  }
  loadAll() {
    return t(this, (e7) => {
      e7(this.ground, this.basemap, this.layers, this.tables);
    });
  }
  read(e7, t5) {
    t5 = { ...t5, origin: this.context.origin };
    const r4 = this._getAuthoringPropsState();
    d(this, e7, (t6) => super.read(e7, t6), t5), this._restoreAuthoringPropsFromState(r4);
  }
  write(e7, t5) {
    if ("loaded" !== this.loadStatus) {
      const e8 = new s("webmap:not-loaded", "Web map must be loaded before it can be serialized");
      throw i.getLogger(this).error("#toJSON()", "Web map must be loaded before it can be serialized", this.loadError || this.loadStatus), e8;
    }
    return this._removeDanglingLayerRefs(), t5 = { ...t5, origin: this.context.origin, restrictedWebMapWriting: true, webmap: this }, super.write(e7, t5);
  }
  async save(e7) {
    return this._debouncedSaveOperations(A.SAVE, e7);
  }
  async saveAs(e7, t5) {
    return this._debouncedSaveOperations(A.SAVE_AS, t5, e7);
  }
  async updateFrom(e7, t5) {
    const r4 = this._updateFromInternal(e7, t5);
    this._updateFromPromise = r4, await r4;
    r4 === this._updateFromPromise && (this._updateFromPromise = null);
  }
  getLayerJSONFromResourceInfo(e7) {
    const t5 = this.resourceInfo;
    return this._collectAllLayersJSON([...t5?.baseMap?.baseMapLayers || [], ...t5?.operationalLayers || [], ...this.basemap?.resourceInfo?.data?.baseMapLayers || []]).find((t6) => t6.id === e7.id);
  }
  async updateItemThumbnail() {
    this.thumbnailUrl && this._isOverridden("thumbnailUrl") && (await this.portalItem?.updateThumbnail({ thumbnail: this.thumbnailUrl, filename: this._thumbnailFilename }), this._clearThumbnailOverride());
  }
  getThumbnailState() {
    let e7 = this.thumbnailUrl;
    return e7 && (e7 = this._isOverridden("thumbnailUrl") ? e7 : Bt(e7, "w", "8192")), { thumbnailUrl: e7, filename: this._thumbnailFilename };
  }
  restoreThumbnailFromState(e7) {
    this.thumbnailUrl = e7.thumbnailUrl, this._thumbnailFilename = e7.filename;
  }
  _collectAllLayersJSON(e7) {
    return e7.reduce((e8, t5) => (e8.push(t5), "GroupLayer" === t5.layerType && (e8 = e8.concat(this._collectAllLayersJSON(t5.layers || []))), e8), []);
  }
  _writeLayers(e7, t5, r4) {
    t5 = { ...t5, layerContainerType: r4 };
    return e7.map((e8) => g(e8, "tables" === r4 ? null : this.getLayerJSONFromResourceInfo(e8), t5)).filter(L).toArray();
  }
  _validateJSON(e7) {
    const t5 = s3.parse(e7.version || "", "webmap");
    return this.context.currentVersion.validate(t5), e7.version = `${t5.major}.${t5.minor}`, e7;
  }
  _removeDanglingLayerRefs() {
    const e7 = this.applicationProperties, t5 = e7?.viewing?.search, r4 = (e8) => this.allLayers.some((t6) => t6.id === e8);
    if (t5?.layers && (t5.layers = t5.layers.filter((e8) => r4(e8.id))), t5?.tables && (t5.tables = t5.tables.filter((e8) => this.tables.some((t6) => t6.id === e8.id))), e7) {
      const t6 = e7.editing?.locationTracking;
      t6?.info && !r4(t6.info.layerId) && (e7.editing = null);
    }
    const i12 = "presentation" in this ? this.presentation : null, o7 = i12?.slides;
    o7 && o7.forEach((e8) => {
      e8.visibleLayers && (e8.visibleLayers = e8.visibleLayers.filter((e9) => r4(e9.id)));
    });
  }
  async _updateFromInternal(e7, t5) {
    if (t5 ??= {}, await j(() => e7.ready), this._updateInitialViewProperties(e7, t5), e7.map === this) for (const r4 of e7.allLayerViews) "visible" in r4 && "visible" in r4.layer && r4._isOverridden("visible") && (r4.layer.visible = r4.visible), "featureEffect" in r4 && "featureEffect" in r4.layer && r4._isOverridden("featureEffect") && (r4.layer.featureEffect = r4.featureEffect);
    await this._updateThumbnailUrl(e7, t5);
  }
  _updateInitialViewProperties(e7, t5) {
    if (t5.backgroundExcluded || (this.initialViewProperties.background = e7.background?.clone()), this.initialViewProperties.spatialReference = e7.spatialReference?.clone(), this.initialViewProperties.timeZone = e7.timeZone, t5.viewpointExcluded || (this.initialViewProperties.viewpoint = new m3({ rotation: e7.rotation, scale: t5.scalePreserved ? e7.scale : null, targetGeometry: this._getViewExtent(e7) })), !t5.widgetsExcluded) for (const r4 of e7.persistableViewModels) r4.updateWebDocument(this);
  }
  _getViewExtent(e7) {
    const t5 = e7.center.clone().normalize(), r4 = e7.extent.clone(), i12 = r4.width / 2;
    return r4.xmin = t5.x - i12, r4.xmax = t5.x + i12, r4;
  }
  async _updateThumbnailUrl(e7, t5) {
    if (t5.thumbnailExcluded) return;
    const r4 = i5(e7, t5.thumbnailSize), i12 = await e7.takeScreenshot({ format: "png", width: r4.width, height: r4.height });
    this._setAutoGeneratedThumbnail(i12.dataUrl);
  }
  _setAutoGeneratedThumbnail(e7) {
    this.thumbnailUrl = e7, this._thumbnailFilename = null;
  }
  _clearThumbnailOverride() {
    this._clearOverride("thumbnailUrl"), this.clear("thumbnailUrl", "user"), this._thumbnailFilename = null;
  }
  _generateCustomThumbnailFilename(e7) {
    if (tt(e7)) {
      const t5 = ot(e7), r4 = t5?.mediaType, i12 = r4 && M.get(r4.toLowerCase()) || null, o7 = `thumbnail${Date.now()}`;
      return i12 ? `${o7}.${i12}` : o7;
    }
    return null;
  }
  _getAuthoringPropsState() {
    return { authoringApp: this.authoringApp, authoringAppVersion: this.authoringAppVersion, isAuthoringAppSetByUser: this._isAuthoringAppSetByUser, isAuthoringAppVersionSetByUser: this._isAuthoringAppVersionSetByUser };
  }
  _restoreAuthoringPropsFromState(e7) {
    e7.isAuthoringAppSetByUser ? this.authoringApp = e7.authoringApp : this._isAuthoringAppSetByUser = false, e7.isAuthoringAppVersionSetByUser ? this.authoringAppVersion = e7.authoringAppVersion : this._isAuthoringAppVersionSetByUser = false;
  }
};
r([m()], $.prototype, "_updateFromPromise", void 0), r([m({ type: c8, json: { write: true } })], $.prototype, "applicationProperties", void 0), r([m({ type: String, json: { write: { allowNull: true, ignoreOrigin: true } } })], $.prototype, "authoringApp", null), r([r2("authoringApp")], $.prototype, "writeAuthoringApp", null), r([m({ type: String, json: { write: { allowNull: true, ignoreOrigin: true } } })], $.prototype, "authoringAppVersion", null), r([r2("authoringAppVersion")], $.prototype, "writeAuthoringAppVersion", null), r([m({ type: J, json: { write: { overridePolicy: (e7) => ({ enabled: !!(e7 && e7.length > 0), ignoreOrigin: true }) } } })], $.prototype, "bookmarks", void 0), r([m({ type: l3, json: { name: "mapFloorInfo", write: true } })], $.prototype, "floorInfo", void 0), r([m({ type: f5, nonNullable: true, json: { read: { source: ["background", "initialState.timeExtent", "initialState.viewpoint", "mapRangeInfo", "spatialReference", "timeZone"] }, write: { ignoreOrigin: true, target: { background: { type: m4 }, "initialState.timeExtent": { type: u2 }, "initialState.viewpoint": { type: m3 }, mapRangeInfo: { type: c }, spatialReference: { type: f }, "timeZone:": { type: String } } } } })], $.prototype, "initialViewProperties", void 0), r([o("initialViewProperties")], $.prototype, "readInitialViewProperties", null), r([r2("initialViewProperties")], $.prototype, "writeInitialViewProperties", null), r([m({ json: { read: false, write: { target: "operationalLayers", ignoreOrigin: true } } })], $.prototype, "layers", void 0), r([r2("layers")], $.prototype, "writeLayers", null), r([m({ type: k2 })], $.prototype, "portalItem", void 0), r([m()], $.prototype, "resourceInfo", void 0), r([m({ readOnly: true, type: s3, json: { read: { source: "version" }, write: { allowNull: true, ignoreOrigin: true, target: "version", isRequired: true } } })], $.prototype, "sourceVersion", void 0), r([o("sourceVersion")], $.prototype, "readSourceVersion", null), r([r2("sourceVersion")], $.prototype, "writeSourceVersion", null), r([m({ json: { read: false, write: { ignoreOrigin: true } } })], $.prototype, "tables", void 0), r([r2("tables")], $.prototype, "writeTables", null), r([m()], $.prototype, "thumbnailUrl", null), r([m()], $.prototype, "updatingFromView", null), r([m({ type: n6, json: { write: true } })], $.prototype, "widgets", void 0), $ = r([a2("esri.WebDocument2D")], $);
var C2 = $;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/ExpressionInfo.js
var i9 = class extends a3.ClonableMixin(l) {
  constructor(r4) {
    super(r4), this.expression = null, this.returnType = "string", this.title = null;
  }
};
r([m({ type: String, json: { write: { isRequired: true } } })], i9.prototype, "expression", void 0), r([m({ type: ["number", "string"], json: { write: true } })], i9.prototype, "returnType", void 0), r([m({ type: String, json: { write: true } })], i9.prototype, "title", void 0), i9 = r([a2("esri.webdoc.geotriggersInfo.ExpressionInfo")], i9);
var p10 = i9;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/DeviceLocationFeed.js
var c9 = new o2({ deviceLocation: "device-location" });
var n8 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.filterExpression = null, this.type = "device-location";
  }
};
r([m({ type: p10, json: { write: true } })], n8.prototype, "filterExpression", void 0), r([m({ type: c9.apiValues, readOnly: true, json: { type: c9.jsonValues, read: c9.read, write: c9.write } })], n8.prototype, "type", void 0), n8 = r([a2("esri.webdoc.geotriggersInfo.DeviceLocationFeed")], n8);
var a12 = n8;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FeatureFilter.js
var m8 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.geometry = null, this.where = null;
  }
};
r([m({ types: l2, json: { read: f2, write: true } })], m8.prototype, "geometry", void 0), r([m({ type: String, json: { write: true } })], m8.prototype, "where", void 0), m8 = r([a2("esri.webdoc.geotriggersInfo.FeatureFilter")], m8);
var c10 = m8;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FeatureLayerSource.js
var a13 = class extends a3.ClonableMixin(l) {
  constructor(r4) {
    super(r4), this.layerId = null, this.layerUrl = null, this.type = "feature-layer";
  }
};
r([m({ type: String, json: { write: { overridePolicy() {
  return { isRequired: null === this.layerUrl };
} } } })], a13.prototype, "layerId", void 0), r([m({ type: String, json: { write: { overridePolicy() {
  return { isRequired: null === this.layerId };
} } } })], a13.prototype, "layerUrl", void 0), r([r3({ featureLayer: "feature-layer" }, { readOnly: true })], a13.prototype, "type", void 0), a13 = r([a2("esri.webdoc.geotriggersInfo.FeatureLayerSource")], a13);
var l8 = a13;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FeatureFenceParameters.js
var a14 = class extends a3.ClonableMixin(l) {
  constructor(e7) {
    super(e7), this.fenceSource = null, this.filter = null, this.bufferDistance = null, this.type = "features";
  }
};
r([m({ type: l8, json: { write: { isRequired: true } } })], a14.prototype, "fenceSource", void 0), r([m({ type: c10, json: { write: true } })], a14.prototype, "filter", void 0), r([m({ type: Number, json: { write: true } })], a14.prototype, "bufferDistance", void 0), r([r3({ features: "features" }, { readOnly: true })], a14.prototype, "type", void 0), a14 = r([a2("esri.webdoc.geotriggersInfo.FeatureFenceParameters")], a14);
var u7 = a14;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/Geotrigger.js
var c11 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.type = "fence";
  }
};
r([r3({ fence: "fence" }, { readOnly: true })], c11.prototype, "type", void 0), c11 = r([a2("esri.webdoc.geotriggersInfo.Geotrigger")], c11);
var p11 = c11;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/GeotriggerNotificationOptions.js
var p12 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.expressionInfo = null, this.requestedActions = null;
  }
};
r([m({ type: p10, json: { write: true } })], p12.prototype, "expressionInfo", void 0), r([m({ type: [String], json: { write: true } })], p12.prototype, "requestedActions", void 0), p12 = r([a2("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")], p12);
var n9 = p12;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/support/typeUtils.js
var t4 = new o2({ enterContainsAndExitDoesNotContain: "enter-contains-and-exit-does-not-contain", enterContainsAndExitDoesNotIntersect: "enter-contains-and-exit-does-not-intersect", enterIntersectsAndExitDoesNotIntersect: "enter-intersects-and-exit-does-not-intersect" });
var n10 = new o2({ useGeometry: "use-geometry", useGeometryWithAccuracy: "use-geometry-with-accuracy" });
var o5 = new o2({ enter: "enter", enterOrExit: "enter-or-exit", exit: "exit" });

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FenceGeotrigger.js
var m9 = class extends p11 {
  constructor(e7) {
    super(e7), this.enterExitRule = "enter-contains-and-exit-does-not-intersect", this.feed = null, this.feedAccuracyMode = "use-geometry", this.fenceNotificationRule = null, this.fenceParameters = null, this.name = null, this.notificationOptions = null, this.type = "fence";
  }
};
r([r3(t4)], m9.prototype, "enterExitRule", void 0), r([m({ type: a12, json: { write: { isRequired: true } } })], m9.prototype, "feed", void 0), r([r3(n10)], m9.prototype, "feedAccuracyMode", void 0), r([m({ type: o5.apiValues, json: { type: o5.jsonValues, read: o5.read, write: { writer: o5.write, isRequired: true } } })], m9.prototype, "fenceNotificationRule", void 0), r([m({ type: u7, json: { write: { isRequired: true } } })], m9.prototype, "fenceParameters", void 0), r([m({ type: String, json: { write: true } })], m9.prototype, "name", void 0), r([m({ type: n9, json: { write: true } })], m9.prototype, "notificationOptions", void 0), r([r3({ fence: "fence" }, { readOnly: true })], m9.prototype, "type", void 0), m9 = r([a2("esri.webdoc.geotriggersInfo.FenceGeotrigger")], m9);
var u8 = m9;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/support/geotriggerTypes.js
var o6 = { base: p11, key: "type", typeMap: { fence: u8 } };

// node_modules/@arcgis/core/webdoc/GeotriggersInfo.js
var i10 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.geotriggers = null;
  }
};
r([m({ types: [o6], json: { write: { isRequired: true } } })], i10.prototype, "geotriggers", void 0), i10 = r([a2("esri.webdoc.GeotriggersInfo")], i10);
var c12 = i10;

// node_modules/@arcgis/core/webdoc/ips/AppleIPSProperties.js
var p13 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.enabled = true;
  }
};
r([m({ type: Boolean, nonNullable: true, json: { write: true } })], p13.prototype, "enabled", void 0), p13 = r([a2("esri.webdoc.ips.AppleIPSProperties")], p13);
var c13 = p13;

// node_modules/@arcgis/core/webdoc/ips/GNSSProperties.js
var p14 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.enabled = true;
  }
};
r([m({ type: Boolean, nonNullable: true, json: { write: true } })], p14.prototype, "enabled", void 0), p14 = r([a2("esri.webdoc.ips.GNSSProperties")], p14);
var c14 = p14;

// node_modules/@arcgis/core/webdoc/ips/PathSnappingProperties.js
var p15 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.enabled = true, this.distance = 5, this.units = "meter";
  }
};
r([m({ type: Boolean, nonNullable: true, json: { write: true } })], p15.prototype, "enabled", void 0), r([m({ type: Number, nonNullable: true, json: { write: true } })], p15.prototype, "distance", void 0), r([m({ type: ["feet", "meter"], nonNullable: true, json: { write: true } })], p15.prototype, "units", void 0), p15 = r([a2("esri.webdoc.ips.PathSnappingProperties")], p15);
var i11 = p15;

// node_modules/@arcgis/core/webdoc/ips/SmoothingProperties.js
var p16 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.enabled = true;
  }
};
r([m({ type: Boolean, nonNullable: true, json: { write: true } })], p16.prototype, "enabled", void 0), p16 = r([a2("esri.webdoc.ips.SmoothingProperties")], p16);
var c15 = p16;

// node_modules/@arcgis/core/webdoc/ips/Configuration.js
var a15 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.appleIPS = null, this.gnss = null, this.smoothing = null, this.pathSnapping = null;
  }
};
r([m({ type: c13, json: { name: "AppleIPS", write: true } })], a15.prototype, "appleIPS", void 0), r([m({ type: c14, json: { name: "GNSS", write: true } })], a15.prototype, "gnss", void 0), r([m({ type: c15, json: { write: true } })], a15.prototype, "smoothing", void 0), r([m({ type: i11, json: { write: true } })], a15.prototype, "pathSnapping", void 0), a15 = r([a2("esri.webdoc.ips.Configuration")], a15);
var l9 = a15;

// node_modules/@arcgis/core/webdoc/ips/PositioningService.js
var a16 = class extends a3.ClonableMixin(l) {
  constructor(r4) {
    super(r4), this.portalItem = null;
  }
  readPortalItem(r4, o7, t5) {
    const { itemId: e7 } = o7;
    if (e7) return new k2({ id: e7, portal: t5?.portal });
  }
  writePortalItem(r4, o7) {
    r4?.id && (o7.itemId = r4.id);
  }
};
r([m({ type: k2, json: { write: { isRequired: true } } })], a16.prototype, "portalItem", void 0), r([o("portalItem", ["itemId"])], a16.prototype, "readPortalItem", null), r([r2("portalItem", { itemId: { type: String } })], a16.prototype, "writePortalItem", null), a16 = r([a2("esri.webdoc.ips.PositioningService")], a16);
var c16 = a16;

// node_modules/@arcgis/core/webdoc/IPSInfo.js
var c17 = class extends a3.ClonableMixin(l) {
  constructor(o7) {
    super(o7), this.positioningService = null, this.configuration = null;
  }
};
r([m({ type: c16, json: { write: { isRequired: true } } })], c17.prototype, "positioningService", void 0), r([m({ type: l9, json: { write: true } })], c17.prototype, "configuration", void 0), c17 = r([a2("esri.webdoc.IPSInfo")], c17);
var n11 = c17;

// node_modules/@arcgis/core/WebMap.js
var u9 = { currentVersion: n3, createInitialViewProperties: () => new f5(), parseVersion: s3.parse, itemType: "Web Map", name: "webmap", origin: "web-map" };
var w3 = V.ofType(w2);
var _a;
var y5 = (_a = class extends C2 {
  constructor(o7) {
    super(o7), this.geotriggersInfo = null, this.ipsInfo = null, this.presentation = null, this.utilityNetworks = null;
  }
  destroy() {
    if (this.utilityNetworks) {
      const o7 = this.utilityNetworks.removeAll();
      for (const t5 of o7) t5.destroy();
      this.utilityNetworks.destroy();
    }
  }
  get context() {
    return u9;
  }
  loadAll() {
    return t(this, (o7) => {
      o7(this.ground, this.basemap, this.layers, this.tables, this.ipsInfo?.positioningService?.portalItem);
    });
  }
  static fromJSON(o7) {
    if (o7) return new this({ resourceInfo: o7 });
    throw new s("webmap:empty-resource", "Expected a JSON resource but got nothing");
  }
}, _a.VERSION = n3, _a);
r([m({ type: c12, json: { write: true } })], y5.prototype, "geotriggersInfo", void 0), r([m({ type: n11, json: { write: true, name: "mapIPSInfo" } })], y5.prototype, "ipsInfo", void 0), r([m({ json: { write: true } })], y5.prototype, "presentation", void 0), r([m({ type: w3, json: { read: true, write: true } })], y5.prototype, "utilityNetworks", void 0), y5 = r([a2("esri.WebMap")], y5);
var j3 = y5;
export {
  j3 as default
};
//# sourceMappingURL=@arcgis_core_WebMap.js.map
