import {
  l as l2,
  m as m2
} from "./chunk-H6FTFYRV.js";
import {
  d,
  j as j2
} from "./chunk-7BUQKFTK.js";
import {
  e as e2
} from "./chunk-MULZ6YKT.js";
import {
  O,
  c,
  e
} from "./chunk-TE7YCJS2.js";
import {
  n2 as n
} from "./chunk-OP6LRQXD.js";
import "./chunk-NC6NRJ4L.js";
import "./chunk-IXG2DG4Y.js";
import "./chunk-N6DE36OW.js";
import "./chunk-BGHLEZHC.js";
import "./chunk-TTJN3FRZ.js";
import "./chunk-CZ5NAE7H.js";
import "./chunk-HOMBRYQA.js";
import "./chunk-BTHUW4N5.js";
import {
  K,
  L,
  k
} from "./chunk-NSP4EL24.js";
import "./chunk-KMSLUMO2.js";
import "./chunk-JZ3NYELE.js";
import "./chunk-UMUW6RKM.js";
import "./chunk-MTGGGPTM.js";
import "./chunk-H6ZVHKNF.js";
import "./chunk-YAXW2DL6.js";
import "./chunk-4AKMPOG7.js";
import "./chunk-GGULOQ2O.js";
import "./chunk-RKF6WUZT.js";
import "./chunk-QX6KAF46.js";
import "./chunk-IUEM4OPB.js";
import "./chunk-JPOU6HGW.js";
import "./chunk-PS57JJSG.js";
import "./chunk-D7ZFLOML.js";
import "./chunk-FV6ZNHFI.js";
import "./chunk-ZJQPHR3K.js";
import "./chunk-MFP3CAUX.js";
import "./chunk-EE3PXWPN.js";
import "./chunk-5LHHC3GS.js";
import "./chunk-XL6LITTU.js";
import "./chunk-T46EFUYJ.js";
import "./chunk-UQAF7QQZ.js";
import "./chunk-Y2UIZPKP.js";
import "./chunk-NQNWOZQX.js";
import "./chunk-WMZMBTHZ.js";
import "./chunk-XJWC7NCV.js";
import "./chunk-4TWBUXAH.js";
import "./chunk-7SZWPZRB.js";
import {
  h,
  j,
  l
} from "./chunk-LDV5WK2W.js";
import "./chunk-SDIBXPSJ.js";
import "./chunk-SDSNQWKE.js";
import "./chunk-NHSKLNWT.js";
import "./chunk-GR5Z7GPO.js";
import "./chunk-W5L4VHOE.js";
import "./chunk-BWSSIPNW.js";
import "./chunk-356T5UZN.js";
import {
  s as s2
} from "./chunk-MGG7YB43.js";
import "./chunk-LLGOMKTE.js";
import "./chunk-ZX7V5AZS.js";
import "./chunk-Y65WZQIV.js";
import {
  s
} from "./chunk-6CTJVQRL.js";
import "./chunk-BHG7PKE6.js";
import {
  b,
  m,
  r as r2
} from "./chunk-VM5L7KHF.js";
import {
  a2 as a
} from "./chunk-A36F4B3C.js";
import "./chunk-YG5HLUHA.js";
import {
  r
} from "./chunk-JBQ4B7X4.js";
import "./chunk-WZSLBQN7.js";
import "./chunk-DL6FZ7ZH.js";
import "./chunk-IA5FLB5V.js";
import "./chunk-MWAZW5EU.js";
import "./chunk-JNYZ3I5R.js";
import "./chunk-UR4HHZKS.js";
import "./chunk-FSAXKL5E.js";
import "./chunk-SUMI43CH.js";
import "./chunk-5HRTFQ6H.js";
import "./chunk-6ACTD4UJ.js";
import "./chunk-RH5Q3AVL.js";
import {
  i2 as i
} from "./chunk-VNH2FDEQ.js";
import "./chunk-EX5MO5LF.js";
import "./chunk-7DUTYOCL.js";
import "./chunk-GNMFMITH.js";

// node_modules/@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js
var g = class extends b {
  constructor(e4) {
    super(e4), this._basemapCache = {}, this._loadingProjectionEngine = false, this.nextBasemap = m2("hybrid", this._basemapCache), this.view = null;
  }
  initialize() {
    l(() => this.nextBasemap, (e4) => {
      e4 && !e4.loaded && e4.load().catch(() => {
      });
    }, h);
  }
  destroy() {
    this.view = null, l2(this._basemapCache), this._basemapCache = null;
  }
  get _nextBasemapSpatialReferenceTask() {
    return d(this.view, this.nextBasemap);
  }
  get _viewSpatialReferenceLocked() {
    const { view: e4 } = this;
    return !e4 || !("spatialReferenceLocked" in e4) || e4.spatialReferenceLocked;
  }
  get activeBasemap() {
    return m2(this.view?.map?.basemap ?? "topo-vector", this._basemapCache);
  }
  castNextBasemap(e4) {
    return m2(e4, this._basemapCache);
  }
  get state() {
    const { view: e4 } = this;
    if (!e4?.ready) return "disabled";
    if (this._nextBasemapSpatialReferenceTask.updating) return "disabled";
    const { spatialReference: a3 } = this._nextBasemapSpatialReferenceTask;
    return this._viewSpatialReferenceLocked && null != a3 && !e4.spatialReference.equals(a3) ? "incompatible-next-basemap" : this._loadingProjectionEngine ? "loading" : "ready";
  }
  async toggle() {
    const { activeBasemap: e4, nextBasemap: a3, state: t, view: s3 } = this;
    if (!s3 || "disabled" === t || "incompatible-next-basemap" === t) return;
    const r3 = this._viewSpatialReferenceLocked;
    if (!r3) {
      if (await j(() => !this._nextBasemapSpatialReferenceTask.updating), a3 !== this.nextBasemap || e4 !== this.activeBasemap) return;
      const { spatialReference: t2 } = this._nextBasemapSpatialReferenceTask;
      if (null == t2 || s2(s3.spatialReference, t2) || k() || L(s3.spatialReference, t2) || (this._loadingProjectionEngine = true, await K(), this._loadingProjectionEngine = false), a3 !== this.nextBasemap || e4 !== this.activeBasemap) return;
    }
    s3.map.basemap = a3, r3 || null == this._nextBasemapSpatialReferenceTask.spatialReference || s2(s3.spatialReference, this._nextBasemapSpatialReferenceTask.spatialReference) || (s3.spatialReference = this._nextBasemapSpatialReferenceTask.spatialReference), this.nextBasemap = e4;
  }
  static getThumbnailUrl(e4) {
    return j2(e4);
  }
};
r([m()], g.prototype, "_loadingProjectionEngine", void 0), r([m({ readOnly: true })], g.prototype, "_nextBasemapSpatialReferenceTask", null), r([m({ readOnly: true })], g.prototype, "_viewSpatialReferenceLocked", null), r([m({ readOnly: true })], g.prototype, "activeBasemap", null), r([m()], g.prototype, "nextBasemap", void 0), r([s("nextBasemap")], g.prototype, "castNextBasemap", null), r([m({ readOnly: true })], g.prototype, "state", null), r([m()], g.prototype, "view", void 0), r([m()], g.prototype, "toggle", null), g = r([a("esri.widgets.BasemapToggle.BasemapToggleViewModel")], g);
var B = g;

// node_modules/@arcgis/core/widgets/BasemapToggle/css.js
var e3 = "esri-basemap-toggle";
var a2 = "esri-basemap-thumbnail";
var _ = { base: e3, secondaryBasemapImage: `${e3}__image--secondary`, container: `${a2} ${e3}__container`, image: `${a2}__image ${e3}__image`, imageLoading: `${e3}__image--loading`, overlay: `${a2}__overlay ${e3}__image-overlay`, title: `${a2}__title ${e3}__title`, overlayScrim: `${a2}__overlay-scrim` };

// node_modules/@arcgis/core/widgets/BasemapToggle.js
function u(e4) {
  const t = j2(e4);
  return t ? { backgroundImage: "url(" + t + ")" } : { backgroundImage: "" };
}
var v = { title: false };
var b2 = class extends O {
  constructor(e4, o) {
    super(e4, o), this.messages = null, this.viewModel = new B(), this.visibleElements = { ...v }, this.toggle = () => this.viewModel.toggle(), r2(i.getLogger(this), "Basemap Toggle", "arcgis-basemap-toggle", { version: "4.32" });
  }
  loadDependencies() {
    return c({ button: () => import("./calcite-button-OFQWUKMX.js"), icon: () => import("./calcite-icon-BMJFLAJW.js"), scrim: () => import("./calcite-scrim-PIHGVRNS.js") });
  }
  get activeBasemap() {
    return this.viewModel.activeBasemap;
  }
  get icon() {
    return "layer-basemap";
  }
  set icon(e4) {
    this._overrideIfSome("icon", e4);
  }
  get label() {
    return this.messages?.widgetLabel ?? "";
  }
  set label(e4) {
    this._overrideIfSome("label", e4);
  }
  get nextBasemap() {
    return this.viewModel.nextBasemap;
  }
  set nextBasemap(e4) {
    this.viewModel.nextBasemap = e4;
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e4) {
    this.viewModel.view = e4;
  }
  castVisibleElements(e4) {
    return { ...v, ...e4 };
  }
  render() {
    const e4 = this.viewModel, t = "disabled" === e4.state ? null : e4.activeBasemap, s3 = "disabled" === e4.state ? null : e4.nextBasemap, o = "loading" === e4.state, i2 = "incompatible-next-basemap" === e4.state, a3 = s3?.title ?? "", l3 = s3 && "loaded" !== s3.loadStatus;
    let r3;
    const n2 = this.visibleElements.title && a3, p = i2;
    return (n2 || p) && (r3 = n("div", { class: _.overlay, key: "overlay" }, n2 ? n("span", { class: _.title, title: a3 }, a3) : null, p ? n("calcite-scrim", { class: _.overlayScrim, title: this.messages.incompatibleSpatialReference }, n("calcite-icon", { icon: "exclamation-mark-triangle" })) : null)), n("div", { class: this.classes(_.base, e2.widget) }, n("calcite-button", { appearance: "transparent", "data-basemap-id": s3 ? s3.id : "", disabled: i2, kind: "neutral", label: this.label, onclick: () => {
      this.toggle();
    }, title: this.label }, n("div", { class: this.classes(_.container, _.secondaryBasemapImage) }, n("div", { class: _.image, styles: u(t) })), n("div", { class: _.container }, n("div", { class: this.classes(_.image, l3 ? _.imageLoading : null), styles: u(s3) }, l3 || o ? n("calcite-scrim", null, n("span", { "aria-hidden": "true", class: e2.loaderAnimation, role: "presentation" })) : null), r3)));
  }
};
r([m({ readOnly: true })], b2.prototype, "activeBasemap", null), r([m()], b2.prototype, "icon", null), r([m()], b2.prototype, "label", null), r([m(), e("esri/widgets/BasemapToggle/t9n/BasemapToggle")], b2.prototype, "messages", void 0), r([m()], b2.prototype, "nextBasemap", null), r([m()], b2.prototype, "view", null), r([m({ type: B })], b2.prototype, "viewModel", void 0), r([m()], b2.prototype, "visibleElements", void 0), r([s("visibleElements")], b2.prototype, "castVisibleElements", null), b2 = r([a("esri.widgets.BasemapToggle")], b2);
var h2 = b2;
export {
  h2 as default
};
//# sourceMappingURL=@arcgis_core_widgets_BasemapToggle.js.map
