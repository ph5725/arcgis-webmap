{
  "version": 3,
  "sources": ["../../@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js", "../../@arcgis/core/widgets/BasemapToggle/css.js", "../../@arcgis/core/widgets/BasemapToggle.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import a from\"../../core/Accessor.js\";import{watch as t,initial as s,whenOnce as i}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isLoaded as n,canProjectWithoutEngine as c,load as l}from\"../../geometry/projectionUtils.js\";import{equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{basemapEnsureType as h,destroyCache as f}from\"../../support/basemapEnsureType.js\";import{findSpatialReference as d,getBasemapThumbnailUrl as u}from\"../../support/basemapUtils.js\";let g=class extends a{constructor(e){super(e),this._basemapCache={},this._loadingProjectionEngine=!1,this.nextBasemap=h(\"hybrid\",this._basemapCache),this.view=null}initialize(){t((()=>this.nextBasemap),(e=>{e&&!e.loaded&&e.load().catch((()=>{}))}),s)}destroy(){this.view=null,f(this._basemapCache),this._basemapCache=null}get _nextBasemapSpatialReferenceTask(){return d(this.view,this.nextBasemap)}get _viewSpatialReferenceLocked(){const{view:e}=this;return!e||!(\"spatialReferenceLocked\"in e)||e.spatialReferenceLocked}get activeBasemap(){return h(this.view?.map?.basemap??\"topo-vector\",this._basemapCache)}castNextBasemap(e){return h(e,this._basemapCache)}get state(){const{view:e}=this;if(!e?.ready)return\"disabled\";if(this._nextBasemapSpatialReferenceTask.updating)return\"disabled\";const{spatialReference:a}=this._nextBasemapSpatialReferenceTask;return this._viewSpatialReferenceLocked&&null!=a&&!e.spatialReference.equals(a)?\"incompatible-next-basemap\":this._loadingProjectionEngine?\"loading\":\"ready\"}async toggle(){const{activeBasemap:e,nextBasemap:a,state:t,view:s}=this;if(!s||\"disabled\"===t||\"incompatible-next-basemap\"===t)return;const r=this._viewSpatialReferenceLocked;if(!r){if(await i((()=>!this._nextBasemapSpatialReferenceTask.updating)),a!==this.nextBasemap||e!==this.activeBasemap)return;const{spatialReference:t}=this._nextBasemapSpatialReferenceTask;if(null==t||m(s.spatialReference,t)||n()||c(s.spatialReference,t)||(this._loadingProjectionEngine=!0,await l(),this._loadingProjectionEngine=!1),a!==this.nextBasemap||e!==this.activeBasemap)return}s.map.basemap=a,r||null==this._nextBasemapSpatialReferenceTask.spatialReference||m(s.spatialReference,this._nextBasemapSpatialReferenceTask.spatialReference)||(s.spatialReference=this._nextBasemapSpatialReferenceTask.spatialReference),this.nextBasemap=e}static getThumbnailUrl(e){return u(e)}};e([r()],g.prototype,\"_loadingProjectionEngine\",void 0),e([r({readOnly:!0})],g.prototype,\"_nextBasemapSpatialReferenceTask\",null),e([r({readOnly:!0})],g.prototype,\"_viewSpatialReferenceLocked\",null),e([r({readOnly:!0})],g.prototype,\"activeBasemap\",null),e([r()],g.prototype,\"nextBasemap\",void 0),e([p(\"nextBasemap\")],g.prototype,\"castNextBasemap\",null),e([r({readOnly:!0})],g.prototype,\"state\",null),e([r()],g.prototype,\"view\",void 0),e([r()],g.prototype,\"toggle\",null),g=e([o(\"esri.widgets.BasemapToggle.BasemapToggleViewModel\")],g);const B=g;export{B as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst e=\"esri-basemap-toggle\",a=\"esri-basemap-thumbnail\",_={base:e,secondaryBasemapImage:`${e}__image--secondary`,container:`${a} ${e}__container`,image:`${a}__image ${e}__image`,imageLoading:`${e}__image--loading`,overlay:`${a}__overlay ${e}__image-overlay`,title:`${a}__title ${e}__title`,overlayScrim:`${a}__overlay-scrim`};export{_ as css};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{deprecateWidget as t}from\"../core/deprecate.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{cast as i}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{getBasemapThumbnailUrl as l}from\"../support/basemapUtils.js\";import r from\"./Widget.js\";import n from\"./BasemapToggle/BasemapToggleViewModel.js\";import{css as c}from\"./BasemapToggle/css.js\";import{loadCalciteComponents as p}from\"./support/componentsUtils.js\";import{globalCss as m}from\"./support/globalCss.js\";import\"./support/widgetUtils.js\";import{messageBundle as d}from\"./support/decorators/messageBundle.js\";import{tsx as g}from\"./support/jsxFactory.js\";function u(e){const t=l(e);return t?{backgroundImage:\"url(\"+t+\")\"}:{backgroundImage:\"\"}}const v={title:!1};let b=class extends r{constructor(e,o){super(e,o),this.messages=null,this.viewModel=new n,this.visibleElements={...v},this.toggle=()=>this.viewModel.toggle(),t(s.getLogger(this),\"Basemap Toggle\",\"arcgis-basemap-toggle\",{version:\"4.32\"})}loadDependencies(){return p({button:()=>import(\"@esri/calcite-components/dist/components/calcite-button\"),icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon\"),scrim:()=>import(\"@esri/calcite-components/dist/components/calcite-scrim\")})}get activeBasemap(){return this.viewModel.activeBasemap}get icon(){return\"layer-basemap\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get nextBasemap(){return this.viewModel.nextBasemap}set nextBasemap(e){this.viewModel.nextBasemap=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...v,...e}}render(){const e=this.viewModel,t=\"disabled\"===e.state?null:e.activeBasemap,s=\"disabled\"===e.state?null:e.nextBasemap,o=\"loading\"===e.state,i=\"incompatible-next-basemap\"===e.state,a=s?.title??\"\",l=s&&\"loaded\"!==s.loadStatus;let r;const n=this.visibleElements.title&&a,p=i;return(n||p)&&(r=g(\"div\",{class:c.overlay,key:\"overlay\"},n?g(\"span\",{class:c.title,title:a},a):null,p?g(\"calcite-scrim\",{class:c.overlayScrim,title:this.messages.incompatibleSpatialReference},g(\"calcite-icon\",{icon:\"exclamation-mark-triangle\"})):null)),g(\"div\",{class:this.classes(c.base,m.widget)},g(\"calcite-button\",{appearance:\"transparent\",\"data-basemap-id\":s?s.id:\"\",disabled:i,kind:\"neutral\",label:this.label,onclick:()=>{this.toggle()},title:this.label},g(\"div\",{class:this.classes(c.container,c.secondaryBasemapImage)},g(\"div\",{class:c.image,styles:u(t)})),g(\"div\",{class:c.container},g(\"div\",{class:this.classes(c.image,l?c.imageLoading:null),styles:u(s)},l||o?g(\"calcite-scrim\",null,g(\"span\",{\"aria-hidden\":\"true\",class:m.loaderAnimation,role:\"presentation\"})):null),r)))}};e([o({readOnly:!0})],b.prototype,\"activeBasemap\",null),e([o()],b.prototype,\"icon\",null),e([o()],b.prototype,\"label\",null),e([o(),d(\"esri/widgets/BasemapToggle/t9n/BasemapToggle\")],b.prototype,\"messages\",void 0),e([o()],b.prototype,\"nextBasemap\",null),e([o()],b.prototype,\"view\",null),e([o({type:n})],b.prototype,\"viewModel\",void 0),e([o()],b.prototype,\"visibleElements\",void 0),e([i(\"visibleElements\")],b.prototype,\"castVisibleElements\",null),b=e([a(\"esri.widgets.BasemapToggle\")],b);const h=b;export{h as default};\n"],
  "mappings": "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",
  "names": ["e", "m", "l", "a", "s", "r", "t", "j", "e", "a", "e", "j", "b", "r", "s", "i", "a", "l", "n", "h"]
}
