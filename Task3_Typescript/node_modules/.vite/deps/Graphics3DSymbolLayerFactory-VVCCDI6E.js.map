{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/polygonUtils.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/polygon.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/focusAreaStyle.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lineUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/meshAutoFastUpdateConstants.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js", "../../@arcgis/core/views/3d/layers/graphics/webStyleUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/DepthRange.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js", "../../@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Path.js", "../../@arcgis/core/geometry/support/HalfFloatArray.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js", "../../@arcgis/core/core/libs/gl-matrix-2/math/mat2.js", "../../@arcgis/core/core/libs/gl-matrix-2/factories/mat2f64.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js", "../../@arcgis/core/views/3d/layers/support/uvUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js", "../../@arcgis/core/views/3d/layers/support/patternUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/LabelParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{e as t}from\"../../../../chunks/earcut.js\";import e from\"../../../../geometry/Extent.js\";import r from\"../../../../geometry/Polygon.js\";import{Axis as i}from\"../../../../geometry/support/Axis.js\";import{getZeroIndexArray as o}from\"../../../../geometry/support/Indices.js\";import{leastSignificantAxis as n}from\"../../../../geometry/support/polygonUtils.js\";import{Attribute as a}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as s}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as u}from\"../../webgl-engine/lib/VertexAttribute.js\";import{GeometryType as c}from\"../../webgl-engine/lib/IntersectableGeometry.js\";function l(e,r,o){const a=(r.length>0?r[0]:e.length/3)-1,s=n(e,a,o);if(s!==i.Z){e=e.slice();for(let t=0;t<e.length;t+=3)e[t+s]=e[t+2]}return t(e,r,3)}function m(t){const e=[[u.POSITION,new a(t.attributeData.position,t.indices,3,!0)]],r=o(t.indices.length);return null!=t.attributeData.colorFeature?e.push([u.COLORFEATUREATTRIBUTE,new a([t.attributeData.colorFeature],r,1,!0)]):t.attributeData.color&&e.push([u.COLOR,new a(t.attributeData.color,r,4,!0)]),t.attributeData.uvMapSpace&&e.push([u.UVMAPSPACE,new a(t.attributeData.uvMapSpace,t.indices,4,!0)]),t.attributeData.boundingRect&&e.push([u.BOUNDINGRECT,new a(t.attributeData.boundingRect,t.indices,9,!0)]),new s(t.material,e,t.mapPositions,c.Mesh,t.attributeData.objectAndLayerIdColor)}function p(t,e=null){const r=[[u.POSITION,new a(t.attributeData.position,t.indices,3,!0)],[u.UV0,new a(t.attributeData.uv0,t.indices,2,!0)]];return new s(t.material,r,t.mapPositions,c.Mesh,e)}function b(t){switch(t.type){case\"extent\":if(t instanceof e)return r.fromExtent(t);break;case\"polygon\":return t}return null}class g{constructor(t,e,r){this.renderData=t,this.layerViewUid=e,this.graphicUid=r,this.outGeometries=new Array}}export{g as PolygonCreationDataBase,m as createColorGeometry,l as createIndices3D,p as createWaterGeometry,b as geometryAsPolygon};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as t,doubleSubArray as n}from\"../../../../geometry/support/DoubleArray.js\";import{ringsToTriangulationInfo as s,CounterClockwiseMode as i}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as e}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as r}from\"../../terrain/OverlayRenderer.js\";function p(o,n,r,p){const c=s(o.rings,!!o.hasZ&&\"on-the-ground\"!==p.mode,i.CCW_IS_HOLE,o.spatialReference),a=t(c.position.length),h=e(c.position,o.spatialReference,0,a,0,c.position,0,c.position.length/3,n,r,p),m=null!=h;return new g(c.position,a,u(c.polygons,c.position,a),l(c.outlines,c.position,a),m,h)}function c(t,n){const e=s(t.rings,!1,i.CCW_IS_HOLE),p=o(e.position,t.spatialReference,0,e.position,n,0);for(let o=2;o<e.position.length;o+=3)e.position[o]=r;return{position:e.position,polygons:u(e.polygons,e.position),outlines:l(e.outlines,e.position),projectionSuccess:p}}function l(o,t,s=null){return o.filter((({count:o})=>o>1)).map((({index:o,count:i})=>{const e=3*o,r=3*i;return null!=s?new h(o,i,n(t,e,r),n(s,e,r)):new a(o,i,n(t,e,r))}))}function u(o,t,s=null){const i=new Array;for(const{index:e,count:r,holeIndices:p,pathLengths:c}of o){if(r<=1)continue;const o=3*e,l=3*r,u=p.map((o=>o-e)),a=null!=s?new m(e,r,n(t,3*e,3*r),n(s,o,l),u,c):new f(e,r,n(t,3*e,3*r),u,c);i.push(a)}return i}class a{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class h extends a{constructor(o,t,n,s){super(o,t,n),this.mapPositions=s}}class m extends h{constructor(o,t,n,s,i,e){super(o,t,n,s),this.holeIndices=i,this.pathLengths=e}}class f extends a{constructor(o,t,n,s,i){super(o,t,n),this.holeIndices=s,this.pathLengths=i}}class g{constructor(o,t,n,s,i,e){this.position=o,this.mapPositions=t,this.polygons=n,this.outlines=s,this.projectionSuccess=i,this.sampledElevation=e}}export{g as PolygonRenderInfo,m as PolygonVertexData,f as PolygonVertexDataDraped,p as geometryToRenderInfo,c as geometryToRenderInfoDraped};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport t from\"../../../../Color.js\";import\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import{clone as r}from\"../../../../core/lang.js\";import{getMetersPerVerticalUnitForSR as o}from\"../../../../core/unitUtils.js\";import{e as s}from\"../../../../chunks/earcut.js\";import{normalFromMat4 as i}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as a,invertOrIdentity as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as m,t as p,a as h,h as g,n as d,c as u,d as f}from\"../../../../chunks/vec32.js\";import{fromArray as y,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ZEROS as _}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{computeTranslationToOriginAndRotation as x}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{create as S,fromBuffer as j,intersectsClippingArea as P}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as w}from\"../../../../geometry/support/DoubleArray.js\";import{newIndexArray as O,getZeroIndexArray as C}from\"../../../../geometry/support/Indices.js\";import{t as E}from\"../../../../chunks/vec3.js\";import{makeVertexCandidate as v,makeEdgeCandidate as I}from\"../../../../layers/graphics/data/SnappingCandidate.js\";import{getDriverAxisSizeValue as A}from\"../../../../renderers/support/renderingInfoUtils.js\";import{EmissiveSourceMode as M}from\"../../../../symbols/support/materialUtils.js\";import{ViewingMode as L}from\"../../../ViewingMode.js\";import{needsElevationUpdates3D as B,SampleElevationInfo as z}from\"./elevationAlignmentUtils.js\";import{Object3DEdgeState as R,Graphics3DObject3DGraphicLayer as U}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as D}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as G,computeCentroid as V}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as T}from\"./interfaces.js\";import{geometryAsPolygon as N}from\"./polygonUtils.js\";import{createMaterial as F}from\"../support/edgeUtils.js\";import{debugFlags as k}from\"../../support/debugFlags.js\";import{SamplePosition as H}from\"../../support/ElevationProvider.js\";import{geometryToRenderInfo as W}from\"../../support/renderInfoUtils/polygon.js\";import{NormalType as q}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{Attribute as Z}from\"../../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as J}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as K}from\"../../webgl-engine/lib/Geometry.js\";import{isGeometryWithMapPositions as Q}from\"../../webgl-engine/lib/GeometryWithMapPositions.js\";import{compressNormals as X,compressNormal as Y}from\"../../webgl-engine/lib/Normals.js\";import{Object3D as $}from\"../../webgl-engine/lib/Object3D.js\";import{VertexAttribute as tt}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as et}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{GeometryType as rt}from\"../../webgl-engine/lib/IntersectableGeometry.js\";const ot=[\"polygon\",\"extent\"];class st extends D{constructor(t,e,r,o){super(t,e,r,o,xt(e)),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=G(this._getSymbolSize());if(t)throw new e(\"graphics3dextrudesymbollayer:invalid-size\",t)}const t=this.symbolLayer,r=t?.material,o=r?.color,s=this._getCombinedOpacityAndColor(o),i=y(s),n=s[3],a=this.needsDrivenTransparentPass,l=r?.emissive,c={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:i,ambient:i,opacity:n,drivenOpacity:a,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:t.castShadows,emissiveStrength:l?.strength??0,emissiveSource:M.Color,offsetTransparentBackfaces:!0,normalType:q.Compressed},m=new et(c,this._context);m.setParameters({cullFace:m.transparent?J.None:J.Back});const p=new et({...c,cullFace:J.Back},this._context);this._materials[Mt.Main]=m,this._materials[Mt.Bottom]=p}destroy(){super.destroy(),this._materials.length=0}createGraphics3DGraphic(t){const e=t.graphic;if(!this._validateGeometry(e.geometry,ot,this.symbolLayer.type))return null;const r=this._getVertexOpacityAndColor(t.renderingInfo,this._getFallbackOpacityAndColor(),255),o=this.setGraphicElevationContext(e);return this._createAs3DShape(e,t.renderingInfo,r,o,e.uid)}layerOpacityChanged(t,e){const r=this.symbolLayer?.material?.color,o=this._getCombinedOpacity(r);this._materials[Mt.Main]?.setParameters({opacity:o}),this._materials[Mt.Bottom]?.setParameters({opacity:o});const s=this._getLayerOpacity();t?.forEach((t=>e(t)?.layerOpacityChanged(s,this._context.isAsync)))}layerElevationInfoChanged(t,e){return this.updateGraphics3DGraphicElevationInfo(t,e,B)}slicePlaneEnabledChanged(t,e){return this._materials[Mt.Main]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[Mt.Bottom]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t?.forEach((t=>{const r=e(t);null!=r&&r.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){const t={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0};return this._materials[Mt.Main]?.setParameters(t),this._materials[Mt.Bottom]?.setParameters(t),!0}_getExtrusionSize(t){let e;return e=t.size&&this._drivenProperties.size?A(t.size,2)??0:this._getSymbolSize(),e/=this._context.renderCoordsHelper.unitInMeters,e}applyRendererDiff(t,e){return this._drivenPropertiesChanged(e)?T.RecreateSymbol:T.RecreateGraphics}async queryForSnapping(t,e,s,i){const n=this._getExtrusionSize(s)*this._context.renderCoordsHelper.unitInMeters/o(e),{objectId:a,target:l}=t,c=r(l);switch(c.z=(c.z??0)+n,t.type){case\"edge\":{const{start:e,end:o}=t,s=r(e),i=r(o);return s.z=(s.z??0)+n,i.z=(i.z??0)+n,[I(a,c,1/0,s,i)]}case\"vertex\":return[v(a,c,1/0),I(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(t,e,r,o,l){const m=N(t.geometry);if(null==m)return null;if(0===m.rings.length||!m.rings.some((t=>t.length>0)))return this._logGeometryValidationWarnings(m.rings,\"rings\",\"ExtrudeSymbol3DLayer\"),null;const p=W(m,this._context.elevationProvider,this._context.renderCoordsHelper,o);this._logGeometryCreationWarnings(p,m.rings,\"rings\",\"ExtrudeSymbol3DLayer\");const h=V(m);if(null==h)return null;const g=new Array,d=new Array,u=S(),f=c(),y=b(),_=this._context.renderCoordsHelper.viewingMode===L.Global;_||this._context.renderCoordsHelper.worldUpAtPosition(null,y),x(m.spatialReference,[h.x,h.y,0],f,this._context.renderCoordsHelper.spatialReference);const C=c();a(C,f);const v=n();i(v,C);const{polygons:I,mapPositions:A,position:M}=p,z=new Map,D=this._materials[Mt.Main];for(const i of I){const t=i.count;if(this._context.clippingExtent&&(j(i.mapPositions,u),!P(u,this._context.clippingExtent)))continue;const o=s(i.mapPositions,i.holeIndices,3);if(0===o.length)continue;const n=o.length,a=6*t,c=O(a+n),m=O(n),p=w(3*a),h=w(3*a),b=w(3*a),x=w(a);nt(M,A,o,i,p,b,h,x,c,m,this._getExtrusionSize(e),y,_),E(p,p,C);const S=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:l,layerViewUid:this._context.layerViewUid}),v=new Lt(p,b,X(h),x),I=it(D,c,c.length-m.length,v,r,S),L=t,B=t,R=2*i.count,U=new Bt(L,B,R,n/3);_t(I,U,f),z.set(I,U),g.push(I,it(this._materials[Mt.Bottom],m,0,v,r,S)),d.push(v.heights)}if(0===g.length)return null;const G=new $({geometries:g,layerViewUid:this._context.layerViewUid,graphicUid:l,isElevationSource:!0});G.transformation=f;const T=F(this.symbolLayer,{opacity:this._getLayerOpacity()}),k=T?new R(this._materials[Mt.Main],T,this._context.slicePlaneEnabled):null,H=new U(this,G,null,((t,e,r,o,s)=>bt(t,e,r,o,s,d,z)),o,k);return H.alignedSampledElevation=p.sampledElevation,H.needsElevationUpdates=B(o.mode),H}_getFallbackOpacityAndColor(){const e=this.symbolLayer?.material?.color;return t.toUnitRGBA(e)??_}}function it(t,e,r,o,s,i){const n=C(e.length),a=[[tt.POSITION,new Z(o.positions,e,3,!0)],[tt.NORMALCOMPRESSED,new Z(o.normals,e,2,!0)],[tt.COLOR,new Z(s,n,4,!0)]];return new K(t,a,o.elevation,rt.Mesh,i,r)}function nt(t,e,r,o,s,i,n,a,l,c,m,p,h){const g=r.length/3;let d=2*o.count;at(t,e,o.index,o.count,r,0,g,s,i,n,a,l,c,d,m,p,h);let u=0,f=2*o.count;d=0;const y=o.pathLengths[0];mt(s,i,a,n,u,y,o.count,f,l,d,m),f+=4*y,d+=2*y,u+=y;for(let b=1;b<o.pathLengths.length;++b){const t=o.pathLengths[b];mt(s,i,a,n,u,t,o.count,f,l,d,m),f+=4*t,d+=2*t,u+=t}}function at(t,e,r,o,s,i,n,a,l,c,m,p,h,g,f,y,b){u(jt,y),l??=[],c??=[],m??=[];const _=f>0?1:-1;let x=3*r,S=0,j=3*S,P=o,w=3*P;for(let u=0;u<o;++u){const r=t[x],o=t[x+1],s=t[x+2];b&&(jt[0]=r,jt[1]=o,jt[2]=s,d(jt,jt)),a[j+0]=r,a[j+1]=o,a[j+2]=s;const i=e[x+0],n=e[x+1],p=e[x+2];l[j+0]=i,l[j+1]=n,l[j+2]=p,c[j+0]=-_*jt[0],c[j+1]=-_*jt[1],c[j+2]=-_*jt[2],m[S]=0,a[w+0]=r+f*jt[0],a[w+1]=o+f*jt[1],a[w+2]=s+f*jt[2],l[w+0]=i,l[w+1]=n,l[w+2]=p,m[P]=f,j+=3,w+=3,x+=3,S+=1,P+=1}x=3*i,j=0,w=3*g;const O=f<0?Ot:wt,C=f<0?wt:Ot;for(let d=0;d<n;++d)h[j]=s[x+O[0]],h[j+1]=s[x+O[1]],h[j+2]=s[x+O[2]],p[w]=s[x+C[0]]+o,p[w+1]=s[x+C[1]]+o,p[w+2]=s[x+C[2]]+o,j+=3,w+=3,x+=3}function lt(t,e,r,o,s,i,n){o[i]=o[n],n*=3,t[i*=3]=t[n],t[i+1]=t[n+1],t[i+2]=t[n+2],e[i]=e[n],e[i+1]=e[n+1],e[i+2]=e[n+2],r[i]=s[0],r[i+1]=s[1],r[i+2]=s[2]}const ct=b();function mt(t,e,r,o,s,i,n,a,l,c,m){e??=[],r??=[],o??=[];let p=s,h=s+1,g=s+n,d=s+n+1,u=a,f=a+1,y=a+2*i,b=a+2*i+1;m<0&&(p=s+n+1,d=s);let _=3*c;for(let x=0;x<i;++x)x===i-1&&(h=s,m>0?d=s+n:p=s+n),ft(t,p,h,g,ct),lt(t,e,o,r,ct,u,p),lt(t,e,o,r,ct,f,h),lt(t,e,o,r,ct,y,g),lt(t,e,o,r,ct,b,d),l[_]=u,l[_+1]=y,l[_+2]=b,l[_+3]=u,l[_+4]=b,l[_+5]=f,_+=6,p++,h++,g++,d++,u+=2,f+=2,y+=2,b+=2}const pt=b(),ht=b(),gt=b(),dt=b(),ut=b();function ft(t,e,r,o,s){e*=3,r*=3,o*=3,m(pt,t[e++],t[e++],t[e++]),m(ht,t[r++],t[r++],t[r++]),m(gt,t[o++],t[o++],t[o++]),f(dt,ht,pt),f(ut,gt,pt),g(s,ut,dt),d(s,s)}const yt=b();function bt(t,e,r,o,s,i,n){const a=t.stageObject,h=a.geometries,g=h.length,d=\"absolute-height\"!==e.mode;let u=0;const f=a.transformation,y=l(c(),f);for(let l=0;l<g;l+=2){const t=h[l];if(!Q(t))continue;const e=t.getMutableAttribute(tt.POSITION).data,c=i[l/2],g=new H(t.mapPositions),b=e.length/3;let _=!1,x=0;{let t=0;for(let i=0;i<b;i++){yt[0]=e[t],yt[1]=e[t+1],yt[2]=e[t+2],o(g,Pt),d&&(x+=Pt.sampledElevation),k.TESTS_DISABLE_OPTIMIZATIONS?(m(St,g.array[g.offset],g.array[g.offset+1],Pt.z+c[t/3]),null!=r&&s.toRenderCoords(St,r,St),p(St,St,y)):(m(St,e[t],e[t+1],e[t+2]),p(St,St,f),s.setAltitude(St,Pt.z+c[t/3]),p(St,St,y)),e[t]=St[0],e[t+1]=St[1],e[t+2]=St[2];const i=Ct/s.unitInMeters;(Math.abs(yt[0]-e[t])>=i||Math.abs(yt[1]-e[t+1])>=i||Math.abs(yt[2]-e[t+2])>=i)&&(_=!0),g.offset+=3,t+=3}}if(_){const e=n.get(t);e&&_t(t,e,f),a.geometryVertexAttributeUpdated(h[l],tt.NORMALCOMPRESSED),t.invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(h[l],tt.POSITION),h[l+1].invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(h[l+1],tt.POSITION)}u+=x/b}return u/g}function _t(t,e,r){const o=t.getMutableAttribute(tt.POSITION),s=t.getMutableAttribute(tt.NORMALCOMPRESSED).data,{topVertexStart:i,topVertexCount:n,topFaceStart:a,topFaceCount:l}=e,c=o.data,u=n,f=t.attributes.get(tt.POSITION).indices,y=a+l,b=i+n,_=w(3*u);for(let m=0;m<u;++m){const t=3*m;_[t+0]=0,_[t+1]=0,_[t+2]=0}const x=Et,S=vt,j=It,P=At,O=jt;for(let w=a;w<y;++w){const t=3*w;for(let e=0;e<3;++e){const o=f[t+e];P[e]=o;const s=3*o;m(St,c[s+0],c[s+1],c[s+2]),p(x[e],St,r)}h(S,x[1],x[0]),h(j,x[2],x[0]),g(O,S,j),d(O,O);for(let e=0;e<3;++e){const t=3*(P[e]-i);_[t+0]+=O[0],_[t+1]+=O[1],_[t+2]+=O[2]}}for(let m=i;m<b;++m){const t=3*(m-i),e=_[t+0],r=_[t+1],o=_[t+2],n=Math.sqrt(e*e+r*r+o*o);Y(s,m,e/n,r/n,o/n)}}function xt(t){return 1===(t.material?.color?.a??1)}const St=b(),jt=b(),Pt=new z,wt=[0,2,1],Ot=[0,1,2],Ct=.01,Et=[b(),b(),b()],vt=b(),It=b(),At=[0,0,0];var Mt;!function(t){t[t.Main=0]=\"Main\",t[t.Bottom=1]=\"Bottom\"}(Mt||(Mt={}));class Lt{constructor(t,e,r,o){this.positions=t,this.elevation=e,this.normals=r,this.heights=o}}class Bt{constructor(t,e,r,o){this.topVertexStart=t,this.topVertexCount=e,this.topFaceStart=r,this.topFaceCount=o}}export{st as Graphics3DExtrudeSymbolLayer,nt as extrudePolygon};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nconst t=.42,r=.32;function c(c,n){if(c)switch(n){case\"bright\":{const t=(c[0]+c[1]+c[2])/3;return[t*r+(1-r),t*r+(1-r),t*r+(1-r),c[3]*r]}case\"dark\":return[c[0]*t,c[1]*t,c[2]*t,c[3]*t]}}export{c as focusAreaHUDColor};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{i as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as r,empty as i,expandWithRect as o,center as s,set as d,toRect as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{demResolutionForBoundingBox as h}from\"./graphicUtils.js\";import{Object3DState as c}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DirtyOperation as g,DirtyState as m}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";class l{constructor(e,t,r,i){this.graphics3DSymbolLayer=e,this.renderGeometries=t,this.boundingBox=r,this._drapeSourceRenderer=i,this.type=\"draped\",this._visible=!1,this._addedToStage=!1,this.isElevationSource=!1}initialize(e){this.stage=e.stage}get usedMemory(){return this.graphics3DSymbolLayer.usedMemory}setVisibility(e){if(null!=this.stage&&this._visible!==e){if(this._visible=e,e&&!this._addedToStage)return this._addedToStage=!0,void this._drapeSourceRenderer.addGeometries(this.renderGeometries,g.ADD);if(e||this._addedToStage){for(const e of this.renderGeometries)e.visible=this._visible;this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,m.VISIBILITY)}}}destroy(){this.stage&&this._addedToStage&&this._drapeSourceRenderer.removeGeometries(this.renderGeometries,g.REMOVE),this._addedToStage=!1,this._visible=!1,this.stage=null}getCenterObjectSpace(r=t()){return e(r,0,0,0)}getBoundingBoxObjectSpace(e=r()){return i(e)}addObjectState(e){e.stateType===c.Highlight&&(this.renderGeometries.forEach((t=>{const r=t.geometry.allocateIdAndHighlight(e.highlightName);e.addRenderGeometry(t,r,this)})),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,m.HIGHLIGHT))}removeObjectState(e){this.renderGeometries.forEach((t=>e.removeByObject(t)))}updateHighlights(e){}removeRenderGeometryObjectState(e,t){t.channel===c.Highlight&&(e.geometry.removeHighlight(t),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries([e],m.HIGHLIGHT))}computeAttachmentOrigin(e){for(const t of this.renderGeometries)t.geometry.computeAttachmentOrigin(y)&&(e.draped.origin[0]+=y[0],e.draped.origin[1]+=y[1],e.draped.num++)}async getProjectedBoundingBox(e,t,r,d,n){i(n);for(let i=0;i<this.renderGeometries.length;i++){const t=this.renderGeometries[i];this._getRenderGeometryProjectedBoundingRect(t,e,u,r),o(n,u)}if(t){let e;s(n,y);const r=h(n,t.service.spatialReference,t);try{e=await t.service.queryElevation(y[0],y[1],d,r,\"ground\")}catch(a){}null!=e&&(n[2]=Math.min(n[2],e),n[5]=Math.max(n[5],e))}return n}_getRenderGeometryProjectedBoundingRect(e,t,r,i){if(this.boundingBox)d(p,this.boundingBox);else{const t=e.boundingSphere,r=t[3];p[0]=t[0]-r,p[1]=t[1]-r,p[2]=t[2]-r,p[3]=t[0]+r,p[4]=t[1]+r,p[5]=t[2]+r}return t(p,0,2),this.calculateRelativeScreenBounds&&i.push({location:s(p),screenSpaceBoundingRect:this.calculateRelativeScreenBounds()}),n(p,r)}}const u=a(),p=r(),y=t();export{l as Graphics3DDrapedGraphicLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import{result as t,createTask as r}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{abortMaybe as o,releaseMaybe as a}from\"../../../../core/maybe.js\";import{throwIfAbortError as n,throwIfAborted as l}from\"../../../../core/promiseUtils.js\";import{pt2px as c,px2pt as h}from\"../../../../core/screenUtils.js\";import{numericHash as u}from\"../../../../core/string.js\";import{dataComponents as m}from\"../../../../core/urlUtils.js\";import{fromValues as d,create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{fromValues as _,create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as y,ZEROS as g,fromValues as x}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectPointToVector as b}from\"../../../../geometry/projection/projectPointToVector.js\";import{containsPoint as v}from\"../../../../geometry/support/aaBoundingBox.js\";import S from\"../../../../layers/support/FieldsIndex.js\";import{createRendererExpression as P}from\"../../../../support/ArcadeExpression.js\";import{CIMSymbolHelper as w}from\"../../../../symbols/cim/CIMSymbolHelper.js\";import{evaluateValueOrFunction as R}from\"../../../../symbols/cim/utils.js\";import{scaleCIMSymbol as z}from\"../../../../symbols/support/cimSymbolUtils.js\";import{defaultPrimitive as C}from\"../../../../symbols/support/IconSymbol3DLayerResource.js\";import{Symbol3DAnchorPosition2D as O}from\"../../../../symbols/support/Symbol3DAnchorPosition2D.js\";import{getIconHref as j}from\"../../../../symbols/support/utils.js\";import{transparentUnit as I}from\"./constants.js\";import{perObjectElevationAligner as M}from\"./ElevationAligners.js\";import{SymbolUpdateType as E,elevationModeChangeUpdateType as T,needsElevationUpdates2D as F}from\"./elevationAlignmentUtils.js\";import{focusAreaHUDColor as U}from\"./focusAreaStyle.js\";import{Graphics3DDrapedGraphicLayer as D}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as A}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as L}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as G}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as V}from\"./interfaces.js\";import{namedAnchorToHUDMaterialAnchorPos as H}from\"./placementUtils.js\";import{placePointOnGeometry as k,updateStageObjectGeometry as B,getLocalOriginForPoint as N,extendPointGraphicElevationContext as $,createStageObject as W}from\"./pointUtils.js\";import{initFastSymbolUpdatesState as q,updateFastSymbolUpdatesState as J,evaluateModelTransformScale as Z,ConvertOptions as K}from\"../support/FastSymbolUpdates.js\";import{createTexture as Q,requiresHalfTexelOffset as X,defaultBoundingBox as Y,defaultSymbolSizeRatio as ee,defaultTexSize as te}from\"../../support/engineContent/sdfPrimitives.js\";import{drapedZ as re}from\"../../terrain/OverlayRenderer.js\";import{createPointGeometry as ie}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderGeometry as se}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Texture as oe}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as ae}from\"../../webgl-engine/materials/HUDMaterial.js\";const ne=_(0,0,1),le=16,ce=1.5,he=[te*ee,te*ee];class ue extends L{static{this.PRIMITIVE_SIZE=he}getCachedSize(){return{size:this._getIconSize()}}static{this.elevationModeChangeTypes={definedChanged:E.UPDATE,staysOnTheGround:E.NONE,onTheGroundChanged:E.RECREATE}}constructor(e,t,r,i){super(e,t,r,i,ge(t)),this._cimData=null,this._overrideHelperClass=null,this._arcadeInfo=null,this._cimSymbolMaterials=new Map,this._cimSymbolTextures=new Map,this._cimMaterialParametersInfo=null,this._cimScaleFactorOrFunction=null,this._size=null,this._symbolTextureRatio=1,this._outlineSize=0,this._textureHandle=null,this._patchTask=null,this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!0}}async doLoad(e){this._validateOrThrow();const t=this._prepareMaterialParameters(),r=this._getPrimitive();if(null!=r)this._prepareResourcesPrimitive(t,r);else{const r=j(this.symbolLayer),i=pe(r);null!=i?await this._prepareResourcesCIM(t,JSON.parse(i),e):await this._prepareResourcesHref(t,r,e)}}_validateOrThrow(){if(this._drivenProperties.size)return;const e=G(this._getIconSize());if(e)throw new i(\"graphics3diconsymbollayer:invalid-size\",e)}_getIconSize(){const e=this.symbolLayer,t=Math.round(null!=e.size?c(e.size):le);return this._drivenProperties.size?Math.max(t,64):t}_generateTextureCIM(e,t){const r=this._overrideHelperClass;let i=this._cimData;if(r&&i&&i.symbol||this.logger.error(\"Can't create texture, CIM data is undefined\"),i.primitiveOverrides){i=s(i);const o=i.primitiveOverrides;r.evaluateOverrides(o,e,this._arcadeInfo.geometryType,null,null,t.layer.fieldsIndex),r.applyOverrides(i.symbol,o)}const o=u(JSON.stringify(i));let a=this._cimSymbolTextures.get(o);if(a)return a;const n=this._context.sharedResources.cimSymbolRasterizer,l=this._context.renderer&&\"dictionary\"===this._context.renderer.type?this._context.renderer.fieldMap:null;l&&r.applyDictionaryTextOverrides(i.symbol,e,l,null);const c=null!=this._cimScaleFactorOrFunction?R(this._cimScaleFactorOrFunction,e):1;1!==c&&i.symbol&&z(i.symbol,c,!0);const h=w.getEnvelope(i,null,n.resourceManager);if(h?.width&&h.height){const e=h.x+h.width/2,t=h.y+h.height/2,r=n.rasterize({type:\"cim\",data:i},h.width,h.height,e,t,1,\"esriGeometryPoint\",0,null,this._context.graphicsCoreOwner.view.state.rasterPixelRatio),s=new O({x:-h.x/h.width-.5,y:(h.height+h.y)/h.height-.5});this._cimMaterialParametersInfo.anchorPosition=_e(\"relative\",s),a=new oe(r,{width:r?.width??1,height:r?.height??1,reloadable:!0})}else a=new oe(new ImageData(1,1),{width:1,height:1,reloadable:!0});return this._cimSymbolTextures.set(o,a),this._context.stage.addTexture(a),a}_prepareMaterialParameters(){const e={anchorPosition:_e(this.symbolLayer.anchor,this.symbolLayer.anchorPosition),rotation:this.symbolLayer.angle},t=this.symbol;if(me(t)){const{screenLength:r,minWorldLength:i,maxWorldLength:s}=t.verticalOffset;e.verticalOffset={screenLength:c(r),minWorldLength:i||0,maxWorldLength:null!=s?s:1/0}}this._context.screenSizePerspectiveEnabled&&(e.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),(0!==e.rotation||this._drivenProperties.rotation)&&(e.hasRotation=!0);const r=!!has(\"enable-feature:non-occluded-hud\");return e.occlusionTest=!r,e.occludedFragmentFade=r,e.horizonCullingEnabled=r&&this._context.spherical,e.hasSlicePlane=this._context.slicePlaneEnabled,e}_prepareResourcesPrimitive(e,t){const r=this._getOutlineSize();if(de(t)&&0===r)throw new Error(\"Nothing to render\");if(this._outlineSize=r,e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,null!=this._context.sharedResources.textures){const r=this._context.sharedResources.textures.fromData(`${t}-icon`,(()=>Q(t)));this._textureHandle=r,e.textureId=r.texture.id}e.textureIsSignedDistanceField=!0,e.sampleSignedDistanceFieldTexelCenter=X(t),e.distanceFieldBoundingBox=Y;const i=this._getIconSize();this._size=[i,i],this._symbolTextureRatio=1/ee,this._createMaterial(e)}async _prepareResourcesHref(e,r,s){this._outlineSize=this._getOutlineSize(),e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,e.textureIsSignedDistanceField=!1;const o=this._getIconSize(),a=o*this._context.graphicsCoreOwner.view.state.rasterPixelRatio;if(null!=this._context.sharedResources.textures){const l=await t(this._context.sharedResources.textures.fromUrl(r,a,{signal:s}));if(!1===l.ok){n(l.error);throw new i(\"graphics3diconsymbollayer:request-failed\",`Failed to load (Request for icon resource failed: ${r})`)}this._textureHandle=l.value;const c=l.value.texture;this._size=fe(c,o),e.textureId=c.id}this._createMaterial(e)}async _prepareResourcesCIM(e,t,r){const{OverrideHelper:i}=await import(\"../../../../symbols/cim/OverrideHelper.js\");if(this._overrideHelperClass=i,this._cimData=t,!this._context.sharedResources.cimSymbolRasterizer){const e=(await import(\"../../../../symbols/cim/CIMSymbolRasterizer.js\")).CIMSymbolRasterizer;l(r),this._context.sharedResources.cimSymbolRasterizer||(this._context.sharedResources.cimSymbolRasterizer=new e(this._context.renderCoordsHelper.spatialReference))}const s=this._context.sharedResources.cimSymbolRasterizer,o=[],a=t,n=a?.symbol;w.fetchResources(n,s.resourceManager,o,r),w.fetchFonts(n,s.resourceManager,o);const c=this._context.layer.fields?this._context.layer.fields.map((e=>e.toJSON())):[],h=this._context.renderCoordsHelper.spatialReference;if(this._arcadeInfo={spatialReference:h,fields:c,geometryType:\"esriGeometryPoint\"},a?.primitiveOverrides&&o.push(i.createRenderExpressions(a.primitiveOverrides,this._arcadeInfo)),o.length>0&&(await Promise.all(o),l(r)),this._context.renderer&&\"dictionary\"===this._context.renderer.type&&this._context.renderer.scaleExpression){const e=this._context.renderer;if(e.scaleExpression){const t=e.scaleExpression,r=await P(t,this._context.layer.spatialReference),{default:i}=await import(\"../../../2d/arcade/callExpressionWithFeature.js\"),s=new S(c);this._cimScaleFactorOrFunction=(e,t,o)=>{const a=i(r,e,{$view:o},\"esriGeometryPoint\",s,t);return null!==a?a:1}}}l(r),this._cimMaterialParametersInfo=e,this._cimMaterialParametersInfo.color=this._getFillColor(),this._cimMaterialParametersInfo.outlineColor=[0,0,0,0],this._cimMaterialParametersInfo.outlineSize=0,this._cimMaterialParametersInfo.textureIsSignedDistanceField=!1}_getPrimitive(){return ye(this.symbolLayer)}_getOutlineSize(){let e=0;const t=this.symbolLayer;if(null!=t.outline?.size)return Math.max(c(t.outline.size),0);return e=de(this._getPrimitive())?ce:0,Math.max(e,0)}_getOutlineColor(){const t=this._getLayerOpacity(),r=this.symbolLayer,i=r?.outline?.color;if(null!=i){const r=e.toUnitRGB(i),s=i.a*t;return[r[0],r[1],r[2],s]}return[0,0,0,0]}_getFillColor(){if(de(this._getPrimitive()))return I;const e=null==this._getPrimitive(),t=this.symbolLayer?.material?.color;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_getFallbackOpacityAndColor(){const t=this.symbolLayer?.material?.color;if(null==t){return null==this._getPrimitive()?y:g}return e.toUnitRGBA(t)}_getFallbackSize(){const e=this._getIconSize(),{symbolLayer:{size:t}}=this;return(null!=t?Math.round(c(t)):le)/e}_createMaterial(e){const t=this._context.spherical;if(this._cimData){this._fastUpdates=null;let r=e.textureId?this._cimSymbolMaterials.get(e.textureId):null;return r||(r=new ae(e,t),this._cimSymbolMaterials.set(e.textureId??0,r)),r}this._fastUpdates=q(this._context.renderer,this._fastVisualVariableConvertOptions()),this._fastUpdates&&(e={...e,...this._fastUpdates.materialParameters}),this._materials[0]=new ae(e,t),e.isFocused=!1;const r=this.view.map?.focusAreas.style;return e.color=U(e.color,r),e.outlineColor=U(e.outlineColor,r),this._materials[1]=new ae(e,t),this._materials[0]}_setDrapingDependentMaterialParameters(){this.draped&&(this._forEachMaterial((e=>{e.setParameters({verticalOffset:null,screenSizePerspective:null,occlusionTest:!1,hasSlicePlane:!1,shaderPolygonOffset:0,draped:this.draped})})),this.layerOpacityChanged())}destroy(){super.destroy(),this._patchTask=o(this._patchTask),this._materials.length=0,this._cimSymbolMaterials.clear(),this._cimSymbolTextures.forEach((e=>this._context.stage.removeTexture(e))),this._cimSymbolTextures.clear(),this._textureHandle=a(this._textureHandle)}_getScaleFactor({size:e},t){if(!this._drivenProperties.size)return 1;if(null==e)return this._getFallbackSize();const[r,i,s]=e;return\"symbol-value\"===r?1:\"number\"==typeof r&&isFinite(r)?c(r)/t:\"number\"==typeof s&&isFinite(s)?c(s)/t:1}_getDrivenRotation(e){return this._drivenProperties.rotation?e.heading??0:0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const r=k(t.geometry);if(null==r)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;let i,s=[0,0];const o=this.view.focusAreasView?.containsGeometry(r)??!0;if(this._cimData){if(!this._cimData.symbol)return null;const r=this._generateTextureCIM(t,e),a={textureId:r.id,isFocused:o,...this._cimMaterialParametersInfo};i=this._createMaterial(a);const n=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;s=[r.parameters.width/n,r.parameters.height/n]}else s=this._size,i=o?this._materials[0]:this._materials[1];if(null==r)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const a=e.renderingInfo,n=this._getVertexOpacityAndColor(a,this._getFallbackOpacityAndColor()),l=this._getDrivenRotation(a);let c=1;if(!this._fastUpdates?.visualVariables.size){const e=s[0]>s[1]?s[0]:s[1];c=this._getScaleFactor(a,e)}c*=this._symbolTextureRatio;const h=d(s[0]*c,s[1]*c),u=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===u.mode)&&this._setDrapingDependentMaterialParameters(),this.draped?this._createAsOverlay(t,r,i,n,l,h):this._createAs3DShape(t,r,i,n,l,h,u,t.uid)}layerOpacityChanged(){const e=this._getFillColor(),t=this._getOutlineColor();this._forEachMaterial((r=>{r.setParameters({color:e}),r.setParameters({outlineColor:t})}))}updateGeometry(e,t){if(this.draped||!this._validateGeometry(t))return!1;const{elevationContext:r,stageObject:i}=e;if(r.mode!==this.getGeometryElevationMode(t))return!1;const s=k(t);if(!s)return!1;const o=B(i,this._context,s,r);if(null==o)return!1;const a=N(this._context,s);return i.geometries[0].localOrigin===a&&(e.alignedSampledElevation=o,$(e,s,this._context.elevationProvider),!0)}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,s=T(ue.elevationModeChangeTypes,r,i);if(s!==E.UPDATE)return s;const o=F(i)||\"absolute-height\"===i;return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){return this.draped||this._forEachMaterial((e=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return null!=this._getPrimitive()}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return V.RecreateSymbol;if(!J(this._fastUpdates,t,this._fastVisualVariableConvertOptions()))return V.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return V.FastUpdate}updateFocus(e,t){t.forEach((t=>{const r=k(t.graphic.geometry);if(null==r)return void this.logger.warn(`unsupported geometry type for text symbol: ${t.graphic.geometry.type}`);const i=this.view.focusAreasView?.containsGeometry(r)??!0;t.layers.forEach((r=>{if(r?.graphics3DSymbolLayer===this&&r.stageObject){r.stageObject.geometries.some((e=>e.material.parameters.isFocused!==i))&&e(t)}}))}))}prepareSymbolLayerPatch(e){if(this._patchTask?.abort(),\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchResource(e,t),this._preparePatchRotation(e,t)}_preparePatchResource(e,s){if(!s.resource||\"partial\"!==s.resource.type)return;const c=s.resource.diff;if(\"complete\"!==c?.href?.type)return;const h=c.href.newValue,{textures:u}=this._context.sharedResources;if(null==h||null==u||null!=pe(h))return;const m=this._getIconSize(),d=m*this._context.graphicsCoreOwner.view.state.pixelRatio;e.symbolLayerStatePatches.push((()=>{this._patchTask=o(this._patchTask),this._patchTask=r((e=>this._context.schedule((async(e,r)=>{const s=await t(u.fromUrl(h,d,{signal:r}));l(r);const o=!s.ok;if(o&&n(s.error),this._textureHandle=a(this._textureHandle),this._patchTask=null,o){this._forEachMaterial((e=>{e.visible=!1,e.setParameters({textureId:null})}));const e=`Failed to load (Request for icon resource failed: ${h})`;return void this.logger.error(new i(\"graphics3diconsymbollayer:request-failed\",e))}this._textureHandle=s.value;const c=s.value.texture;this._size=fe(c,m),this._forEachMaterial((e=>{e.setParameters({textureId:c.id}),e.visible=!0}))}),e)))})),delete c.href}_preparePatchRotation(e,t){if(!t.angle||\"complete\"!==t.angle.type)return;const r=t.angle.newValue??0,i=0!==r||this._drivenProperties.rotation;e.symbolLayerStatePatches.push((()=>{this._forEachMaterial((e=>e.setParameters({rotation:r,hasRotation:i})))})),delete t.angle}_defaultElevationInfoNoZ(){return xe}_createAs3DShape(e,t,r,i,s,o,a,n){const l=this.getFastUpdateAttrValues(e),c=this._context.layerViewUid,h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerViewUid:c}),u=ie(r,{normal:ne,color:i,rotation:s,size:o,centerOffsetAndDistance:be,featureAttribute:l,objectAndLayerIdColor:h}),m=W(this._context,t,u,a,n);if(null==m)return null;const d=new A(this,m.object,null,M,a);return d.alignedSampledElevation=m.sampledElevation,d.needsElevationUpdates=F(a.mode)||\"absolute-height\"===a.mode,d.getScreenSize=this._createScreenSizeGetter(o,l),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),$(d,t,this._context.elevationProvider),d}_createAsOverlay(e,t,r,i,s,o){r.renderPriority=this._renderPriority;const a=f();b(t,a,this._context.overlaySR),a[2]=re;const n=this._context.clippingExtent;if(null!=n&&!v(n,a))return null;const l=this.getFastUpdateAttrValues(e),c=e.uid,h=this._context.layerViewUid,u=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:c,layerViewUid:h}),m=ie(r,{normal:ne,position:a,color:i,rotation:s,size:o,featureAttribute:l,objectAndLayerIdColor:u}),d=new se(m,{layerViewUid:h,graphicUid:c}),p=new D(this,[d],null,this._context.drapeSourceRenderer);return p.getScreenSize=this._createScreenSizeGetter(o,l),p.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(p.getScreenSize(),1,e),p}_createScreenSizeGetter(e,t){const r=this._outlineSize+2;if(this._fastUpdates&&t){const i=e[0]/this._symbolTextureRatio,s=e[1]/this._symbolTextureRatio;return(e=p())=>{const[o,a]=Z(ve,this._fastUpdates.materialParameters,t);return e[0]=o*i+r,e[1]=a*s+r,e}}const i=e[0]/this._symbolTextureRatio+r,s=e[1]/this._symbolTextureRatio+r;return(e=p())=>(e[0]=i,e[1]=s,e)}_fastVisualVariableConvertOptions(){const e=Math.max(this._size[0],this._size[1]),t=_(e,e,e),r=h(1),i=e*r,s=_(i,i,i),o=this._getFallbackSize();return new K({supports:{size:!0,color:!0,rotation:!0,opacity:!1},modelSize:t,symbolSize:s,unitInMeters:r,fallbackColor:this._getFallbackOpacityAndColor(),fallbackSize:_(o,o,o)})}_forEachMaterial(e){this._materials.forEach(e),this._cimSymbolMaterials.forEach(e)}test(){return{...super.test(),material:this._materials[0]}}}function me(e){return e&&\"point-3d\"===e.type&&e.hasVisibleVerticalOffset()}function de(e){return null!=e&&(\"cross\"===e||\"x\"===e)}function pe(e){const t=m(e);return\"application/json\"===t?.mediaType?t.data:void 0}function _e(e,t){return\"relative\"===e?d((t.x||0)+.5,.5-(t.y||0)):e in H?H[e]:H.center}function fe({parameters:e},t){const r=(e.width??1)/(e.height??1);return r>1?[t,Math.round(t/r)]:[Math.round(t*r),t]}function ye(e){return e.resource?.href?null:e.resource?.primitive??C}function ge(e){return 1===(e.material?.color?.a??1)&&null!=ye(e)}const xe={mode:\"relative-to-ground\",offset:0},be=x(0,0,0,1),ve=f();export{ue as Graphics3DIconSymbolLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport\"../../../../core/has.js\";import{CapType as e}from\"../../webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";function n(n){switch(n){case\"butt\":return e.BUTT;case\"square\":return e.SQUARE;case\"round\":return e.ROUND;default:return null}}function r(e){return\"diamond\"===e?\"kite\":e}export{n as parseCapType,r as parseLineMarkerStyle};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t,depthOnlyOutputBuffersOr as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{depthWrite as l,oitDepthTest as n,blending as s,getDrawBuffers as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{stencilToolMaskBaseParams as c,stencilBaseAllZerosParams as u,stencilWriteMaskOn as a,stencilToolTransparentOccluderParams as d,depthCompareAlways as T,stencilToolMaskOccluderParams as h,stencilWriteMaskOff as m,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{VertexAttribute as E}from\"../lib/VertexAttribute.js\";import{L as O}from\"../../../../chunks/LineMarker.glsl.js\";import{LineMarkerSpace as R}from\"./LineMarkerTechniqueConfiguration.js\";import{makePipelineState as f,defaultColorWrite as _,unpremultipliedAlphaToPremultipliedAlpha as A}from\"../../../webgl/renderState.js\";class S extends t{constructor(e,t){super(e,t,new i(O,(()=>import(\"./LineMarker.glsl.js\"))),W)}_makePipelineState(i,t){const{output:p,oitPass:d,space:T,hasOccludees:h}=i;return f({blending:e(p)?s(d):null,depthTest:T===R.Draped?null:{func:n(d)},depthWrite:l(i),drawBuffers:r(p,o(d,p)),colorWrite:_,stencilWrite:h?a:null,stencilTest:h?t?c:u:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=f({blending:A,depthTest:T,depthWrite:null,colorWrite:_,stencilWrite:null,stencilTest:d}),this._occluderPipelineOpaque=f({blending:A,depthTest:T,depthWrite:null,colorWrite:_,stencilWrite:m,stencilTest:h}),this._occluderPipelineMaskWrite=f({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:c})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,i){return e?this._occludeePipelineState:i===p.TRANSPARENT_OCCLUDER_MATERIAL?this._occluderPipelineTransparent??super.getPipeline():i===p.OCCLUDER_MATERIAL?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}const W=new Map([[E.POSITION,0],[E.PREVIOUSDELTA,1],[E.UV0,2],[E.COLOR,3],[E.COLORFEATUREATTRIBUTE,3],[E.OPACITYFEATUREATTRIBUTE,4],[E.SIZE,5],[E.SIZEFEATUREATTRIBUTE,5],[E.NORMAL,6]]);export{S as LineMarkerTechnique,W as vertexAttributeLocations};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{i as e,G as t,t as r}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeFloat16Array as a}from\"../../../../geometry/support/float16.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{isColor as n,isDepth as o,isColorHighlightOrDepth as h,isColorOrColorEmission as c,ShaderOutput as p}from\"../core/shaderLibrary/ShaderOutput.js\";import l from\"../lib/GLMaterial.js\";import{Material as m,RenderOccludedFlag as u}from\"../lib/Material.js\";import{RenderSlot as T}from\"../lib/RenderSlot.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as d}from\"./VisualVariablePassParameters.js\";import{writeDeltaF16Vector as E}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as A,LineMarkerTechnique as _}from\"../shaders/LineMarkerTechnique.js\";import{LineMarkerTechniqueConfiguration as v,LineMarkerSpace as g,LineMarkerAnchor as S}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{CapType as O}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as R}from\"../../../../webscene/support/AlphaCutoff.js\";class I extends m{constructor(e){super(e,C),this._configuration=new v,this.vertexAttributeLocations=A,this.produces=new Map([[T.OPAQUE_MATERIAL,e=>e===p.Highlight||n(e)&&this.parameters.renderOccluded===u.OccludeAndTransparentStencil],[T.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>o(e)],[T.OCCLUDER_MATERIAL,e=>h(e)&&this.parameters.renderOccluded===u.OccludeAndTransparentStencil],[T.TRANSPARENT_OCCLUDER_MATERIAL,e=>h(e)&&this.parameters.renderOccluded===u.OccludeAndTransparentStencil],[T.TRANSPARENT_MATERIAL,e=>n(e)&&this.parameters.writeDepth],[T.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>n(e)&&!this.parameters.writeDepth],[T.DRAPED_MATERIAL,e=>c(e)||e===p.Highlight]]),this.intersectDraped=void 0,this._layout=this.createLayout()}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.space=t.slot===T.DRAPED_MATERIAL?g.Draped:this.parameters.worldSpace?g.World:g.Screen,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=this.parameters.cap!==O.BUTT,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.occluder=this.parameters.renderOccluded===u.OccludeAndTransparentStencil,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest&&c(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}get visible(){return this.parameters.color[3]>=R}intersect(){}createLayout(){const e=s().vec3f(f.POSITION).vec4f16(f.PREVIOUSDELTA).vec2f16(f.UV0);return this.parameters.vvColor?e.f32(f.COLORFEATUREATTRIBUTE):e.vec4u8(f.COLOR,{glNormalized:!0}),this.parameters.vvOpacity&&e.f32(f.OPACITYFEATUREATTRIBUTE),this.parameters.vvSize?e.f32(f.SIZEFEATUREATTRIBUTE):e.f16(f.SIZE),this.parameters.worldSpace&&e.vec3f16(f.NORMAL),e}createBufferWriter(){return new P(this._layout,this.parameters)}createGLMaterial(e){return new L(e)}}class L extends l{dispose(){super.dispose(),this._markerTextures.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this.getTechnique(_,e)}}class C extends d{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive=\"arrow\",this.placement=\"end\",this.cap=O.BUTT,this.anchor=S.Center,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.markerTexture=null}}class P{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t}elementCount(){return\"begin-end\"===this._parameters.placement?12:6}write(i,s,n,o,h,c){const p=n.get(f.POSITION).data,l=p.length/3;let m=[1,0,0];const u=n.get(f.NORMAL);this._parameters.worldSpace&&null!=u&&(m=u.data);let T=1,d=0;this._parameters.vvSize?d=n.get(f.SIZEFEATUREATTRIBUTE).data[0]:n.has(f.SIZE)&&(T=n.get(f.SIZE).data[0]);let A=[1,1,1,1],_=0;this._parameters.vvColor?_=n.get(f.COLORFEATUREATTRIBUTE).data[0]:n.has(f.COLOR)&&(A=n.get(f.COLOR).data);let v=0;this._parameters.vvOpacity&&(v=n.get(f.OPACITYFEATUREATTRIBUTE).data[0]);const g=new Float32Array(h.buffer),S=a(h.buffer),O=new Uint8Array(h.buffer);let R=c*(this.vertexBufferLayout.stride/4);const I=g.BYTES_PER_ELEMENT/S.BYTES_PER_ELEMENT,L=4/I,C=(e,t,r,i)=>{g[R++]=e[0],g[R++]=e[1],g[R++]=e[2],E(t,e,S,R*I),R+=L;let a=R*I;if(S[a++]=r[0],S[a++]=r[1],R=Math.ceil(a/I),this._parameters.vvColor)g[R++]=_;else{const e=Math.min(4*i,A.length-4),t=4*R++;O[t]=255*A[e],O[t+1]=255*A[e+1],O[t+2]=255*A[e+2],O[t+3]=255*A[e+3]}this._parameters.vvOpacity&&(g[R++]=v),a=R*I,this._parameters.vvSize?(g[R++]=d,a+=2):S[a++]=T,this._parameters.worldSpace&&(S[a++]=m[0],S[a++]=m[1],S[a++]=m[2]),R=Math.ceil(a/I)};let P;!function(e){e[e.ASCENDING=1]=\"ASCENDING\",e[e.DESCENDING=-1]=\"DESCENDING\"}(P||(P={}));const b=(a,s)=>{const n=e(D,p[3*a],p[3*a+1],p[3*a+2]),o=N;let h=a+s;do{e(o,p[3*h],p[3*h+1],p[3*h+2]),h+=s}while(t(n,o)&&h>=0&&h<l);i&&(r(n,n,i),r(o,o,i)),C(n,o,[-1,-1],a),C(n,o,[1,-1],a),C(n,o,[1,1],a),C(n,o,[-1,-1],a),C(n,o,[1,1],a),C(n,o,[-1,1],a)},U=this._parameters.placement;return\"begin\"!==U&&\"begin-end\"!==U||b(0,P.ASCENDING),\"end\"!==U&&\"begin-end\"!==U||b(l-1,P.DESCENDING),null}}const D=i(),N=i();export{I as LineMarkerMaterial,C as Parameters};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import t from\"../../../../core/Error.js\";import{px2pt as r,pt2px as i}from\"../../../../core/screenUtils.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as s}from\"../../../../chunks/vec42.js\";import{fromValues as o,ones as n,clone as l,ZEROS as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import p from\"../../../../geometry/Extent.js\";import m from\"../../../../geometry/Polygon.js\";import{create as h,fromBuffer as y,intersectsClippingArea as u,empty as d,expandWithAABB as f,expandWithBuffer as _}from\"../../../../geometry/support/aaBoundingBox.js\";import{getDriverAxisSizeValueAny as g}from\"../../../../renderers/support/renderingInfoUtils.js\";import{sharedGeometryElevationAligner as b}from\"./ElevationAligners.js\";import{SymbolUpdateType as L,elevationModeChangeUpdateType as M,needsElevationUpdates2D as k}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as C}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as v}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as P}from\"./Graphics3DSymbolLayer.js\";import{ApplyRendererDiffResult as E}from\"./interfaces.js\";import{parseCapType as w,parseLineMarkerStyle as R}from\"./lineUtils.js\";import{initFastSymbolUpdatesState as A,updateFastSymbolUpdatesState as D,getAttributeValue as V,ConvertOptions as O}from\"../support/FastSymbolUpdates.js\";import{debugFlags as S}from\"../../support/debugFlags.js\";import{createGeometry as U}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as j,geometryToRenderInfoDraped as x}from\"../../support/renderInfoUtils/line.js\";import{Object3D as z}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as F}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as G}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LineMarkerMaterial as W}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{getStipplePatternForLinePattern as I}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const H=[\"polyline\",\"polygon\",\"extent\"];class B extends P{static{this.elevationModeChangeTypes={definedChanged:L.RECREATE,staysOnTheGround:L.NONE,onTheGroundChanged:L.RECREATE}}constructor(e,t,r,i){super(e,t,r,i,J(t))}async doLoad(){this._fastUpdates=A(this._context.renderer,this._fastVisualVariableConvertOptions());const e=!0;if(this._fastMarkerUpdates=A(this._context.renderer,this._fastVisualVariableConvertOptions(e)),!this._drivenProperties.size){if((null!=this.symbolLayer.size?this.symbolLayer.size:r(1))<0)throw new t(\"graphics3dlinesymbollayer:invalid-size\",\"Symbol sizes may not be negative values\")}}_getMaterialParameters(e,t=!1){const r=this._getCombinedOpacityAndColor(t&&this._markerColor||this._materialColor);this._patternHidesLine&&!t&&(r[3]=0);const i={width:this._computeMaterialWidth(this.symbolLayer?.size),color:r,hasPolygonOffset:!0,join:this.symbolLayer.join||\"miter\",cap:w(this.symbolLayer.cap||\"butt\"),hasSlicePlane:this._context.slicePlaneEnabled,isClosed:e,stipplePattern:I(this.symbolLayer.pattern)};return t&&this._fastMarkerUpdates?.visualVariables?{...i,...this._fastMarkerUpdates.materialParameters}:this._fastUpdates?.visualVariables?{...i,...this._fastUpdates.materialParameters}:i}get _materialColor(){return this.symbolLayer.material?.color}get _markerColor(){return this.symbolLayer.marker?.color}get _lineMaterial(){return null==this._materials[Q.Line]&&(this._materials[Q.Line]=new T(this._getMaterialParameters(!1))),this._materials[Q.Line]}get _ringMaterial(){return null==this._materials[Q.Ring]&&(this._materials[Q.Ring]=new T(this._getMaterialParameters(!0))),this._materials[Q.Ring]}get _wireframeLineMaterial(){return null==this._materials[Q.LineWireframe]&&(this._materials[Q.LineWireframe]=new T({...this._getMaterialParameters(!1),wireframe:!0})),this._materials[Q.LineWireframe]}get _wireframeRingMaterial(){return null==this._materials[Q.RingWireframe]&&(this._materials[Q.RingWireframe]=new T({...this._getMaterialParameters(!0),wireframe:!0})),this._materials[Q.RingWireframe]}get _markerMaterial(){return null==this._materials[Q.Marker]&&null!=this.symbolLayer.marker&&(this._materials[Q.Marker]=new W({...this._getMaterialParameters(!1,!0),placement:this.symbolLayer.marker.placement,markerPrimitive:R(this.symbolLayer.marker.style)})),this._materials[Q.Marker]}_getDrivenSize(e){if(this._drivenProperties.size){const t=e.size;return null!=t?i(g(t)):this._getFallbackSize()}return 1}_getDrivenColor({color:e,opacity:t}){const r=o(1,1,1,1);return this._drivenProperties.color&&s(r,e??this._getFallbackOpacityAndColor()),this._drivenProperties.opacity&&(r[3]=t??this._getFallbackOpacity()),r}_getDrivenMarkerColor({color:e,opacity:t}){const r=n();return this._drivenProperties.color&&s(r,e??this._getFallbackMarkerOpacityAndColor()),this._drivenProperties.opacity&&(r[3]=t??this._getFallbackMarkerOpacity()),r}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,H,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.draped?this._createAsOverlay(e):this._createAs3DShape(e,r,t.uid)}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return E.RecreateSymbol;{const e=this._fastUpdates;if(!D(e,t,this._fastVisualVariableConvertOptions()))return E.RecreateSymbol;for(const t of this._materials)t instanceof T&&t.setParameters(e.materialParameters);const r=this._fastMarkerUpdates,i=!0;if(!D(r,t,this._fastVisualVariableConvertOptions(i)))return E.RecreateSymbol;for(const t of this._materials)t instanceof W&&t.setParameters(r.materialParameters)}}return E.FastUpdate}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff,r={};\"complete\"===t.size?.type&&(r.width=this._computeMaterialWidth(t.size.newValue),delete t.size),\"complete\"===t.cap?.type&&(r.cap=w(t.cap.newValue??\"butt\"),delete t.cap);const i=this._prepareMarkerPatch(e,t);this._prepareMaterialPatch(e,t,i),e.symbolLayerStatePatches.push((()=>{for(const e of this._materials)e?.setParameters(r)}))}layerOpacityChanged(){for(const e of this._materials)this._updateMaterialLayerOpacity(e,e instanceof W)}_updateMaterialLayerOpacity(e,t=!1){if(null==e)return;const r=e.parameters.color,i=this.symbolLayer?.material?.color,a=this._patternHidesLine&&!t?0:this._getCombinedOpacity(i),s=o(r[0],r[1],r[2],a);e.setParameters({color:s})}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,a=M(B.elevationModeChangeTypes,r,i);if(a!==L.UPDATE)return a;const s=k(i);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>s))}slicePlaneEnabledChanged(){const e={hasSlicePlane:this._context.slicePlaneEnabled};for(const t of this._materials)t?.setParameters(e);return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const i=N(e.graphic.geometry),a=\"polygon\"===i.type?i.rings:i.paths,s=new Array,o=h(),n=j(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),l=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(n,a,l,\"LineSymbol3DLayer\");for(let h=0;h<n.lines.length;h++){const t=n.lines[h],a=t.position,l=t.mapPositions;if(null!=this._context.clippingExtent&&(y(l,o),!u(o,this._context.clippingExtent)))continue;const c=this._createGeometry(\"polygon\"===i.type?this._ringMaterial:this._lineMaterial,e,a,l,i.type,K.ELEVATED,r);if(s.push(c),S.LINE_WIREFRAMES&&s.push(c.instantiate({material:\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial})),null!=this._markerMaterial){const t=c.instantiate({material:this._markerMaterial});t.setAttributeData(G.COLOR,this._getDrivenMarkerColor(e.renderingInfo)),s.push(t)}}if(0===s.length)return null;const c=this._context.layerViewUid,p=new z({geometries:s,castShadow:!1,layerViewUid:c,graphicUid:r}),m=new v(this,p,null,b,t);return m.alignedSampledElevation=n.sampledElevation,m.needsElevationUpdates=k(t.mode),m}_createGeometry(e,t,r,i,a,s,o){const n=s===K.DRAPED?{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper}:null,l=\"polygon\"===a,c=this._fastUpdates?.visualVariables.color,p=this._fastUpdates?.visualVariables.size,m=this._fastUpdates?.visualVariables.opacity,h=this._context.layerViewUid,y=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:o,layerViewUid:h}),u={position:r,size:p?null:this._getDrivenSize(t.renderingInfo),color:c?null:this._getDrivenColor(t.renderingInfo),sizeFeature:p?V(p.field,t.graphic):null,colorFeature:c?V(c.field,t.graphic):null,opacityFeature:m?V(m.field,t.graphic):null};return U(e,{overlayInfo:n,removeDuplicateStartEnd:l,mapPositions:i,attributeData:u},y)}_createAsOverlay(e){const t=e.graphic,r=N(t.geometry),i=\"polygon\"===r.type?r.rings:r.paths,a=\"polygon\"===r.type?this._ringMaterial:this._lineMaterial;a.renderPriority=this._renderPriority;const s=S.LINE_WIREFRAMES?\"polygon\"===r.type?this._wireframeRingMaterial:this._wireframeLineMaterial:null,o=this._markerMaterial;null!=s&&(s.renderPriority=this._renderPriority-.001),null!=o&&(o.renderPriority=this._renderPriority-.002);const n=new Array,l=h(),c=d(),p=x(r,this._context.overlaySR),m=\"polygon\"===r.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(p,i,m,\"LineSymbol3DLayer\");for(const h of p.lines){if(y(h.position,l),!u(l,this._context.clippingExtent))continue;f(c,l);const i=i=>{const a=this._createGeometry(i,e,h.position,void 0,r.type,K.DRAPED,t.uid),s=this._context.layerViewUid,o=new F(a,{layerViewUid:s,graphicUid:t.uid});n.push(o)};if(null!=o){i(o);const e=this.symbolLayer.marker.placement;\"begin\"!==e&&\"begin-end\"!==e||_(l,h.position,0,1),\"end\"!==e&&\"begin-end\"!==e||_(l,h.position,h.position.length-3,1)}i(a),S.LINE_WIREFRAMES&&i(s)}return new C(this,n,c,this._context.drapeSourceRenderer)}get _patternHidesLine(){const e=this.symbolLayer.pattern;return null!=e&&\"style\"===e.type&&\"none\"===e.style}_computeMaterialWidth(e){return e=e??r(1),this._drivenProperties.size?this._fastUpdates?.visualVariables.size?i(1):1:i(e)}_prepareMaterialPatch(e,t,r){const i=t.material;if(null==i)return void(r.changed&&r.useMaterialColor&&q(this._getCombinedOpacityAndColor(this._materialColor),this._materials[Q.Marker],e));if(\"collection\"===i.type)return;const a=\"complete\"===i.type?i.newValue?.color:\"complete\"===i.diff.color?.type?i.diff.color.newValue:null,s=this._getCombinedOpacityAndColor(a);r.useMaterialColor&&q(l(s),this._materials[Q.Marker],e),this._patternHidesLine&&(s[3]=0),q(s,this._materials[Q.Line],e),delete t.material}_prepareMarkerPatch(e,t){const r=t.marker,i=this._markerMaterial;if(null==r||\"partial\"!==r.type||null==r.diff||null!=r.diff.placement||null!=r.diff.style&&\"complete\"!==r.diff.style.type||null!=r.diff.color&&\"complete\"!==r.diff.color.type||null==i)return{changed:!1,useMaterialColor:null==this._markerColor};const a=r.diff.color,s=null!=a,o=s?a.newValue:null,n=null==o&&null==this._markerColor;o&&q(this._getCombinedOpacityAndColor(o),i,e);const l=r.diff.style?.newValue;return l&&e.symbolLayerStatePatches.push((()=>i.setParameters({markerPrimitive:R(l)}))),delete t.marker,{changed:s,useMaterialColor:n}}_fastVisualVariableConvertOptions(e=!1){const t=this._getFallbackSize();return new O({supports:{size:!0,color:!0,rotation:!1,opacity:!0},fallbackColor:e?this._getFallbackMarkerOpacityAndColor():this._getFallbackOpacityAndColor(),fallbackSize:a(t,t,t)})}_getFallbackOpacityAndColor(){const t=this.symbolLayer?.material?.color;return e.toUnitRGBA(t)??c}_getFallbackOpacity(){return this.symbolLayer?.material?.color?.a??0}_getFallbackMarkerOpacityAndColor(){const t=this.symbolLayer?.marker?.color;return e.toUnitRGBA(t)??c}_getFallbackMarkerOpacity(){return this.symbolLayer?.marker?.color?.a??0}_getFallbackSize(){const e=this.symbolLayer?.size;return null!=e?i(e):1}}function N(e){switch(e.type){case\"extent\":if(e instanceof p)return m.fromExtent(e);break;case\"polygon\":case\"polyline\":return e}return null}function q(e,t,r){null!=t&&r.symbolLayerStatePatches.push((()=>t.setParameters({color:e})))}function J(e){return 1===(e.material?.color?.a??1)&&1===(e.marker?.color?.a??1)}var K,Q;!function(e){e[e.DRAPED=0]=\"DRAPED\",e[e.ELEVATED=1]=\"ELEVATED\"}(K||(K={})),function(e){e[e.Line=0]=\"Line\",e[e.Ring=1]=\"Ring\",e[e.LineWireframe=2]=\"LineWireframe\",e[e.RingWireframe=3]=\"RingWireframe\",e[e.Marker=4]=\"Marker\"}(Q||(Q={}));export{B as Graphics3DLineSymbolLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nconst e={disableDelayMs:2e3};export{e as meshAutoFastUpdateConstants};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{getTranslation as t,multiply as e,invert as a,copy as s,fromTranslation as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as n}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{perObjectElevationAligner as l}from\"./ElevationAligners.js\";import{evaluateElevationInfoAtPoint as f}from\"./elevationAlignmentUtils.js\";import{setContextFeature as d}from\"./featureExpressionInfoUtils.js\";import{Graphics3DObject3DGraphicLayer as c}from\"./Graphics3DObject3DGraphicLayer.js\";import{meshAutoFastUpdateConstants as h}from\"./meshAutoFastUpdateConstants.js\";class p extends c{constructor(){super(...arguments),this.fastTransformUpdatesAllowed=!1,this._originalGeometries=[],this._fastTransformUpdatesEnabled=!1,this._autoDisableFastUpdatesTimeoutId=0}get fastTransformUpdatesEnabled(){return this._fastTransformUpdatesEnabled}destroy(){super.destroy(),this._cancelAutoDisableFastUpdates()}enableFastTransformUpdates(e,a){if(!this.fastTransformUpdatesAllowed||this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!0;const{stageObject:s}=this,r=s.geometries.slice();s.removeAllGeometries();const i=t(g,s.transformation),o=a.getOrigin(i);for(const t of r){const a=e(t.material),r=t.instantiate({material:a});r.localOrigin=o,s.addGeometry(r)}this._originalGeometries=r}autoDisableFastTransformUpdates(t){this._cancelAutoDisableFastUpdates(),this._autoDisableFastUpdatesTimeoutId=setTimeout((()=>{this._autoDisableFastUpdatesTimeoutId=0,t()}),h.disableDelayMs)}updateAutoDisableFastTransformUpdates(t){this._autoDisableFastUpdatesTimeoutId&&this.autoDisableFastTransformUpdates(t)}_cancelAutoDisableFastUpdates(){clearTimeout(this._autoDisableFastUpdatesTimeoutId),this._autoDisableFastUpdatesTimeoutId=0}disableFastTransformUpdates(t){if(!this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!1;const{stageObject:e}=this,a=e.geometries.map((e=>t(e.material)));e.removeAllGeometries();for(let s=0;s<this._originalGeometries.length;s++){const t=this._originalGeometries[s],r=a[s];r.setParameters({modelTransformation:null}),r===t.material?e.addGeometry(t):e.addGeometry(t.instantiate({material:r}))}this._originalGeometries.length=0}updateFastLocalOrigin(e,a,s){if(!this._fastTransformUpdatesEnabled)return;const{stageObject:r}=this;if(0===r.geometries.length)return;const o=r.geometries[0].localOrigin,n=t(g,e),m=s.getOrigin(n);if(m===o)return;const l=a?.localMatrix??i;r.shaderTransformation=null,r.transformation=e,r.geometries.forEach((t=>{t.transformation=l,t.localOrigin=m}))}updateTransform(t,s,r){const{stageObject:o}=this,n=s?.localMatrix??i;if(!this._fastTransformUpdatesEnabled)return o.shaderTransformation=null,o.transformation=t,o.geometries.forEach((t=>t.transformation=n)),void this._updateEdgeTransform(r);const m=o.transformation,l=o.geometries[0].transformation,f=t,d=n,c=e(u,m,l),h=e(T,f,d),p=e(_,h,a(_,l));o.shaderTransformation=p,this._setFastMaterialTransformation({matA:c,matB:h}),this._updateEdgeTransform(r)}alignWithElevation(t,a,r,i){if(!this._fastTransformUpdatesEnabled)return void super.alignWithElevation(t,a,r,i);null!=r&&d(this.elevationContext.featureExpressionInfoContext,r);const o=(e,s)=>f(e,t,this.elevationContext,a,s),{stageObject:n}=this;if(!n.geometries[0].material.parameters.modelTransformation)return;const m=n.transformation,c=n.geometries[0].transformation,h=e(u,m,c),p=n.effectiveTransformation,g=s(b,p);this.alignedSampledElevation=l(this,this.elevationContext,t.spatialReference,o,a,g),n.shaderTransformation=g;const _=n.geometries[0].transformation,U=e(T,g,_);this._setFastMaterialTransformation({matA:h,matB:U}),this._updateEdgeTransform(i)}_setFastMaterialTransformation({matA:t,matB:s}){const{stageObject:i}=this;if(0===i.geometries.length)return;const o=i.geometries[0].localOrigin,m=r(F,n(g,o.vec3,-1)),l=e(U,m,t),f=e(E,m,s),d=a(U,l),c=e(E,f,d);for(const e of i.geometries)e.material.setParameters({modelTransformation:c})}_updateEdgeTransform(t){const{stageObject:e,_stageLayer:a}=this;a.stage.renderer.withEdgeView((a=>{a.fastUpdateObject3DEdgesTransform(e)||this.resetEdgeObject(t)}))}}const g=m(),u=o(),T=o(),b=o(),_=o(),U=o(),E=o(),F=o();export{p as Graphics3DMeshObject3DGraphicLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{DefaultMaterial as a}from\"../../webgl-engine/materials/DefaultMaterial.js\";class t{constructor(){this._fastTransformOriginalMaterials=new Map,this._fastTransformClonedMaterials=new Map,this._graphicReferenceCount=0}enable(t,e,r){t.enableFastTransformUpdates((t=>{if(this._graphicReferenceCount<=1){if(this._fastTransformOriginalMaterials.has(t))return t;const a=e.byMaterial(t);return this._fastTransformOriginalMaterials.set(t,a),e.delete(t),t}const s=new a(t.parameters,r);return this._fastTransformClonedMaterials.set(s,t),s}),r.localOriginFactory)}disable(a,t){const e=new Set,r=new Set;a.disableFastTransformUpdates((a=>{if(!this._fastTransformClonedMaterials.has(a)){const s=a,i=this._fastTransformOriginalMaterials.get(s);return t.has(i.uid)?(e.add(s),t.byUid(i.uid).material):(r.add(s),i.material)}const s=a,i=this._fastTransformClonedMaterials.get(s);return this._fastTransformClonedMaterials.delete(s),i}));for(const s of e)this._fastTransformOriginalMaterials.delete(s);for(const s of r){const a=this._fastTransformOriginalMaterials.get(s);this._fastTransformOriginalMaterials.delete(s),t.set(a.uid,a)}}onAddGraphic(){this._graphicReferenceCount++}onRemoveGraphic(a,t){this._graphicReferenceCount--,this.disable(a,t)}forEachMaterialInfo(a){this._fastTransformOriginalMaterials.forEach(a)}forEachClonedMaterial(a){this._fastTransformClonedMaterials.forEach(a)}destroy(){this._fastTransformClonedMaterials.clear(),this._fastTransformOriginalMaterials.clear()}}class e{constructor(){this._byUid=new Map,this._byMaterial=new Map}get materials(){return Array.from(this._byUid.values(),(a=>a.material))}byUid(a){return this._byUid.get(a)}byMaterial(a){return this._byMaterial.get(a)}set(a,t){this._byUid.set(a,t),this._byMaterial.set(t.material,t)}delete(a){const t=this._byMaterial.get(a)?.uid;t&&(this._byUid.delete(t),this._byMaterial.delete(a))}has(a){return this._byUid.has(a)}forEachMaterialInfo(a){this._byUid.forEach(a)}clear(){this._byUid.clear(),this._byMaterial.clear()}}export{e as MaterialInfoCache,t as MeshFastUpdateProcessor};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{stencilToolMaskBaseParams as t,stencilBaseAllZerosParams as l,stencilWriteMaskOn as s,depthCompareLess as n}from\"../lib/StencilUtils.js\";import{N as o}from\"../../../../chunks/NativeLine.glsl.js\";import{PrimitiveType as u}from\"../../../webgl/enums.js\";import{makePipelineState as p,defaultColorWrite as c,defaultDepthWrite as a,unpremultipliedAlphaToPremultipliedAlpha as m}from\"../../../webgl/renderState.js\";class d extends r{constructor(e,r){super(e,r,new i(o,(()=>import(\"./NativeLine.glsl.js\")))),this.primitiveType=u.LINES}initializePipeline(i){const{hasOccludees:r,output:o,transparent:u}=i,d=(e,i=null,o=null)=>p({blending:i,depthTest:n,depthWrite:o,colorWrite:c,stencilWrite:r?s:null,stencilTest:r?e?t:l:null});return e(o)?(this._occludeePipeline=d(!0,u?m:null,a),d(!1,u?m:null,a)):d(!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}export{d as NativeLineTechnique};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class t extends s{constructor(){super(...arguments),this.hasVertexColors=!1,this.transparent=!1,this.hasOccludees=!1,this.draped=!1}}e([r()],t.prototype,\"hasVertexColors\",void 0),e([r()],t.prototype,\"transparent\",void 0),e([r()],t.prototype,\"hasOccludees\",void 0);export{t as NativeLineTechniqueConfiguration};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../core/Logger.js\";import{clamp as r}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as t}from\"../../../../core/screenUtils.js\";import{copy as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{i as s,d as i,e as a,g as n,f as c,c as m,l,j as f}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PlaneIndex as h}from\"../../../../geometry/support/frustum.js\";import{distance2 as g,fromPoints as d,create as j,closestLineSegmentPoint as b}from\"../../../../geometry/support/lineSegment.js\";import{fromPoints as A,create as S,signedDistance as x,getNormal as L}from\"../../../../geometry/support/plane.js\";import{isColorHighlightOrOID as y}from\"../core/shaderLibrary/ShaderOutput.js\";import N from\"../lib/GLMaterial.js\";import{Material as R,MaterialParameters as v}from\"../lib/Material.js\";import{RenderSlot as E}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as M}from\"../lib/Util.js\";import{VertexAttribute as T}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as _}from\"./DefaultBufferWriter.js\";import{PositionColorLayout as w,PositionLayout as C}from\"./DefaultLayouts.js\";import{NativeLineTechnique as O}from\"../shaders/NativeLineTechnique.js\";import{NativeLineTechniqueConfiguration as V}from\"../shaders/NativeLineTechniqueConfiguration.js\";import{alphaCutoff as P}from\"../../../../webscene/support/AlphaCutoff.js\";class U extends R{constructor(e){super(e,q),this._configuration=new V,this.produces=new Map([[E.OPAQUE_MATERIAL,e=>y(e)]])}getConfiguration(e,r){return super.getConfiguration(e,r,this._configuration),this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVertexColors=this.parameters.hasVertexColors,this._configuration.transparent=this.parameters.color[3]<1||this.parameters.width<1,this._configuration.hasOccludees=r.hasOccludees,this._configuration}get visible(){return this.parameters.color[3]>=P}intersect(r,t,u,p,j,S){const y=u.camera;if(!u.options.selectionMode||!r.visible||!y)return;if(!M(t))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\").error(\"intersection assumes a translation-only matrix\");const N=r.attributes.get(T.POSITION).data,R=H;o(R,u.point);const v=2;s(J[0],R[0]-v,R[1]+v,0),s(J[1],R[0]+v,R[1]+v,0),s(J[2],R[0]+v,R[1]-v,0),s(J[3],R[0]-v,R[1]-v,0);for(let e=0;e<4;e++)if(!y.unprojectFromRenderScreen(J[e],K[e]))return;A(y.eye,K[0],K[1],Y),A(y.eye,K[1],K[2],$),A(y.eye,K[2],K[3],ee),A(y.eye,K[3],K[0],re);let E=Number.MAX_VALUE,_=0;for(let e=0;e<N.length-5;e+=3){if(B[0]=N[e]+t[12],B[1]=N[e+1]+t[13],B[2]=N[e+2]+t[14],D[0]=N[e+3]+t[12],D[1]=N[e+4]+t[13],D[2]=N[e+5]+t[14],x(Y,B)<0&&x(Y,D)<0||x($,B)<0&&x($,D)<0||x(ee,B)<0&&x(ee,D)<0||x(re,B)<0&&x(re,D)<0)continue;if(y.projectToRenderScreen(B,G),y.projectToRenderScreen(D,k),G[2]<0&&k[2]>0){i(W,B,D);const e=y.frustum,r=-x(e[h.NEAR],B)/a(W,L(e[h.NEAR]));n(W,W,r),c(B,B,W),y.projectToRenderScreen(B,G)}else if(G[2]>0&&k[2]<0){i(W,D,B);const e=y.frustum,r=-x(e[h.NEAR],D)/a(W,L(e[h.NEAR]));n(W,W,r),c(D,D,W),y.projectToRenderScreen(D,k)}else if(G[2]<0&&k[2]<0)continue;G[2]=0,k[2]=0;const r=g(d(G,k,Z),R);r<E&&(E=r,m(F,B),m(Q,D),_=e/3)}const w=u.rayBegin,C=u.rayEnd;if(E<v*v){let e=Number.MAX_VALUE;if(b(d(F,Q,Z),d(w,C,z),X)){i(X,X,w);const r=l(X);n(X,X,1/r),e=r/f(w,C)}S(e,X,_)}}intersectDraped(e,t,o,s,i){if(!t.options.selectionMode)return;const a=e.attributes.get(T.POSITION).data,n=e.attributes.get(T.SIZE),c=n?n.data[0]:0,m=o[0],l=o[1],f=((c+1)/2+4)*e.screenToWorldRatio;let u=Number.MAX_VALUE,p=0;for(let h=0;h<a.length-5;h+=3){const e=a[h],t=a[h+1],o=m-e,s=l-t,i=a[h+3]-e,n=a[h+4]-t,c=r((i*o+n*s)/(i*i+n*n),0,1),f=i*c-o,g=n*c-s,d=f*f+g*g;d<u&&(u=d,p=h/3)}u<f*f&&s(i.distance,i.normal,p)}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=this.parameters.hasVertexColors?w:C;return new _(e)}}class I extends N{beginSlot(e){return this.getTechnique(O,e)}}class q extends v{constructor(){super(...arguments),this.color=p,this.hasVertexColors=!1,this.hasSlicePlane=!1,this.width=1}}const B=u(),D=u(),W=u(),X=u(),G=t(),k=t(),F=u(),Q=u(),Z=j(),z=j(),H=u(),J=[t(),t(),t(),t()],K=[u(),u(),u(),u()],Y=S(),$=S(),ee=S(),re=S();export{U as NativeLineMaterial,q as Parameters};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{releaseMaybe as r}from\"../../../../core/maybe.js\";import{isPromiseLike as o}from\"../../../../core/promiseUtils.js\";import{normalFromMat4 as a,fromMat4 as s}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{fromTranslation as i,multiply as l,invert as c,getTranslation as u}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m,IDENTITY as f,clone as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ONES as h}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as d,f as g,g as x,t as _,o as y,n as T,b,d as v,h as w,e as M}from\"../../../../chunks/vec32.js\";import{create as R,ONES as C,ZEROS as j}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as A,ZEROS as P}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{canProjectWithoutEngine as O}from\"../../../../geometry/projectionUtils.js\";import{computeTranslationToOriginAndRotation as E}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as N}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToPoint as I}from\"../../../../geometry/projection/projectVectorToPoint.js\";import{fromBuffer as S,create as U,intersectsClippingArea as B}from\"../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as F}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as V,getContinuousIndexArray as L}from\"../../../../geometry/support/Indices.js\";import D from\"../../../../geometry/support/MeshComponent.js\";import G from\"../../../../geometry/support/MeshMaterialMetallicRoughness.js\";import $ from\"../../../../geometry/support/MeshTextureTransform.js\";import{isRelativeVertexSpace as H,isAbsoluteVertexSpace as k}from\"../../../../geometry/support/meshVertexSpaceUtils.js\";import{equals as q,isPlateCarree as z}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{t as W}from\"../../../../chunks/vec3.js\";import{transformNormal as Y,transformVectorENUPlateCarree as Z,VectorType as J,transformVectorWMPlateCarree as K,projectNormalToPCPF as Q,transformTangent as X,projectTangentToPCPF as ee}from\"../../../../geometry/support/meshUtils/projection.js\";import{projectMeshVertexPositions as te}from\"../../../../geometry/support/meshUtils/projectMeshVertexPositions.js\";import{makeDehydratedPoint as re}from\"../../../../layers/graphics/dehydratedPoint.js\";import{MeshTransformUpdateAction as oe}from\"../../../../layers/graphics/sources/interfaces.js\";import{getEmissiveMode as ae}from\"../../../../symbols/support/materialUtils.js\";import{ViewingMode as se}from\"../../../ViewingMode.js\";import{isEncodedMeshTexture as ne}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as ie}from\"../../glTF/internal/TextureTransformUtils.js\";import{defaultSymbolLayerMemoryComplexity as le}from\"./defaultSymbolComplexity.js\";import{perObjectElevationAligner as ce}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as ue,evaluateElevationInfoAtPoint as me}from\"./elevationAlignmentUtils.js\";import{Graphics3DMeshObject3DGraphicLayer as fe}from\"./Graphics3DMeshObject3DGraphicLayer.js\";import{Object3DEdgeState as pe}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as he}from\"./Graphics3DSymbolLayer.js\";import{MaterialInfoCache as de,MeshFastUpdateProcessor as ge}from\"./MeshFastUpdateProcessor.js\";import{SymbolComplexity as xe}from\"./SymbolComplexity.js\";import{hasEdges as _e,createMaterial as ye}from\"../support/edgeUtils.js\";import{parseColorMixMode as Te,encodeSymbolColor as be}from\"../support/symbolColorUtils.js\";import{debugFlags as ve}from\"../../support/debugFlags.js\";import{Attribute as we}from\"../../webgl-engine/lib/Attribute.js\";import{AlphaDiscardMode as Me,CullFaceOptions as Re}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as Ce}from\"../../webgl-engine/lib/Geometry.js\";import{Object3D as je}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as Ae}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as Pe}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as Oe}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{NativeLineMaterial as Ee}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{useSchematicPBR as Ne,advancedMRRFactors as Ie,schematicMRRFactors as Se}from\"../../webgl-engine/materials/pbrUtils.js\";import{TextureWrapMode as Ue}from\"../../../webgl/enums.js\";import{GeometryType as Be}from\"../../webgl-engine/lib/IntersectableGeometry.js\";const Fe=[\"mesh\"];class Ve extends he{constructor(e,t,r,o){super(e,t,r,o,rt(t)),this._materialInfoCache=new de,this._fastUpdateProcessor=new ge,this._textures=new Map,this.ensureDrapedStatus(!1)}async doLoad(){ve.DRAW_MESH_GEOMETRY_NORMALS&&(this._debugVertexNormalMaterial=new Ee({color:[1,0,1,1]}),this._debugTangentNormalMaterial=new Ee({color:[1,.5,0,1]}),this._debugFaceNormalMaterial=new Ee({color:[0,1,1,1]})),this.updateComplexity()}destroy(){super.destroy(),this._textures.forEach((e=>e.unload())),this._context.stage.removeTextures(Array.from(this._textures.values())),this._materialInfoCache.clear(),this._textures.clear(),this._fastUpdateProcessor.destroy()}get materials(){return this._materialInfoCache.materials}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,Fe,\"fill on mesh-3d\"))return null;const r=this.setGraphicElevationContext(t),o=e.renderingInfo;return this._createAs3DShape(t,o,r,t.uid)}onRemoveGraphic(e){this._fastUpdateProcessor.onRemoveGraphic(e,this._materialInfoCache)}layerOpacityChanged(e,t){const r=this._getLayerOpacity();this._updateMaterialParameters((e=>{e.material.setParameters({layerOpacity:r});const t=e.material.parameters;this._setMaterialTextureAlphaMode(t,e)})),e?.forEach((e=>t(e)?.layerOpacityChanged(r,this._context.isAsync)))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,ue)}slicePlaneEnabledChanged(e,t){return this._updateMaterialParameters((({material:e})=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),e?.forEach((e=>t(e)?.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync))),!0}physicalBasedRenderingChanged(){const e=this._usePBR();return this._updateMaterialParameters((({material:t})=>t.setParameters({usePBR:e}))),!0}updateTransform(e,t,r,o){if(!e.fastTransformUpdatesAllowed)return!1;const a=e.fastTransformUpdatesEnabled;switch(o){case oe.EnableFastUpdates:if(a)return!0;break;case oe.DisableFastUpdates:if(!a)return!0;break;default:if(!a)return!!this.updateTransform(e,t,r,oe.EnableFastUpdates)&&(e.autoDisableFastTransformUpdates((()=>this.updateTransform(e,t,r,oe.DisableFastUpdates))),!0)}const s=this._context.renderCoordsHelper.spatialReference,n=ut,{origin:i,transform:l}=r;if(!E(t,d(st,i.x,i.y,i.z??0),n,s))return!1;switch(o){case oe.EnableFastUpdates:this._fastUpdateProcessor.enable(e,this._materialInfoCache,this._context);break;case oe.DisableFastUpdates:this._fastUpdateProcessor.disable(e,this._materialInfoCache);break;case oe.UpdateFastLocalOrigin:e.updateFastLocalOrigin(n,l,this._context.localOriginFactory)}const{elevationContext:c}=e;c.centerPointInElevationSR=this._getCenterPointInElevationSR(n);const{elevationProvider:u,renderCoordsHelper:m}=this._context,f=(e,t)=>me(e,u,c,m,t);return e.alignedSampledElevation=ce(e,c,u.spatialReference,f,m,n),e.updateTransform(n,l,this._context.isAsync),e.updateAutoDisableFastTransformUpdates((()=>this.updateTransform(e,t,r,oe.DisableFastUpdates))),!0}computeComplexity(){if(!this._textures||0===this._textures.size)return super.computeComplexity();let e=0;for(const o of this._textures.values())e+=o.usedMemory;const t={...le(this.symbol,this.symbolLayer),resourceBytes:e},r=_e(this.symbolLayer)?2:0;return new xe({drawCallsPerFeature:r,memory:t})}_requiresSymbolVertexColors(){return this._drivenProperties.color||this._drivenProperties.opacity}_materialPropertiesDefault(e,t){const r=this._requiresSymbolVertexColors(),o=!!e.vertexAttributes.color,a=!!e.vertexAttributes.tangent;return{hasSymbolVertexColors:r,hasVertexColors:o,hasVertexTangents:a,uid:`vc:${o},vt:${a},vct${t},svc:${r}`}}_materialProperties(e,t,r){const o=this._materialPropertiesDefault(e,r);if(!t.material)return o;const{color:a,colorTexture:s,colorTextureTransform:n,normalTexture:i,normalTextureTransform:l,doubleSided:c,alphaCutoff:u,alphaMode:m}=t.material,f=Xe(a),p=Xe(s),h=et(n),d=Xe(i),g=et(l);if(o.color=a,o.colorTexture=s,o.normalTexture=i,o.uid=`${o.uid},cmuid:${f},ctmuid:${p},cttuid:${h},ntmuid:${d},nttuid:${g},ds:${c},ac:${u},am:${m}`,t.material instanceof G){const{metallic:e,roughness:r,metallicRoughnessTexture:a,metallicRoughnessTextureTransform:s,emissiveColor:i,emissiveTexture:c,emissiveTextureTransform:u,occlusionTexture:m,occlusionTextureTransform:f}=t.material,p=Xe(a),h=et(s),d=Xe(i),g=Xe(c),x=et(u),_=Xe(m),y=et(f);o.metallic=e,o.roughness=r,o.metallicRoughnessTexture=a,o.emissiveColor=i,o.emissiveTexture=c,o.occlusionTexture=m,o.colorTextureTransform=We(n),o.normalTextureTransform=We(l),o.emissiveTextureTransform=We(u),o.occlusionTextureTransform=We(f),o.metallicRoughnessTextureTransform=We(s),o.uid=`${o.uid},mrm:${e},mrr:${r},mrt:${p},mrtt:${h},emuid:${d},etmuid:${g},ett:${x},otmuid:${_},ott:${y}`}return o}_getInternalTexture(e,t=!1,a=Me.Opaque){const s=Qe(e);if(!s)return null;const n=`${e.contentHash}/${a}`;let i=this._textures.get(n);if(i){const e=this._context.stage.renderView.textures;let t=null;const a=e.acquire(i.id);return null==a||o(a)||(i.events.on(\"unloaded\",(()=>t=r(t))),t=a),i}let l=null;const c=this._context.stage.renderView.renderingContext.parameters.maxMaxAnisotropy,u={wrap:Ye(e.wrap),noUnpackFlip:!0,maxAnisotropy:c,mipmap:c>1};return ne(s)?(l=s.data,u.preMultiplyAlpha=!1,u.encoding=s.encoding):(l=s,u.preMultiplyAlpha=a!==Me.Opaque,u.compressionOptions=t?{compressionTracker:this._context.compressionTracker,compressionCallback:()=>this.updateComplexity()}:void 0),i=new Ae(l,u),this._textures.set(n,i),i.events.on(\"loaded\",(()=>this.updateComplexity())),i.load(this._context.stage.renderView.renderingContext),this._context.stage.addTexture(i),i.events.on(\"unloaded\",(()=>{this._textures.delete(n)})),i}_setInternalMaterialTextureParameters(t,r){if(null!=t.colorTexture){const e=r.textureAlphaMode!==Me.Opaque,o=this._getInternalTexture(t.colorTexture,e,r.textureAlphaMode);o?(r.textureId=o.id,r.textureAlphaPremultiplied=!!o.parameters.preMultiplyAlpha):r.textureId=void 0}t.normalTexture&&(r.normalTextureId=this._getInternalTexture(t.normalTexture)?.id),t.emissiveColor&&(r.emissiveBaseColor=e.toUnitRGB(t.emissiveColor)),t.emissiveTexture&&(r.emissiveTextureId=this._getInternalTexture(t.emissiveTexture)?.id),t.occlusionTexture&&(r.occlusionTextureId=this._getInternalTexture(t.occlusionTexture,!0)?.id),t.metallicRoughnessTexture&&(r.metallicRoughnessTextureId=this._getInternalTexture(t.metallicRoughnessTexture,!0)?.id)}_setInternalMaterialParameters(e,t,r){null!=e.color&&Ke(e.color,t,r),this._setInternalMaterialTextureParameters(e,t),t.colorTextureTransformMatrix=ie(e.colorTextureTransform),t.normalTextureTransformMatrix=ie(e.normalTextureTransform);const o=null!=e.normalTextureTransform?.scale?e.normalTextureTransform?.scale:h;t.scale=[o[0],o[1]],t.occlusionTextureTransformMatrix=ie(e.occlusionTextureTransform),t.emissiveTextureTransformMatrix=ie(e.emissiveTextureTransform),t.metallicRoughnessTextureTransformMatrix=ie(e.metallicRoughnessTextureTransform)}_setExternalMaterialParameters(t,r=this.symbolLayer?.material?.color){const o=this._drivenProperties.color,a=this._drivenProperties.opacity;let s=this.symbolLayer.material?.colorMixMode??null;if(o)t.externalColor=A;else{const o=r??null;if(o){const r=e.toUnitRGBA(o);a&&(r[3]=1),t.externalColor=r}else s=null,t.externalColor=A}s&&(t.colorMixMode=s),t.castShadows=!!this.symbolLayer.castShadows,t.emissiveStrength=this.symbolLayer?.material?.emissive?.strength??1,t.emissiveSource=ae(this.symbolLayer?.material?.emissive?.source??\"emissive\")}_getOrCreateMaterial(t,r){const o=r.material?.color,a=r.material?.colorTexture,s=r.material?.alphaMode,n=\"blend\"===s,i=!(\"opaque\"===s)&&(Je(t)||null!=o&&o.a<1||a?.transparent||n),l=this._materialProperties(t,r,i),c=this._materialInfoCache.byUid(l.uid);if(c)return this._setInternalMaterialTextureParameters(l,c.material.parameters),c.material;const u={uid:l.uid,material:null,isComponentTransparent:i,alphaMode:r.material?r.material.alphaMode:\"opaque\"},m=Ne({normalTexture:l.normalTexture,metallicRoughnessTexture:l.metallicRoughnessTexture,metallicFactor:l.metallic,roughnessFactor:l.roughness,emissiveTexture:l.emissiveTexture,emissiveFactor:e.toUnitRGB(l.emissiveColor),occlusionTexture:l.occlusionTexture}),f={usePBR:this._usePBR(),isSchematic:m,hasVertexColors:l.hasVertexColors,hasSymbolColors:l.hasSymbolVertexColors,hasVertexTangents:l.hasVertexTangents,ambient:j,diffuse:C,opacity:1,doubleSided:!0,doubleSidedType:\"winding-order\",cullFace:Re.None,layerOpacity:this._getLayerOpacity(),hasSlicePlane:this._context.slicePlaneEnabled,drivenOpacity:this.needsDrivenTransparentPass||u.isComponentTransparent};f.mrrFactors=m?Se:[l.metallic,l.roughness,Ie[2]],r.material&&(f.doubleSided=r.material.doubleSided,f.cullFace=r.material.doubleSided?Re.None:Re.Back,f.textureAlphaCutoff=r.material.alphaCutoff),this._setExternalMaterialParameters(f),this._setMaterialTextureAlphaMode(f,u),this._setInternalMaterialParameters(l,f,u);const p=new Oe(f,this._context);return u.material=p,this._materialInfoCache.set(l.uid,u),p}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchColor(e,t)}_preparePatchColor(e,t){if(!t.material||\"partial\"!==t.material.type)return;const r=t.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const o=r.color.newValue;delete r.color,e.symbolLayerStatePatches.push((()=>{this._updateMaterialParameters((e=>{const t=e.material.parameters;this._setExternalMaterialParameters(t,o),this._setMaterialTextureAlphaMode(t,e),e.material.setParameters({externalColor:t.externalColor})}))}))}_usePBR(){return this._context.physicalBasedRenderingEnabled}_setMaterialTextureAlphaMode(e,t){if(\"auto\"===t.alphaMode){const r=this.needsDrivenTransparentPass||t.isComponentTransparent||(e.layerOpacity??1)<1||(e.opacity??1)<1||(e.externalColor?.[3]??1)<1;e.textureAlphaMode=r?Me.MaskBlend:Me.Opaque}else e.textureAlphaMode=\"opaque\"===t.alphaMode?Me.Opaque:\"mask\"===t.alphaMode?Me.Mask:Me.Blend}_createFaceDebugNormals(e,t){const r=t.length,o=e.spatialReference.isGeographic?20015077/180:1,s=.1*Math.max(e.extent.width*o,e.extent.height*o,e.extent.zmax-e.extent.zmin),i=[],l=[],c=t[0].transformation,u=a(n(),c);for(let a=0;a<r;a++){const e=t[a].attributes.get(Pe.POSITION);if(!e)continue;const r=e.data,o=e.indices;for(let t=0;t<o.length;t+=3)ze(r,o,t,lt),qe(r,o,t,st,nt,it),g(st,st,nt),g(st,st,it),x(st,st,1/3),_(st,st,c),i.push(...st),y(lt,lt,u),T(lt,lt),b(st,st,lt,s),i.push(...st),l.push(l.length),l.push(l.length)}return i.length?new Ce(this._debugFaceNormalMaterial,[[Pe.POSITION,new we(i,l,3,!0)]],null,Be.Line):null}_createPerVertexDebugVectors(e,t,r,o,i){const l=t.length,c=e.spatialReference.isGeographic?20015077/180:1,u=.1*i*Math.max(e.extent.width*c,e.extent.height*c,e.extent.zmax-e.extent.zmin),m=[],f=[],p=t[0].transformation,h=a(n(),p);r===Pe.TANGENT&&s(h,p);for(let a=0;a<l;a++){const e=t[a],o=e.attributes.get(Pe.POSITION),s=e.attributes.get(r);if(!o||!s)continue;const n=o.data,i=o.indices,l=s.data,c=s.indices;for(let t=0;t<i.length;t++){const e=3*i[t],r=c[t]*s.stride;d(st,n[e+0],n[e+1],n[e+2]),_(st,st,p),m.push(...st),d(nt,l[r+0],l[r+1],l[r+2]),y(nt,nt,h),T(nt,nt),b(st,st,nt,u),m.push(...st),f.push(f.length),f.push(f.length)}}return m.length?new Ce(o,[[Pe.POSITION,new we(m,f,3,!0)]],null,Be.Line):null}_createAs3DShape(e,t,r,o){const a=e.geometry;if(\"mesh\"!==a.type)return null;const s=this._createGeometryInfo(a,t,o);if(null==s)return null;const{geometries:n,objectTransformation:i}=s;if(ve.DRAW_MESH_GEOMETRY_NORMALS){const e=this._createPerVertexDebugVectors(a,n,Pe.NORMAL,this._debugVertexNormalMaterial,1),t=this._createPerVertexDebugVectors(a,n,Pe.TANGENT,this._debugTangentNormalMaterial,.5),r=this._createFaceDebugNormals(a,n);e&&n.push(e),t&&n.push(t),r&&n.push(r)}const l=this._context.layerViewUid,c=new je({geometries:n,layerViewUid:l,graphicUid:o,isElevationSource:!0});c.transformation=i;const u=ye(this.symbolLayer,{opacity:this._getLayerOpacity()}),m=u?new pe(n[0].material,u,this._context.slicePlaneEnabled):null,f=new fe(this,c,null,ce,r,m);this._fastUpdateProcessor.onAddGraphic(),f.needsElevationUpdates=ue(r.mode),f.useObjectOriginAsAttachmentOrigin=!0,f.fastTransformUpdatesAllowed=this._fastTransformUpdatesAllowed(a),r.centerPointInElevationSR=this._getCenterPointInElevationSR(c.transformation);const{elevationProvider:p,renderCoordsHelper:h}=this._context,d=(e,t)=>me(e,p,r,h,t);return f.alignedSampledElevation=ce(f,r,p.spatialReference,d,h),f}_fastTransformUpdatesAllowed(e){const{vertexSpace:t,spatialReference:r}=e;if(!H(t))return!1;const{type:o}=t,{view:a}=this._context.graphicsCoreOwner,{viewingMode:s}=a.state,n=a.spatialReference;return s===se.Global&&\"local\"===o||s===se.Local&&q(n,r)&&\"georeferenced\"===o&&!r.isGeographic}_getCenterPointInElevationSR(e){const t=re(0,0,0,this._context.elevationProvider.spatialReference??null);return I([e[12],e[13],e[14]],this._context.renderCoordsHelper.spatialReference,t),t}_passthroughReprojectionInfo(e){return e.reprojection===pt.NONE&&!!e.objectTransformation}_createPositionBuffer(e,t){const r=e.vertexAttributes.position;let o,a=r;if(t.reprojection===pt.NONE)return{position:a,georeferencedPositionBuffer:o};const s=t.reprojection===pt.RENDER?t.transformBeforeProject:null;s&&(a=W(new Float64Array(a.length),a,s));const{normal:n,tangent:i}=e.vertexAttributes;this._passthroughReprojectionInfo(t)||!n&&!i||(o=a);const l=a===r||a===o?new Float64Array(a.length):a;return N(a,e.spatialReference,0,l,this._context.renderCoordsHelper.spatialReference,0),{position:l,georeferencedPositionBuffer:o}}_createNormalBuffer(e,t,r,o){const a=e.vertexAttributes.normal;if(null==a)return null;let s=a;const n=o.reprojection===pt.RENDER?o.transformBeforeProject:null;n&&(s=Y(s,new Float32Array(s.length),n));const i=this._context.graphicsCoreOwner.view.viewingMode;if(o.reprojection===pt.NONE)return s;if(\"local\"===i){if(!z(this._context.renderCoordsHelper.spatialReference))return s;if(null==r)return null;if(e.spatialReference.isGeographic){const e=s===a?new Float32Array(s.length):s;return Z(s,J.NORMAL,r,e)}if(e.spatialReference.isWebMercator){const e=s===a?new Float32Array(s.length):s;return K(s,J.NORMAL,r,e)}return s}if(null==r)return null;const l=s===a?new Float32Array(s.length):s,c=this._context.renderCoordsHelper.spatialReference;return Q(s,r,e.spatialReference,t,c,l)}_createTangentBuffer(e,t,r,o){const a=e.vertexAttributes.tangent;if(null==a)return null;let s=a;const n=o.reprojection===pt.RENDER?o.transformBeforeProject:null;n&&(s=X(s,new Float32Array(s.length),n));const i=this._context.graphicsCoreOwner.view.viewingMode;if(o.reprojection===pt.NONE)return s;if(\"local\"===i){if(!z(this._context.renderCoordsHelper.spatialReference))return s;if(null==r)return null;if(e.spatialReference.isGeographic){const e=s===a?new Float32Array(s.length):s;return Z(s,J.TANGENT,r,e)}if(e.spatialReference.isWebMercator){const e=s===a?new Float32Array(s.length):s;return K(s,J.TANGENT,r,e)}return s}if(null==r)return null;const l=s===a?new Float32Array(s.length):s,c=this._context.renderCoordsHelper.spatialReference;return ee(s,r,e.spatialReference,t,c,l)}_createSymbolColorBuffer(e){if(this._requiresSymbolVertexColors()){const t=this._getVertexOpacityAndColor(e,this._getFallbackOpacityAndColor()),r=Te(this.symbolLayer?.material?.colorMixMode),o=new Uint8Array(4);return be(t,r,o),o}return null}_createBuffers(e,t){const r=e.vertexAttributes&&e.vertexAttributes.position;if(!r)return this.logger.warn(\"Mesh geometry must contain position vertex attributes\"),null;const o=e.vertexAttributes.normal,a=e.vertexAttributes.uv,s=e.vertexAttributes.tangent;if(o&&o.length!==r.length)return this.logger.warn(\"Mesh normal vertex buffer must contain the same number of elements as the position buffer\"),null;if(s&&s.length/4!=r.length/3)return this.logger.warn(\"Mesh tangent vertex buffer must contain the same number of elements as the position buffer\"),null;if(a&&a.length/2!=r.length/3)return this.logger.warn(\"Mesh uv vertex buffer must contain the same number of elements as the position buffer\"),null;const n=this._computeReprojectionInfo(e),{position:i,georeferencedPositionBuffer:l}=this._createPositionBuffer(e,n),c=tt(e),u=this._createSymbolColorBuffer(t),f=this._createNormalBuffer(e,i,l,n),p=this._createTangentBuffer(e,i,l,n),h=a,{transformation:d,position:g,normal:x,tangent:_}=this._passthroughReprojectionInfo(n)?{transformation:n.objectTransformation,position:i,normal:f,tangent:p}:this._transformOriginLocal(e,i,f,p);return{positionBuffer:g,normalBuffer:x,tangentBuffer:_,uvBuffer:h,colorBuffer:c,symbolColorBuffer:u,objectTransformation:d,geometryTransformation:n.reprojection===pt.NONE&&n.geometryTransformation?n.geometryTransformation:m()}}_computeReprojectionInfo(e){const{vertexSpace:t}=e,r=\"georeferenced\"===t.type?q(this._context.renderCoordsHelper.spatialReference,e.spatialReference)?pt.NONE:pt.RENDER:pt.NONE;if(k(t))return{reprojection:r};const o=t.origin,a=m(),s=e.transform?.localMatrix??f;if(r===pt.NONE){E(e.spatialReference,o,a,this._context.renderCoordsHelper.spatialReference);return{reprojection:r,objectTransformation:a,geometryTransformation:p(s)}}const n=i(m(),o);return l(n,n,s),{reprojection:r,transformBeforeProject:n}}_transformOriginLocal(e,t,r,o){const a=this._context.renderCoordsHelper.spatialReference,s=e.origin;at[0]=s.x,at[1]=s.y,at[2]=s.z??0;const n=m();E(e.spatialReference,at,n,a),c(ct,n);const{position:i,normal:l,tangent:u}=e.vertexAttributes,f=t===i?new Float64Array(t.length):t;W(f,t,ct);const p=r?r===l?new Float32Array(r.length):r:null,h=o?o===u?new Float32Array(o.length):o:null;return r&&p&&Y(r,p,ct),o&&h&&X(o,h,ct),{transformation:n,position:f,normal:p,tangent:h}}_validateFaces(e,t){const r=e.vertexAttributes.position.length/3,o=t.faces;if(o){let e=-1;for(let t=0;t<o.length;t++){const r=o[t];r>e&&(e=r)}if(r<=e)return this.logger.warn(`Vertex index ${e} is out of bounds of the mesh position buffer`),!1}else if(r%3!=0)return this.logger.warn(\"Mesh position buffer length must be a multiple of 9 if no component faces are defined (3 values per vertex * 3 vertices per triangle)\"),!1;return!0}_isOutsideClippingArea(e){if(!this._context.clippingExtent)return!1;const t=e.vertexAttributes?.position;if(!t)return!1;const r=this._context.elevationProvider.spatialReference,o=te(e,r??e.spatialReference);return!!o&&(S(o,mt),!B(mt,this._context.clippingExtent))}_createGeometryInfo(e,t,r){if(!O(e.spatialReference,this._context.renderCoordsHelper.spatialReference))return this.logger.warn(\"Geometry spatial reference is not compatible with the view\"),null;if(!this._validateVertexSpace(e))return null;if(this._isOutsideClippingArea(e))return null;const o=this._createBuffers(e,t);if(null==o)return null;const{positionBuffer:a,uvBuffer:s,colorBuffer:n,symbolColorBuffer:i,normalBuffer:l,tangentBuffer:c,objectTransformation:m,geometryTransformation:f}=o,p=e.components??ft,h=new Array;let d=!1;const g=u(st,m),x=this._context.localOriginFactory.getOrigin(g);for(const u of p){if(!this._validateFaces(e,u))return null;const t=De(e,u);if(0===t.length)continue;const o=Ge(a,l,u,t);o.didFlipNormals&&(d=!0);const m=[[Pe.POSITION,new we(a,t,3,!0)],[Pe.NORMAL,new we(o.normals,o.indices,3,!0)]];n&&m.push([Pe.COLOR,new we(n,t,4,!0)]),i&&m.push([Pe.SYMBOLCOLOR,new we(i,V(t.length),4,!0)]),s&&m.push([Pe.UV0,new we(s,t,2,!0)]),c&&m.push([Pe.TANGENT,new we(c,t,4,!0)]);const p=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:r,layerViewUid:this._context.layerViewUid}),g=this._getOrCreateMaterial(e,u),_=new Ce(g,m,null,Be.Mesh,p);_.transformation=f,_.localOrigin=x,h.push(_)}return d&&this.logger.warn(\"Normals have been automatically flipped to be consistent with the counter clock wise face winding order. It is better to generate mesh geometries that have consistent normals.\"),{geometries:h,objectTransformation:m}}_updateMaterialParameters(e){this._materialInfoCache.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachClonedMaterial(((e,t)=>{t.setParameters(e.parameters)}))}_validateVertexSpace(e){const{_context:{graphicsCoreOwner:{view:{state:{viewingMode:t}}}}}=this,{vertexSpace:r}=e;return t!==se.Local||\"local\"!==r.type||(this.logger.warn(\"Displaying a mesh with a local vertex space in a view in local viewing mode is not supported.\"),!1)}test(){return{...super.test(),materials:this._materialInfoCache.materials}}_getFallbackOpacityAndColor(){const t=this.symbolLayer?.material?.color;return e.toUnitRGBA(t)??P}}class Le{constructor(e,t,r){this.normals=e,this.indices=t,this.didFlipNormals=r}}function De(e,t){return t.faces??L(e.vertexAttributes.position.length/3)}function Ge(e,t,r,o){switch(r.shading||\"flat\"){default:case\"source\":return He(e,t,r,o);case\"flat\":return $e(e,o);case\"smooth\":return ke(e,o)}}function $e(e,t){const r=F(t.length),o=new Array(3*t.length);for(let a=0;a<t.length;a+=3){const s=ze(e,t,a,lt);for(let e=0;e<3;e++)r[a+e]=s[e],o[a+e]=a/3}return new Le(r,o,!1)}function He(e,t,r,o){if(null==t)return $e(e,o);let a=!1;if(!r.trustSourceNormals)for(let s=0;s<o.length;s+=3){ze(e,o,s,lt);for(let e=0;e<3;e++){const r=3*o[s+e];st[0]=t[r],st[1]=t[r+1],st[2]=t[r+2],M(lt,st)<0&&(t[r]=-t[r],t[r+1]=-t[r+1],t[r+2]=-t[r+2],a=!0)}}return new Le(t,o,a)}function ke(e,t){const r={};for(let s=0;s<t.length;s+=3){const o=ze(e,t,s,lt);for(let e=0;e<3;e++){const a=t[s+e];let n=r[a];n||(n={normal:R(),count:0},r[a]=n),g(n.normal,n.normal,o),n.count++}}const o=F(3*t.length),a=new Array(3*t.length);for(let s=0;s<t.length;s++){const e=r[t[s]];1!==e.count&&(T(e.normal,e.normal),e.count=1);for(let t=0;t<3;t++)o[3*s+t]=e.normal[t];a[s]=s}return new Le(o,a,!1)}function qe(e,t,r,o,a,s){const n=3*t[r],i=3*t[r+1],l=3*t[r+2];o[0]=e[n],o[1]=e[n+1],o[2]=e[n+2],a[0]=e[i],a[1]=e[i+1],a[2]=e[i+2],s[0]=e[l],s[1]=e[l+1],s[2]=e[l+2]}function ze(e,t,r,o){return qe(e,t,r,st,nt,it),v(nt,nt,st),v(it,it,st),w(st,nt,it),T(o,st),o}function We(e){if(!e)return null;const{scale:r,offset:o,rotation:a}=e;return{scale:r,offset:o,rotation:t(a)}}function Ye(e=\"repeat\"){if(\"string\"==typeof e){const t=Ze(e);return{s:t,t}}return{s:Ze(e.horizontal),t:Ze(e.vertical)}}function Ze(e){switch(e){case\"clamp\":return Ue.CLAMP_TO_EDGE;case\"mirror\":return Ue.MIRRORED_REPEAT;default:return Ue.REPEAT}}function Je(e){const t=e.vertexAttributes.color;if(null==t)return!1;for(let r=3;r<t.length;r+=4)if(255!==t[r])return!0;return!1}function Ke(t,r,o){r.diffuse=e.toUnitRGB(t),r.opacity=\"opaque\"===o.alphaMode?1:t.a}function Qe(e){return e.data??e.url}function Xe(t){return null==t?\"-\":t instanceof e?t.toHex():t.contentHash}function et(e){const{offset:t,scale:r,rotation:o}=e??ot;return`${t[0]},${t[1]},${o},${r[0]},${r[1]}`}function tt(e){return e.vertexAttributes.color}function rt(e){return 1===(e.material?.color?.a??1)}const ot=new $,at=R(),st=R(),nt=R(),it=R(),lt=R(),ct=m(),ut=m(),mt=U(),ft=[new D];var pt;!function(e){e[e.NONE=0]=\"NONE\",e[e.RENDER=1]=\"RENDER\"}(pt||(pt={}));export{Ve as Graphics3DMeshFillSymbolLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e,i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as s,empty as a,expandWithVec3 as h,isPoint as r,center as o,offset as l}from\"../../../../geometry/support/aaBoundingBox.js\";import{evaluateElevationInfoAtPoint as g}from\"./elevationAlignmentUtils.js\";import{setContextFeature as c}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as d}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DHighlightStateID as p}from\"../../webgl-engine/lib/Object3DStateID.js\";class u{constructor(t,e,i,n,s){this.graphics3DSymbolLayer=t,this.instanceIndex=e,this.elevationAligner=i,this.elevationContext=n,this._highlightOrderMap=s,this.type=\"lod-instance\",this._highlights=new Set,this.alignedSampledElevation=0,this.isElevationSource=!1,this.needsElevationUpdates=!1,this._highlightName=null}initialize(){}setVisibility(t){const{instanceData:e}=this;t!==e.getVisible(this.instanceIndex)&&e.setVisible(this.instanceIndex,t)}destroy(){null!=this.instanceIndex&&(this.instanceData.removeInstance(this.instanceIndex),this.graphics3DSymbolLayer.notifyDestroyGraphicLayer(this))}get usedMemory(){return this.graphics3DSymbolLayer.usedMemory}alignWithElevation(t,e,i){if(this.elevationAligner){c(this.elevationContext.featureExpressionInfoContext,i);const n=(i,n)=>g(i,t,this.elevationContext,e,n),s=this.elevationAligner(this,this.elevationContext,t.spatialReference,n,e);null!=s&&(this.alignedSampledElevation=s)}}getCenterObjectSpace(t=n()){return this.instanceData.getCombinedLocalTransform(this.instanceIndex,_),e(t,this._lodRenderer.baseBoundingSphere.center,_)}getBoundingBoxObjectSpace(t=s()){this.instanceData.getCombinedLocalTransform(this.instanceIndex,_);const n=this._lodRenderer.baseBoundingBox;a(t);for(let s=0;s<8;++s)i(b,1&s?n[3]:n[0],2&s?n[4]:n[1],4&s?n[5]:n[2]),e(b,b,_),h(t,b);return t}computeAttachmentOrigin(t){this.instanceData.getGlobalTransform(this.instanceIndex,_),t.render.origin[0]+=_[12],t.render.origin[1]+=_[13],t.render.origin[2]+=_[14],t.render.num++}async getProjectedBoundingBox(t,i,n,s,h){const g=this.getBoundingBoxObjectSpace(h),c=x,m=r(g)?1:c.length;this.instanceData.getGlobalTransform(this.instanceIndex,_);for(let a=0;a<m;a++){const t=c[a];b[0]=g[t[0]],b[1]=g[t[1]],b[2]=g[t[2]],e(b,b,_),f[3*a]=b[0],f[3*a+1]=b[1],f[3*a+2]=b[2]}if(!t(f,0,m))return null;a(g);let p=null;this.calculateRelativeScreenBounds&&(p=this.calculateRelativeScreenBounds());for(let e=0;e<3*m;e+=3){for(let t=0;t<3;t++)g[t]=Math.min(g[t],f[e+t]),g[t+3]=Math.max(g[t+3],f[e+t]);p&&n.push({location:f.slice(e,e+3),screenSpaceBoundingRect:p})}if(i&&(o(g,v),\"absolute-height\"!==this.elevationContext.mode)){let t;const e=d(g,i.service.spatialReference,i);try{t=await i.service.queryElevation(v[0],v[1],s,e,\"ground\")}catch(u){}null!=t&&l(g,0,0,-this.alignedSampledElevation+t)}return g}addObjectState(t){t.stateType===m.Highlight&&this.addObjectHighlightState(t)}addObjectHighlightState(t){const e=new p(t.highlightName);this._addHighlightId(e),t.addExternal((t=>{this._removeHighlightId(t)}),e)}removeObjectState(t){this._highlights.forEach((e=>t.remove(e)))}updateHighlights(t){this._highlightOrderMap=t,this._updateHighlightOptions()}_calculateHighlightOptions(){let t=-1,e=null;return this._highlights.forEach((({highlightName:i})=>{const n=this._highlightOrderMap.get(i);void 0!==n&&n>t&&(t=n,e=i)})),e}_addHighlightId(t){this._highlights.add(t),this._updateHighlightOptions()}_removeHighlightId(t){this._highlights.delete(t),this._updateHighlightOptions()}_updateHighlightOptions(){const t=this._calculateHighlightOptions();t!==this._highlightName&&(this._highlightName=t,this.instanceData.setHighlight(this.instanceIndex,t))}get _lodRenderer(){return this.graphics3DSymbolLayer.lodRenderer}get instanceData(){return this._lodRenderer.instanceData}}const f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=n(),v=n(),x=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],_=t();export{u as Graphics3DLodInstanceGraphicLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{LodResources as e,LodComponentResources as n,LodComponentEngineGeometry as o,LodLevelResources as r}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function t(e,t){const s=e.stageResources.geometries.map((r=>new n(new o(r),e.stageResources.textures))),l=null==e.lodThreshold||0===e.lodThreshold&&t>0?u(s):e.lodThreshold;return new r(s,l,e.pivotOffset)}function s(n){return new e(n.map(((e,n)=>t(e,n))))}function u(e){const n=e.reduce(((e,n)=>e+n.numTriangles),0);return Math.sqrt(n*l/Math.PI)}const l=20;export{s as makeLodResources};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport l from\"../../../../core/Error.js\";import{fetchStyle as t,symbolUrlFromStyleItem as e}from\"../../../../symbols/support/styleUtils.js\";import{getStyleItemFromStyle as s,fetchSymbolFromStyle as n}from\"../../../../symbols/support/webStyleSymbolUtils.js\";async function r(r){if(null==r||null==r.styleName&&null==r.styleUrl)return null;const o=r.name;if(null==o)throw new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\");const u={portal:r.portal},i=await t(r,u).catch((()=>null));if(null===i)return null;const m=s(o,i.data);if(m&&!m.formatInfos?.some((l=>\"gltf_basisu\"===l.type)))return null;const a=await n(i,o,u,e,{acceptedFormats:[\"web-gltf-basisu\",\"web-gltf\",\"web\"]}).catch((()=>null));if(null===a||\"point-3d\"!==a.type)return null;const y=a.symbolLayers.items[0];return\"object\"===y.type?y.resource:null}export{r as getResourceUrlFromSymbolStyle};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nclass t{constructor(t=1/0,r=-1/0){this.near=t,this.far=r}set(t,r){this.near=t,this.far=r}union(t){null!=t&&(this.near=Math.min(this.near,t.near),this.far=Math.max(this.far,t.far))}within(t){return this.near<=t&&t<=this.far}equals(t){return this.near===t.near&&this.far===t.far}static{this.zero=new t(0,0)}static{this.infinite=new t}}export{t as DepthRange};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{reallocShrinkThreshold as t,reallocGrowthFactor as i,reallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec3f as s,BufferViewMat3f as a,BufferViewVec4f as r,BufferViewVec4u8 as n}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as h}from\"../Util.js\";import{VertexAttribute as d}from\"../VertexAttribute.js\";import _ from\"./BackedBufferObject.js\";class c{constructor(t){this.modelOriginHi=t.getField(d.INSTANCEMODELORIGINHI,s),this.modelOriginLo=t.getField(d.INSTANCEMODELORIGINLO,s),this.model=t.getField(d.INSTANCEMODEL,a),this.modelNormal=t.getField(d.INSTANCEMODELNORMAL,a),this.featureAttribute=t.getField(d.INSTANCEFEATUREATTRIBUTE,r),this.color=t.getField(d.INSTANCECOLOR,n),this.objectAndLayerIdColor=t.getField(d.INSTANCEOBJECTANDLAYERIDCOLOR,n)}}class f{constructor(t,i){this._rctx=t,this._instanceBufferLayout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){h(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){h(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){h(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),h(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){h(this._updating,\"not updating\"),h(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(h(this._updating,\"not updating\"),t===this._capacity)return;const i=new _(this._rctx,this._instanceBufferLayout.stride,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);h(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;export{f as RenderInstanceData,c as RenderInstanceDataView,u as initialCapacity};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{reallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as o,invert as n,transpose as h}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{multiply as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as g}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as m}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewMat4f64 as d,BufferViewVec3f64 as p,BufferViewMat3f as _,BufferViewVec2f as T,BufferViewVec4f64 as u,BufferViewVec4f as L,BufferViewVec4u8 as O,BufferViewUint8 as A}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as E}from\"../../../support/mathUtils.js\";import{newLayout as v}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as M}from\"../Util.js\";import{VertexAttribute as I}from\"../VertexAttribute.js\";import{initialCapacity as F}from\"./RenderInstanceData.js\";var S;function b(t){let e=v().mat4f64(I.LOCALTRANSFORM).mat4f64(I.GLOBALTRANSFORM).vec4f64(I.BOUNDINGSPHERE).vec3f64(I.MODELORIGIN).mat3f(I.INSTANCEMODEL).mat3f(I.INSTANCEMODELNORMAL).vec2f(I.MODELSCALEFACTORS);return t.includes(I.FEATUREATTRIBUTE)&&(e=e.vec4f(I.FEATUREATTRIBUTE)),t.includes(I.COLOR)&&(e=e.vec4u8(I.COLOR)),t.includes(I.OLIDCOLOR)&&(e=e.vec4u8(I.OLIDCOLOR)),e=e.u8(I.STATE).u8(I.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(S||(S={}));class C{constructor(t){this.localTransform=t.getField(I.LOCALTRANSFORM,d),this.globalTransform=t.getField(I.GLOBALTRANSFORM,d),this.modelOrigin=t.getField(I.MODELORIGIN,p),this.model=t.getField(I.INSTANCEMODEL,_),this.modelNormal=t.getField(I.INSTANCEMODELNORMAL,_),this.modelScaleFactors=t.getField(I.MODELSCALEFACTORS,T),this.boundingSphere=t.getField(I.BOUNDINGSPHERE,u),this.featureAttribute=t.getField(I.FEATUREATTRIBUTE,L),this.color=t.getField(I.COLOR,O),this.objectAndLayerIdColor=t.getField(I.OLIDCOLOR,O),this.state=t.getField(I.STATE,A),this.lodLevel=t.getField(I.LODLEVEL,A)}}let R=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._highlightOptionsMap=new Map,this._highlightOptionsMapPrev=new Map,this._layout=b(e),this._capacity=F,this._buffer=this._layout.createBuffer(this._capacity),this._view=new C(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,S.ALLOCATED),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&0!==(e.get(t)&S.ALLOCATED),\"invalid instance handle\"),this._getStateFlag(t,S.ACTIVE)?this._setStateFlags(t,S.REMOVE):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&0!==(e.get(t)&S.ALLOCATED),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=y,i=H;e.localTransform.getMat(t,N),e.globalTransform.getMat(t,D);const a=c(D,D,N);m(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=E(y,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),n(i,i),h(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,S.TRANSFORM_CHANGED),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,H),s.modelOrigin.getVec(t,y),e[0]=H[0],e[1]=H[1],e[2]=H[2],e[3]=0,e[4]=H[3],e[5]=H[4],e[6]=H[5],e[7]=0,e[8]=H[6],e[9]=H[7],e[10]=H[8],e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=Math.max(y[0],y[1],y[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=w(y[0],y[1],y[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,S.VISIBLE,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,S.VISIBLE)}setHighlight(t,e){const{_highlightOptionsMap:s}=this,i=s.get(t);e?e!==i&&(s.set(t,e),this._setStateFlag(t,S.HIGHLIGHT,!0),this.events.emit(\"instance-highlight-changed\")):i&&(s.delete(t),this._setStateFlag(t,S.HIGHLIGHT,!1),this.events.emit(\"instance-highlight-changed\"))}get highlightOptionsMap(){return this._highlightOptionsMap}getHighlightStateFlag(t){return this._getStateFlag(t,S.HIGHLIGHT)}geHighlightOptionsPrev(t){const e=this._highlightOptionsMapPrev.get(t)??null;return this._highlightOptionsMapPrev.delete(t),e}getHighlightName(t){const e=this.highlightOptionsMap.get(t)??null;return e?this._highlightOptionsMapPrev.set(t,e):this._highlightOptionsMapPrev.delete(t),e}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(F,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new C(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&S.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],R.prototype,\"shaderTransformation\",void 0),t([a()],R.prototype,\"_size\",void 0),t([a({readOnly:!0})],R.prototype,\"size\",null),R=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],R);const y=f(),H=l(),N=g(),D=g();export{R as InstanceData,C as InstanceDataView,S as StateFlags};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e}from\"../../../../../chunks/vec32.js\";import{w as s,c as i,a as r}from\"../../../../../chunks/sphere.js\";import{maxScale as a}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(r(this._tmpSphere),this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*a(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{ResourceState as s}from\"./basicInterfaces.js\";class t{constructor(s,t){this._material=s,this._repository=t,this._map=new Map}dispose(){this._map.forEach(((s,t)=>{null!=s&&this._repository.release(this._material,t)}))}load(t,e,r){const i=this._material.produces.get(e);if(!i?.(r))return null;this._map.has(r)||this._map.set(r,this._repository.acquire(this._material,e,r));const a=this._map.get(r);if(a){if(a.ensureResources(t)===s.LOADED)return a;this._repository.requestRender()}return null}}export{t as GLMaterials};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{glLayout as e}from\"../../../support/buffer/glUtil.js\";import{Default3D as t}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as r}from\"../GLMaterials.js\";import{VertexArrayObject as o}from\"../VertexArrayObject.js\";import{BufferObject as s}from\"../../../../webgl/BufferObject.js\";import{Usage as i}from\"../../../../webgl/enums.js\";class a{constructor(a,n){const m=a.renderContext.rctx,u=n.geometry,f=n.geometry.getRenderGeometry(),g=f.material;this._materials=a.materials,g.setParameters({instancedDoublePrecision:!0}),this.geometry=u,this.material=g,this.glMaterials=new r(g,this._materials),this.vertexBufferLayout=f.vertexBufferLayout,this.vbo=s.createVertex(m,i.STATIC_DRAW,f.buffer),this.vao=new o(m,t,new Map([[\"geometry\",e(f.vertexBufferLayout)]]),new Map([[\"geometry\",this.vbo]])),this.vertexCount=f.elementCount}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}get usedMemory(){return 128+this.vbo.usedMemory+this.vao.usedMemory}intersect(e,t,r,o,s,i,a,n){return this.geometry.intersect(e,t,r,o,s,i,a,n)}}export{a as LodComponentData};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new u(e,o)),i)))),c=s.map((o=>\"fulfilled\"===o.status?o.value:null)).filter(o);if(n(i)||c.length!==s.length){c.forEach((o=>o.destroy())),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach((n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}export{a as LodLevel};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../../core/arrayUtils.js\";import r from\"../../../../../core/Error.js\";import{someMap as n,getOrCreateMapValue as s}from\"../../../../../core/MapUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{isAborted as i,throwIfAborted as o}from\"../../../../../core/promiseUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{d,e as u,t as m}from\"../../../../../chunks/vec32.js\";import{create as p}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as f,fromValues as _}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{debugFlags as g}from\"../../../support/debugFlags.js\";import{glLayout as I}from\"../../../support/buffer/glUtil.js\";import{newLayout as y}from\"../../../support/buffer/InterleavedLayout.js\";import v from\"../../../webgl/RenderCamera.js\";import{ShaderOutput as C}from\"../../core/shaderLibrary/ShaderOutput.js\";import{AsyncRenderPlugin as E}from\"../../effects/RenderPlugin.js\";import{Default3D as R}from\"../DefaultVertexAttributeLocations.js\";import{DepthRange as D}from\"../DepthRange.js\";import{IntersectorType as A}from\"../IntersectorType.js\";import b from\"../Octree.js\";import{RenderSlot as T}from\"../RenderSlot.js\";import{assert as L}from\"../Util.js\";import{VertexAttribute as S}from\"../VertexAttribute.js\";import{InstanceData as O,StateFlags as j}from\"./InstanceData.js\";import{InstanceOctree as x}from\"./InstanceOctree.js\";import{LevelSelector as M}from\"./LevelSelector.js\";import{LodLevel as N}from\"./LodLevel.js\";import{RenderInstanceData as w}from\"./RenderInstanceData.js\";import{colorMixModes as H}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as U}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as F}from\"../../shaders/DefaultMaterialTechnique.js\";import{defaultHighlightName as V}from\"../../../../support/HighlightDefaults.js\";import{TaskPriority as B,noBudget as q}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as G,unbindVertexBufferLayout as P}from\"../../../../webgl/Util.js\";const z=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new M(t,r)};let k=class extends E{constructor(e,t){super(e),this.type=A.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=new Array,this._highlightRenderInstanceDataMap=new Map,this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new v,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[T.OPAQUE_MATERIAL,e=>this._produces(e)],[T.TRANSPARENT_MATERIAL,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new O({shaderTransformation:e.shaderTransformation},e.optionalFields),this.addHandles(t.registerTask(B.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=Y(this.optionalFields),this._glInstanceBufferLayout=I(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on(\"instances-changed\",(()=>this._requestUpdateCycle())),this._instanceData.events.on(\"instance-transform-changed\",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on(\"instance-visibility-changed\",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0)))])}get _allRenderInstanceData(){return[this._defaultRenderInstanceData,...this._highlightRenderInstanceDataMap.values()]}get _allRenderInstanceDataExceptHighlightShadow(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)t[0]!==V&&e.push(t[1]);return e}hasHighlight(e){return this._highlightRenderInstanceDataMap.has(e)}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerViewUid(){return this.metadata.layerViewUid}get instanceData(){return this._instanceData}get hasEmissions(){return this._levels.some((e=>e.components.some((e=>e.material.hasEmissions))))}get usedMemory(){return this._allRenderInstanceData.reduce(((e,t)=>t.reduce(((e,t)=>e+t.usedMemory),e)),this._levels.reduce(((e,t)=>e+t.components.reduce(((e,t)=>e+t.usedMemory),0)),0))}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const n=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,s=e.triangleCount;t.push({renderedInstances:n,renderedTriangles:n*s,trianglesPerInstance:s})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}_createRenderInstanceDataArray(e=[]){const{rctx:t}=this._context.renderContext;return this.symbol.levels.map((r=>{e.push(new w(t,this._instanceBufferLayout))})),e}async initializeRenderContext(e,r){this._context=e,this._createRenderInstanceDataArray(this._defaultRenderInstanceData);const n=await Promise.allSettled(this.symbol.levels.map((t=>N.create(e,t,r)))),s=n.map((e=>\"fulfilled\"===e.status?e.value:null)).filter(t);if(i(r)||s.length!==n.length){s.forEach((e=>e.destroy())),o(r);for(const e of n)if(\"rejected\"===e.status)throw e.reason}this._levels=s,this._levelSelector=z(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData.forEach((e=>e.destroy())),this._highlightRenderInstanceDataMap.forEach((e=>e.forEach((e=>e.destroy()))))}_hasTransparentLevels(){return this._levels.some((e=>e.components.some((e=>{const t=e.material.produces.get(T.TRANSPARENT_MATERIAL);return t?.(C.Color)}))))}hasHighlights(){return n(this._highlightRenderInstanceDataMap,(e=>e.some((e=>e.size>0))))}_produces(e){return(e!==C.Highlight||this.hasHighlights())&&(e!==C.ShadowHighlight||this.hasHighlight(V))}prepareRender(e){if(!g.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bind.contentCamera.equals(this._camera);this._camera.copyFrom(e.bind.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(q),this._needFullCycle=!1)}}acquireTechniques(e){if(!this.baseMaterial.visible||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e);if(!t)return null;const r=new Array,n=this.levels;return t.forEach((t=>n.forEach((({components:n},s)=>n.forEach((n=>r.push(this._beginComponent(e,t[s],n)))))))),r}render(e,t){const r=this._getInstanceDatas(e);if(!r||null==t)return;let n=0;e.rctx.bindVAO();const s=this.levels;r.forEach((r=>s.forEach((({components:s},a)=>s.forEach((s=>this._renderComponent(e,t[n++],r[a],s,a)))))))}_getInstanceDatas(e){const{output:t,bind:r}=e,n=t===C.Highlight,s=t===C.ShadowHighlight,a=!n&&!s,i=t!==C.ShadowExcludeHighlight;if(a)return i?this._allRenderInstanceData:this._allRenderInstanceDataExceptHighlightShadow;const{_highlightRenderInstanceDataMap:o}=this;if(i){if(n){const e=r.highlight?.name;if(!e)return null;const t=o.get(e);return t?[t]:null}const e=o.get(V);return s?e?[e]:null:Array.from(o.values())}return null}intersect(e,t,r,n){if(!this.baseMaterial.visible||null==this._octree)return;const s=p();d(s,n,r);const a=s=>{this._instanceData.getCombinedModelTransform(s,Z),e.transform.set(Z),m($,r,e.transform.inverse),m(X,n,e.transform.inverse);const a=this._instanceData.getState(s),i=this._instanceData.getLodLevel(s),o=this._levels.length;L(0!==(a&j.ACTIVE),\"invalid instance state\"),L(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,$,X,s,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(a):this._octree.forEachAlongRay(r,s,a)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new x(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&j.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=a(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return new D;const t=e.viewForward,r=this._octree.findClosest(t,b.DepthOrder.FRONT_TO_BACK,e.frustum),n=this._octree.findClosest(t,b.DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==n)return new D;const s=e.eye,a=this._instanceData.view;a.boundingSphere.getVec(r,Q),d(Q,Q,s);const i=u(Q,t)-Q[3];a.boundingSphere.getVec(n,Q),d(Q,Q,s);const o=u(Q,t)+Q[3];return new D(i,o)}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:n,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const i=this._instanceData,o=i.view;let l=i.size;const c=i.capacity;let h=this._instanceIndex;const d=Math.ceil(c/500),{_highlightRenderInstanceDataMap:u}=this;for(let m=0;m<l&&!e.done;++m){h===this._cycleStartIndex&&this._startUpdateCycle();const m=o.state.get(h);let p=0;if(!(m&j.ALLOCATED)){h=h+1===c?0:h+1,l++;continue}const f=o.lodLevel.get(h);if(m&j.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[f].freeTail(),m&j.HIGHLIGHT_ACTIVE){const e=i.geHighlightOptionsPrev(h);if(e){const t=u.get(e);if(!t)throw new r(\"internal:lod-renderer\",\"Internal error in lodRenderer\");t[f].freeTail(),t.every((e=>e.isEmpty))&&(t.forEach((e=>e.destroy())),u.delete(e))}}if(m&j.REMOVE)i.freeInstance(h);else if(m&j.VISIBLE){let e=0;if(t&&(o.modelOrigin.getVec(h,J),e=a.selectLevel(J,i.getCombinedMedianScaleFactor(h),n)),p=m&~(j.ACTIVE|j.TRANSFORM_CHANGED),e>=0)if(m&j.HIGHLIGHT){const t=i.getHighlightName(h);if(t){const n=()=>{const e=this._createRenderInstanceDataArray();return e.forEach((e=>e.beginUpdate())),e},a=s(u,t,n);if(e>=a.length)throw new r(\"internal:lod-renderer\",`LodRenderer internal error - missing lodLevel ${e}`);W(a[e],o,h)}p|=j.HIGHLIGHT_ACTIVE}else W(this._defaultRenderInstanceData[e],o,h),p|=j.DEFAULT_ACTIVE;o.state.set(h,p),o.lodLevel.set(h,e)}else p=m&~(j.ACTIVE|j.TRANSFORM_CHANGED),o.state.set(h,p);if(null!=this._octreeCached){const e=!!(m&j.ACTIVE),t=!!(p&j.ACTIVE);!e&&t?this._octreeCached.addInstance(h):e&&!t?this._octreeCached.removeInstance(h):e&&t&&m&j.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(h),this._octreeCached.addInstance(h))}h=h+1===c?0:h+1,h%d===0&&e.madeProgress()}this._instanceIndex=h,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const n=r.glMaterials.load(e.rctx,e.bind.slot,e.output);return n?.beginSlot(e.bind)}_renderComponent(e,t,r,n,s){if(!t)return;const{bind:a,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,a,n.material.parameters,te);i.bindVAO(n.vao),t.ensureAttributeLocations(n.vao),g.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===C.Color&&(o.setUniform4fv(\"externalColor\",ee[Math.min(s,ee.length-1)]),o.setUniform1i(\"colorMixMode\",H.replace));const l=r.capacity,c=r.headIndex,h=r.tailIndex,d=r.firstIndex,u=this._glInstanceBufferLayout,m=(e,s)=>{G(i,R,r.buffer,u,e),i.drawArraysInstanced(t.primitiveType,0,n.vertexCount,s-e),P(i,R,r.buffer,u)};n.material.transparent&&null!=d?c>h?(L(d>=h&&d<=c,\"invalid firstIndex\"),m(d,c),m(h,d)):c<h&&(d<=c?(L(d>=0&&d<=c,\"invalid firstIndex\"),m(d,c),m(h,l),m(0,d)):(L(d>=h&&d<=l,\"invalid firstIndex\"),m(d,l),m(0,c),m(h,d))):c>h?m(h,c):c<h&&(m(0,c),m(h,l)),i.bindVAO(null)}};function W(e,t,r){const n=e.allocateHead();K(t,r,e.view,n)}function K(e,t,r,n){U(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,n),r.model.copyFrom(n,e.model,t),r.modelNormal.copyFrom(n,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(n,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(n,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(n,e.featureAttribute,t)}function Y(e){let t=y().vec3f(S.INSTANCEMODELORIGINHI).vec3f(S.INSTANCEMODELORIGINLO).mat3f(S.INSTANCEMODEL).mat3f(S.INSTANCEMODELNORMAL);return null!=e&&e.includes(\"featureAttribute\")&&(t=t.vec4f(S.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes(\"color\")&&(t=t.vec4u8(S.INSTANCECOLOR)),null!=e&&e.includes(\"objectAndLayerIdColor\")&&(t=t.vec4u8(S.INSTANCEOBJECTANDLAYERIDCOLOR)),t}e([l({constructOnly:!0})],k.prototype,\"symbol\",void 0),e([l({constructOnly:!0})],k.prototype,\"optionalFields\",void 0),e([l({constructOnly:!0})],k.prototype,\"metadata\",void 0),e([l({constructOnly:!0})],k.prototype,\"shaderTransformation\",void 0),e([l()],k.prototype,\"_instanceData\",void 0),e([l()],k.prototype,\"_cycleStartIndex\",void 0),e([l({readOnly:!0})],k.prototype,\"_enableLevelSelection\",null),e([l()],k.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([l({readOnly:!0})],k.prototype,\"running\",null),k=e([c(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],k);const J=p(),Q=f(),Z=h(),$=p(),X=p(),ee=[_(1,0,1,1),_(0,0,1,1),_(0,1,0,1),_(1,1,0,1),_(1,0,0,1)],te=new F;export{k as LodRenderer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{identity as r,scale as i,translate as o,copy as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{l,u as c,c as h,C as d,f as m,i as p}from\"../../../../chunks/vec32.js\";import{fromArray as u,ONES as f,create as y,ZEROS as _,fromValues as g}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromArray as b,ONES as x,ZEROS as P,create as R}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{computeTranslationToOriginAndRotation as v}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectPointToVector as L}from\"../../../../geometry/projection/projectPointToVector.js\";import{create as S,size as C,containsPoint as w,center as U}from\"../../../../geometry/support/aaBoundingBox.js\";import{EmissiveSourceMode as j,getEmissiveMode as O}from\"../../../../symbols/support/materialUtils.js\";import{defaultPrimitive as E}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{objectSymbolLayerPrimitiveBoundingBox as T,objectSymbolLayerSizeWithResourceSize as B}from\"../../../../symbols/support/symbolLayerUtils3D.js\";import{estimateNumVerticesForLods as G,defaultSymbolLayerMemoryComplexity as I}from\"./defaultSymbolComplexity.js\";import{perLodInstanceElevationAligner as A}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as F,SampleElevationInfo as D,evaluateElevationInfoAtPoint as z}from\"./elevationAlignmentUtils.js\";import{Graphics3DLodInstanceGraphicLayer as V}from\"./Graphics3DLodInstanceGraphicLayer.js\";import{Graphics3DSymbolLayer as k}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as H,computeObjectScale as M,computeObjectRotation as W}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as q}from\"./interfaces.js\";import{LoadStatus as N}from\"./Loadable.js\";import{makeLodResources as $}from\"./lodResourceUtils.js\";import{fetch as Z}from\"./objectResourceUtils.js\";import{placePointOnGeometry as J,extendPointGraphicElevationContext as K}from\"./pointUtils.js\";import{isValidPrimitive as Q,primitiveLodResources as X}from\"./primitiveObjectSymbolUtils.js\";import{SymbolComplexity as Y}from\"./SymbolComplexity.js\";import{getResourceUrlFromSymbolStyle as ee}from\"./webStyleUtils.js\";import{initFastSymbolUpdatesState as te,updateFastSymbolUpdatesState as se,ConvertOptions as re,evaluateModelTransformScale as ie,evaluateModelTransform as oe}from\"../support/FastSymbolUpdates.js\";import{olidEnabled as ae}from\"../../webgl-engine/effects/geometry/olidUtils.js\";import{CullFaceOptions as ne}from\"../../webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as le}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LodRenderer as ce}from\"../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{DefaultMaterial as he}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{schematicMRRFactors as de}from\"../../webgl-engine/materials/pbrUtils.js\";class me{constructor(e,t,s,r,i,o,a,n,l,c,h=null){this.lodResources=e,this.lodRenderer=t,this.stageResources=s,this.resourceSize=r,this.isEsriSymbolResource=i,this.isWosr=o,this.resourceBoundingBox=a,this.symbolSize=n,this.extentPadding=l,this.physicalBasedRenderingEnabled=c,this.pivotOffset=h}}class pe extends k{getCachedSize(){const[e,t,s]=null!=this._resources?this._resources.symbolSize:[1,1,1];return{width:e,depth:t,height:s}}constructor(e,t,s,r){super(e,t,s,r,ye(t)),this._resources=null,this._optionalFields=new Array,this._instanceIndexToGraphicUid=new Map,this._hasLoadedPBRTextures=!1,this._disposeResourceHandles=new Array,this.skipHighSymbolLodsChanged=!1,this.ensureDrapedStatus(!1),this._hasLoadedPBRTextures=s.physicalBasedRenderingEnabled}async doLoad(e){if(!this._drivenProperties.size){const e=H(this.symbolLayer);if(e)throw new Error(e)}if(this._isPrimitive){const t=this.symbolLayer.resource,s=t&&Q(t?.primitive)?t.primitive:E;this._resources=await this._createResourcesForPrimitive(s,e)}else{const t=await ee(this.symbol.styleOrigin),s=t?.href??this.symbolLayer.resource?.href;this._resources=await this._createResourcesForUrl(s,e)}this.layerOpacityChanged(),this.slicePlaneEnabledChanged(),this.physicalBasedRenderingChanged(),this.updateComplexity()}get extentPadding(){return null!=this._resources?this._resources.extentPadding:0}get _isPrimitive(){return null!=this._primitive}get lodRenderer(){return this._resources?.lodRenderer}get materials(){return this._resources?.stageResources.materials??[]}async _createResourcesForPrimitive(t,r){const i=this.symbolLayer,o=S(T(t)),a=u(C(o)),n=u(B(a,i)),c=l(n),h=!1,d=!1,m=i?.material,p={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:de,ambient:f,diffuse:f,opacity:1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:i.castShadows,emissiveStrength:m?.emissive?.strength??0,emissiveSource:j.Color,offsetTransparentBackfaces:!1,drivenOpacity:this.needsDrivenTransparentPass},y=!!p.usePBR,_=m?.color,g=this.symbol;if(\"point-3d\"===g.type&&g.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=g.verticalOffset;p.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},p.castShadows=!1}if(this._context.screenSizePerspectiveEnabled&&(p.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),this._drivenProperties.color)p.externalColor=x;else{const t=null!=_?this._drivenProperties.opacity?b([...e.toUnitRGB(_),1]):e.toUnitRGBA(_):this._drivenProperties.opacity?x:P;p.externalColor=t}this._fastUpdates=te(this._context.renderer,this._fastVisualVariableConvertOptions(o,n,a,null)),p.isInstanced=!0,this._fastUpdates?(Object.assign(p,this._fastUpdates.materialParameters),this._optionalFields.push(le.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(p.hasInstancedColor=!0,this._optionalFields.push(le.COLOR)),ae()&&this._optionalFields.push(le.OLIDCOLOR);const R=new he(p,this._context);R.setParameters({cullFace:_e(R.transparent)});const v=X(t,R);if(!v)throw new Error(`Unknown object symbol primitive: ${t}`);const L=await this._createStageResources(v,y,r),w=await this._createLodRenderer(v,r);return new me(v,w,L,a,h,d,o,n,c,y)}async _createResourcesForUrl(e,t){const r={isInstanced:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows},i={spherical:this._context.spherical,materialParameters:r,streamDataRequester:this._context.streamDataRequester,cache:this._context.sharedResources.objectResourceCache,compressionOptions:{compressionTracker:this._context.compressionTracker,compressionCallback:()=>this.updateComplexity()}};this._fastUpdates=te(this._context.renderer,this._fastVisualVariableConvertOptions(null,null,null,null)),this._fastUpdates?(Object.assign(i.materialParameters,this._fastUpdates.materialParameters),this._optionalFields.push(le.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(i.materialParameters.hasInstancedColor=!0,this._optionalFields.push(le.COLOR)),ae()&&this._optionalFields.push(le.OLIDCOLOR);const o=this.symbol;if(\"point-3d\"===o.type&&o.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=o.verticalOffset;i.materialParameters.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},i.materialParameters.castShadows=!1}const a=this._context.physicalBasedRenderingEnabled;i.signal=t,i.usePBR=a,i.skipHighLods=this._context.skipHighSymbolLods;const n=await Z(e,i),c=n.isEsriSymbolResource,h=n.isWosr,d=$(n.lods),m=this._context,p=this.symbolLayer.material,f=this._getExternalColorParameters(p),y=this.needsDrivenTransparentPass,_=d.getMaterials();_.forEach((e=>{e.setParameters({...f,drivenOpacity:y}),m.screenSizePerspectiveEnabled&&e.setParameters({screenSizePerspective:m.sharedResources.screenSizePerspectiveSettings})}));const g=n.referenceBoundingBox,b=u(C(g)),x=u(d.levels[0].pivotOffset),P=u(B(b,this.symbolLayer)),R=l(P),v=this._fastUpdates;se(v,this._context.renderer,this._fastVisualVariableConvertOptions(g,P,b,x))&&_.forEach((e=>e.setParameters(v.materialParameters)));const L=await this._createStageResources(d,a,t),S=await this._createLodRenderer(d,t);return new me(d,S,L,b,c,h,g,P,R,a,x)}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createStageResources(e,s,r){const i=this._context.stage,o=e.getMaterials();s!==this._context.physicalBasedRenderingEnabled&&this.physicalBasedRenderingChanged();const a=e.getTextures();i.addTextures(a),this._addDisposeResource((()=>{a.forEach((e=>e.unload())),i.removeTextures(a)})),await Promise.all(a.map((e=>this._context.stage.schedule((()=>e.load(i.renderView.renderingContext)),r)))),t(r);const n=e.getEngineGeometries();return{materials:o,textures:a,geometries:n}}async _createLodRenderer(e,t){const s=this._context.stage,r={layerViewUid:this._context.layerViewUid,graphicUid:e=>this._instanceIndexToGraphicUid.get(e),notifyGraphicGeometryChanged:e=>this._context.notifyGraphicGeometryChanged(this._instanceIndexToGraphicUid.get(e)),notifyGraphicVisibilityChanged:e=>this._context.notifyGraphicVisibilityChanged(this._instanceIndexToGraphicUid.get(e))},i=this._fastUpdates,o=i?{applyTransform:(e,t,s)=>{e.getFeatureAttribute(t,Pe),a(s,oe(i.materialParameters,Pe,s))},scaleFactor:(e,t,s)=>{t.getFeatureAttribute(s,Pe),ie(e,i.materialParameters,Pe)}}:null,n=new ce({symbol:e,optionalFields:this._optionalFields,metadata:r,shaderTransformation:o},this._context.scheduler);return n.slicePlaneEnabled=this._context.slicePlaneEnabled,this._addDisposeResource((()=>{s.removeRenderPlugin(n),n.destroy()})),await s.addRenderPlugin(n,t),n}_getExternalColorParameters(t){const s={};if(this._drivenProperties.color)s.externalColor=x;else if(null!=t?.color){const r=e.toUnitRGBA(t.color);this._drivenProperties.opacity&&(r[3]=1),s.externalColor=r}else s.externalColor=x,s.colorMixMode=\"ignore\";return s.emissiveStrength=t?.emissive?.strength??1,s.emissiveSource=O(t?.emissive?.source??\"emissive\"),s}destroy(){super.destroy(),this._cleanupResources()}_cleanupResources(){this._disposeResourceHandles.forEach((e=>e())),this._disposeResourceHandles.length=0,this._resources=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const s=J(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for object symbol: ${t.geometry.type}`),null;const r=this.setGraphicElevationContext(t),i=e.renderingInfo;return this._createAs3DShape(t,s,i,r,t.uid)}notifyDestroyGraphicLayer(e){this._instanceIndexToGraphicUid.delete(e.instanceIndex)}graphicLayerToGraphicId(){return 0}layerOpacityChanged(){if(null==this._resources)return;const e=this._getLayerOpacity(),t=this._resources.stageResources.materials;for(let s=0;s<t.length;s++){const r=t[s];r.setParameters({layerOpacity:e}),this._isPrimitive&&r.setParameters({cullFace:_e(r.transparent)})}}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,F)}slicePlaneEnabledChanged(){if(null==this._resources)return!0;this._resources.lodRenderer.slicePlaneEnabled=this._context.slicePlaneEnabled;for(const e of this._resources.stageResources.materials)e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled});return!0}physicalBasedRenderingChanged(){if(null==this._resources)return!0;const{stageResources:e,isWosr:t}=this._resources;for(const s of e.materials)this._isPrimitive?s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}):t||s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!1});return!1!==this._hasLoadedPBRTextures||!0!==this._context.physicalBasedRenderingEnabled||(this._hasLoadedPBRTextures=!0,!1)}applyRendererDiff(e,t){if(null==this._resources)return q.RecreateSymbol;const{stageResources:{materials:s},lodRenderer:r,resourceBoundingBox:i,symbolSize:o,resourceSize:a,pivotOffset:n}=this._resources;for(const l in e.diff){if(\"visualVariables\"!==l)return q.RecreateSymbol;if(!se(this._fastUpdates,t,this._fastVisualVariableConvertOptions(i,o,a,n)))return q.RecreateSymbol;for(const e of s)e.setParameters(this._fastUpdates.materialParameters);r.notifyShaderTransformationChanged()}return q.FastUpdate}computeComplexity(){if(null==this._resources)return super.computeComplexity();const e=this._resources.lodResources,t=G(e.levels),s=e.computeUsedMemory(),r={...I(this.symbol,this.symbolLayer),resourceBytes:s};return new Y({verticesPerFeature:t,memory:r})}_hasLodRenderer(){return null!=this._resources}_createAs3DShape(e,t,s,r,i){if(!this._hasLodRenderer()||null==this._resources)return null;const o=this.getFastUpdateAttrValues(e),a=this._context.clippingExtent;if(L(t,ge,this._context.elevationProvider.spatialReference),null!=a&&!w(a,ge))return null;const n=fe(r),l=this._computeGlobalTransform(t,r,xe,Re),c=this._computeLocalTransform(this._resources,this.symbolLayer,s,be),h=this._resources.lodRenderer.instanceData,d=h.addInstance();if(this._instanceIndexToGraphicUid.set(d,i),h.setLocalTransform(d,c,!1),h.setGlobalTransform(d,l),o&&h.setFeatureAttribute(d,o),null==this._fastUpdates&&this._hasPerInstanceColor()){const e=this._getVertexOpacityAndColor(s,this._getFallbackOpacityAndColor(),255);h.setColor(d,e)}const m=this._context.stage.renderView.olidRenderHelper;if(m){const e=m.getObjectAndLayerIdColor({graphicUid:i,layerViewUid:this._context.layerViewUid});h.setObjectAndLayerIdColor(d,e)}const p=new V(this,d,A,r,this._context.stage.view.state.highlightOrderMap);return n&&(p.alignedSampledElevation=Re.sampledElevation),p.needsElevationUpdates=F(r.mode),K(p,t,this._context.elevationProvider),p}_computeGlobalTransform(e,t,s,r){return z(e,this._context.elevationProvider,t,this._context.renderCoordsHelper,r),ge[0]=e.x,ge[1]=e.y,ge[2]=r.z,v(e.spatialReference,ge,s,this._context.renderCoordsHelper.spatialReference),s}_computeLocalTransform(e,t,s,i){return r(i),this._applyObjectRotation(s,!1,i),this._applyObjectRotation(t,!0,i),this._applyObjectScale(e,s,i),this._applyAnchor(e,t,i),i}_applyObjectScale(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=this._drivenProperties.size&&t.size?t.size:e.symbolSize,o=M(r,e.symbolSize,e.resourceSize,this._context.renderCoordsHelper.unitInMeters);1===o[0]&&1===o[1]&&1===o[2]||i(s,s,o)}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchTransform(e,t),this._preparePatchColor(e,t)}updateGeometry(e,t){if(null==this._resources)return!0;const s=t&&J(t);if(null==s)return!1;const r=this.getGeometryElevationMode(t);return e.elevationContext.mode===r&&(this._computeGlobalTransform(s,e.elevationContext,xe,Re),fe(e.elevationContext)&&(e.alignedSampledElevation=Re.sampledElevation),this._resources.lodRenderer.instanceData.setGlobalTransform(e.instanceIndex,xe,!0),K(e,s,this._context.elevationProvider),!0)}_preparePatchTransform(e,t){if(!(t.heading||t.tilt||t.roll||t.width||t.height||t.depth||t.anchor||t.anchorPosition))return;if(null==this._resources)return;const s=(e,t,s)=>(null!=e&&\"complete\"===e.type?e.newValue:t)??s,r=s(t.heading,this.symbolLayer.heading,0),i=s(t.tilt,this.symbolLayer.tilt,0),o=s(t.roll,this.symbolLayer.roll,0),a=s(t.width,this.symbolLayer.width,void 0),n=s(t.height,this.symbolLayer.height,void 0),l=s(t.depth,this.symbolLayer.depth,void 0),c=s(t.anchor,this.symbolLayer.anchor,void 0),h=s(t.anchorPosition,this.symbolLayer.anchorPosition,void 0);delete t.heading,delete t.tilt,delete t.roll,delete t.width,delete t.height,delete t.depth,delete t.anchor,delete t.anchorPosition;const d={heading:r,tilt:i,roll:o,anchor:c,anchorPosition:h},m=this._resources;this.loadStatus===N.LOADED&&e.symbolLayerStatePatches.push((()=>{m.symbolSize=u(B(m.resourceSize,{width:a,height:n,depth:l,isPrimitive:this._isPrimitive}))})),e.graphics3DGraphicPatches.push((({instanceIndex:e},t)=>{const s=this._computeLocalTransform(m,d,t,be);m.lodRenderer.instanceData.setLocalTransform(e,s,!0)}))}_preparePatchColor(t,s){if(!s.material||\"partial\"!==s.material.type)return;const r=s.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const i=r.color.newValue,o=null!=i?e.toUnitRGBA(i):x;delete r.color;const a=this._resources;if(null==a)return;const n=this._isPrimitive;t.graphics3DGraphicPatches.push((({instanceIndex:e})=>{if(this._hasPerInstanceColor())a.lodRenderer.instanceData.setColor(e,o);else{const e={externalColor:o};for(const t of a.stageResources.materials)t.setParameters(e),n&&t.setParameters({cullFace:_e(t.transparent)})}}))}_applyObjectRotation(e,t,s){if(!this._fastUpdates?.requiresShaderTransformation||!t)return W(e.heading,e.tilt,e.roll,s)}_applyAnchor(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=ue(e.resourceBoundingBox,e.pivotOffset,t);r&&o(s,s,r)}_hasPerInstanceColor(){return this._drivenProperties.color||this._drivenProperties.opacity}_fastVisualVariableConvertOptions(e,t,s,r){const i=null!=e?u(C(e)):f,o=null!=e?ue(e,r,this.symbolLayer):_,a=this._context.renderCoordsHelper.unitInMeters,n=M(null!=t?t:void 0,t,s,a),l=g(this.symbolLayer.tilt||0,this.symbolLayer.roll||0,this.symbolLayer.heading||0);return new re({supports:{size:!0,color:!0,rotation:!0,opacity:!1},modelSize:i,symbolSize:t??f,unitInMeters:a,anchor:o,scale:n,rotation:l,fallbackColor:this._getFallbackOpacityAndColor(),fallbackSize:n})}get _primitive(){const{resource:e}=this.symbolLayer;return null!=e?.href?null:e?.primitive??E}_getFallbackOpacityAndColor(){const t=this.symbolLayer.material?.color;if(null==t){return null==this._primitive?x:P}return e.toUnitRGBA(t)}}function ue(e,t,s){const r=y();switch(s.anchor){case\"center\":h(r,U(e)),c(r,r);break;case\"top\":{const t=U(e);p(r,-t[0],-t[1],-e[5]);break}case\"bottom\":{const t=U(e);p(r,-t[0],-t[1],-e[2]);break}case\"relative\":{const t=U(e),i=C(e),o=s.anchorPosition,a=o?g(o.x,o.y,o.z):_;d(r,i,a),m(r,r,t),c(r,r);break}default:null!=t?c(r,t):h(r,_)}return r}function fe(e){return\"absolute-height\"!==e.mode}function ye(e){return 1===(e.material?.color?.a??1)&&null==e.resource?.href}function _e(e){return e?ne.None:ne.Back}const ge=y(),be=n(),xe=n(),Pe=R(),Re=new D;export{pe as Graphics3DObjectSymbolLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{baseTypedArrayMemory as t,baseArrayMemory as i,estimateNumberMemory as e}from\"../../../../core/memoryEstimations.js\";import{isTypedArray as s}from\"../../../../core/typedArrayUtil.js\";import{l as o,n as h,c as r}from\"../../../../chunks/vec32.js\";import{fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class f{constructor(t,i,e,s,o){this.vertices=t,this.positionsES=i,this.offset=s,this.positions=o;const h=t.length,r=Math.floor(h/2),f=this.offset+3*r,g=e[f],v=e[f+1],c=e[f+2];this.origin=n(g,v,c);const l=this.offset+3*h;for(let n=this.offset;n<l;n+=3)o[n]=e[n]-g,o[n+1]=e[n+1]-v,o[n+2]=e[n+2]-c;this.updatePathVertexInformation()}get usedMemory(){return this._getSharedBufferSliceMemory(this.positions)}_getSharedBufferSliceMemory(o){return s(o)?(0===this.offset?t:0)+3*this.vertices.length*o.BYTES_PER_ELEMENT:(0===this.offset?i:0)+3*this.vertices.length*e}updatePathVertexInformation(){const t=this.vertices.length,i=this.vertices[0];let e=this.offset;const s=this.positions;i.vRight[0]=s[e+3]-s[e],i.vRight[1]=s[e+4]-s[e+1],i.vRight[2]=s[e+5]-s[e+2],e+=3;let n=o(i.vRight);i.vMinSiblingLength=n,h(i.vRight,i.vRight);let f=i;for(let g=1;g<t;++g){const i=this.vertices[g];if(i.vLeft=f.vRight,g<t-1){i.vRight[0]=s[e+3]-s[e],i.vRight[1]=s[e+4]-s[e+1],i.vRight[2]=s[e+5]-s[e+2];const t=o(i.vRight);i.vMinSiblingLength=Math.min(n,t),n=t,h(i.vRight,i.vRight)}else r(i.vRight,i.vLeft),i.vMinSiblingLength=n;f=i,e+=3}}}export{f as Path};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";import{makeFloat16Array as t}from\"./float16.js\";function n(n,a=!1){return n<=r?a?new Array(n).fill(0):new Array(n):t(n)}function a(n){return Array.isArray(n)?n.length<r?n:t(n):n.length<r?Array.from(n):n}function e(r,t,n){return Array.isArray(r)?r.slice(t,t+n):r.subarray(t,t+n)}export{a as compactHalfFloatArray,e as halfFloatSubArray,n as newHalfFloatArray};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{floatSubArray as t}from\"../../../../geometry/support/FloatArray.js\";import{newHalfFloatArray as e}from\"../../../../geometry/support/HalfFloatArray.js\";import{newIntArray as i,compactIndices as s}from\"../../../../geometry/support/Indices.js\";import{newShortArray as r}from\"../../../../geometry/support/ShortArray.js\";import{compressNormal as o}from\"./Normals.js\";class h{constructor(s,o,h,n,a,p={}){this.path=s,this.profile=o,this.extruder=h,this.startCap=n,this.endCap=a,this.options=p,this._extrusionVertexCount=0;const l=this.path.vertices.length-2;this.numExtrusionProfiles=h.numProfilesPerJoin()*l+2,this.numVerticesTotal=o.vertices.length*this.numExtrusionProfiles,this.startCap.vertexBufferStart=this.numVerticesTotal;const u=this.startCap.numVertices;this.numVerticesTotal+=u,this.endCap.vertexBufferStart=this.numVerticesTotal;const x=this.endCap.numVertices;this.numVerticesTotal+=x,this.pathVertexData=i(1*this.numVerticesTotal),this.profileRightAxes=r(2*this.numVerticesTotal),this.profileUpAxes=r(2*this.numVerticesTotal),this.profileVertexAndNormals=e(4*this.numVerticesTotal),this.profileAuxData=e(3*this.numVerticesTotal),this.positions=t(s.positions,s.offset,3*s.vertices.length),this._rebuildGeometry(),this._buildTopology()}emitVertex(t,e,i,s,r){let h=4*this._extrusionVertexCount;if(this.profileVertexAndNormals[h]=i[0],this.profileVertexAndNormals[h+1]=i[1],this.profileVertexAndNormals[h+2]=s[0],this.profileVertexAndNormals[h+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,h=3*this._extrusionVertexCount,r){const e=this.path.vertices[t],i=e.maxStretchDistance;this.profileAuxData[h]=e.rotationRight[0]*i,this.profileAuxData[h+1]=e.rotationRight[1]*i}else this.profileAuxData[h]=this.profileAuxData[h+1]=0;this.profileAuxData[h+2]=0,o(this.profileRightAxes,this._extrusionVertexCount,e.right[0],e.right[1],e.right[2]),o(this.profileUpAxes,this._extrusionVertexCount,e.up[0],e.up[1],e.up[2]),++this._extrusionVertexCount}emitCapVertex(t,e,i,s,r,h){let n=4*this._extrusionVertexCount;this.profileVertexAndNormals[n]=i[0],this.profileVertexAndNormals[n+1]=i[1],this.profileVertexAndNormals[n+2]=s[0],this.profileVertexAndNormals[n+3]=s[1],n=3*this._extrusionVertexCount,this.profileAuxData[n]=r,this.profileAuxData[n+1]=h,this.profileAuxData[n+2]=1,o(this.profileRightAxes,this._extrusionVertexCount,e.right[0],e.right[1],e.right[2]),o(this.profileUpAxes,this._extrusionVertexCount,e.up[0],e.up[1],e.up[2]),this.pathVertexData[this._extrusionVertexCount]=t,++this._extrusionVertexCount}_rebuildGeometry(){this._extrusionVertexCount=0;const{positions:e,offset:i,vertices:s}=this.path;this.positions=t(e,i,3*s.length);let r=0;const o=(t,e,i,s,o)=>this.emitCapVertex(r,t,e,i,s,o),h=(t,e,i,s)=>this.emitVertex(r,t,e,i,s);for(this.startCap.rebuildConnectingProfileGeometry(s[r],this.profile,o),r=1;r<s.length-1;++r)this.extruder.extrude(s[r],this.profile,h);this.endCap.rebuildConnectingProfileGeometry(s[r],this.profile,o),r=0,this.startCap.rebuildCapGeometry(s[r],o),r=s.length-1,this.endCap.rebuildCapGeometry(s[r],o)}_buildTopology(){const t=this.profile.vertices.length,e=this.profile.numSegments,i=this.numExtrusionProfiles-1;let r=3*(2*(e*i));this.startCap.indexBufferStart=r,this.startCap.firstProfileVertexIndex=0,r+=this.startCap.numIndices,this.endCap.indexBufferStart=r,this.endCap.firstProfileVertexIndex=t*(this.numExtrusionProfiles-1);const o=new Array,h=new Array,n=(t,e,i)=>{o.push(t),o.push(e),o.push(i),h.push(this.pathVertexData[t]),h.push(this.pathVertexData[e]),h.push(this.pathVertexData[i])};for(let s=0;s<e;++s){const e=this.profile.indices[2*s],r=this.profile.indices[2*s+1];for(let s=0;s<i;++s){const i=s*t+e,o=(s+1)*t+r,h=s*t+r;n(i,(s+1)*t+e,o),n(i,o,h)}}this.startCap.buildTopology(this.path.vertices[0],n),this.endCap.buildTopology(this.path.vertices[this.path.vertices.length-1],n),this.vertexIndices=s(o),this.pathVertexIndices=s(h)}onPathChanged(){this._rebuildGeometry()}}export{h as PathBuilder};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{set as e,subtract as t,scale as s,add as i,normalize as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";class o{rebuildConnectingProfileGeometry(e,t,s){for(let i=0;i<t.vertices.length;++i)s(e.frame,t.vertices[i],t.normals[i],0,0)}}class l extends o{constructor(){super(),this.numVertices=0,this.numIndices=0}rebuildCapGeometry(){}buildTopology(){}}class f extends o{constructor(e,t=0,s=!1){super(),this.profile=e,this.profilePlaneOffset=t,this.flip=s}get numVertices(){return this.profile.vertices.length}get numIndices(){return 3*this.profile.numSegments}rebuildConnectingProfileGeometry(e,t,s){const i=this.profilePlaneOffset;for(let r=0;r<t.vertices.length;++r)s(e.frame,t.vertices[r],t.normals[r],i,0)}rebuildCapGeometry(t,s){const i=this.profile,r=this.flip?1:-1,n=this.profilePlaneOffset,o=m;e(o,0,0);for(let e=0;e<i.vertices.length;++e)s(t.frame,i.vertices[e],o,n,r)}buildTopology(e,t){const s=this.profile,i=this.vertexBufferStart+s.indices[0];for(let r=1;r<s.numSegments;++r){const e=s.indices[2*r],n=s.indices[2*r+1],o=this.vertexBufferStart+e,l=this.vertexBufferStart+n;this.flip?t(l,o,i):t(i,o,l)}}}class h extends o{constructor(e){super(),this.flip=!1,this.sign=0,this.breakNormals=!1,this.numSegments=3,this.profile=e.profile,this.flip=e.flip,this.sign=this.flip?1:-1,this.breakNormals=e.breakNormals,this.numSegments=e.subdivisions}get numVertices(){let e=this.profile.vertices.length*(this.numSegments-1)+this.profile.poles.length;return this.breakNormals&&(e+=this.profile.vertices.length),e}get numIndices(){let e=0;const t=this.profile;e+=2*t.numSegments*(this.numSegments-1);for(let s=0;s<t.numSegments;++s){const i=t.indices[2*s],r=t.indices[2*s+1];t.poleIndices[i]===t.poleIndices[r]?e+=1:e+=2}return 3*e}rebuildCapGeometry(n,o){const l=this.profile,f=n.frame,h=.5*this.sign,p=c,a=m;e(a,0,0);for(const e of l.poles)e.normal?o(f,e.position,e.normal,h,0):o(f,e.position,a,h,this.sign);if(this.breakNormals)for(let e=0;e<l.vertices.length;++e)o(f,l.vertices[e],l.normals[e],0,0);for(let e=0;e<this.numSegments-1;++e){const n=(1-(e+1)/this.numSegments)*Math.PI*.5,c=Math.sin(n),m=Math.cos(n);for(let e=0;e<l.vertices.length;++e){const n=l.poles[l.poleIndices[e]];t(p,l.vertices[e],n.position),s(p,p,c),n.normal?(i(p,p,n.position),o(f,p,n.normal,h*m,0)):(r(a,p),s(a,a,c),i(p,p,n.position),o(f,p,a,h*m,this.sign*m))}}}buildTopology(e,t){const s=this.profile,i=this.breakNormals?this.vertexBufferStart+s.poles.length:this.firstProfileVertexIndex,r=this.breakNormals?this.vertexBufferStart+s.poles.length+s.vertices.length:this.vertexBufferStart+s.poles.length;for(let n=0;n<s.numSegments;++n){const e=s.indices[2*n],o=s.indices[2*n+1],l=this.vertexBufferStart+s.poleIndices[e],f=this.vertexBufferStart+s.poleIndices[o];let h=i+e,c=i+o;for(let i=0;i<this.numSegments-1;++i){const n=r+i*s.vertices.length+e,l=r+i*s.vertices.length+o;this.flip?(t(n,c,h),t(c,n,l)):(t(h,c,n),t(l,n,c)),h=n,c=l}this.flip?(t(l,c,h),l!==f&&t(l,f,c)):(t(h,c,l),l!==f&&t(c,f,l))}}}const c=n(),m=n();export{l as NoCapBuilder,o as PathCapBuilder,h as RoundCapBuilder,f as TriangulationCapBuilder};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{dot as r}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{t as i}from\"../../../../chunks/vec32.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class n{}class c{numProfilesPerJoin(){return 1}extrude(t,e,r){for(let s=0;s<e.vertices.length;++s)r(t.frame,e.vertices[s],e.normals[s],!1)}}class a{constructor(t,e){this.cutoffAngle=t,this.numBendSubdivisions=e}numProfilesPerJoin(){return this.numBendSubdivisions+1}extrude(e,s,i){const o=h,{rotationAngle:n,rotationRight:c,frame:a}=e;if(Math.abs(n)>=this.cutoffAngle){const l=e.rotationFrameUp;for(let h=0;h<this.numBendSubdivisions+1;++h){t(u,.5*-n+h*n/this.numBendSubdivisions,l),m(o,a,u);for(let t=0;t<s.vertices.length;++t){if(r(s.vertices[t],c)*n>=0)i(o,s.vertices[t],s.normals[t],!1);else{i(a,e.applyMiterStretch(f,s.vertices[t]),s.normals[t],!0)}}}}else for(let t=0;t<this.numBendSubdivisions+1;++t)for(let o=0;o<s.vertices.length;++o){const t=r(s.vertices[o],c)*n>=0;i(a,e.applyMiterStretch(f,s.vertices[o]),s.normals[o],!t)}}}class l{constructor(){this.up=o(),this.right=o()}}function m(t,e,r){i(t.up,e.up,r),i(t.right,e.right,r)}const f=s(),u=e(),h=new l;export{l as Frame2D,a as MiterExtruder,n as PathExtruder,c as SimpleExtruder};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{Geometry as t}from\"./Geometry.js\";import{GeometryType as r}from\"./IntersectableGeometry.js\";class e extends t{constructor(t,e,o,s,n,i){super(t,e,null,r.Mesh,i),this.path=o,this.geometrySR=s,this.stencilWidth=n}}var o;function s(t){return\"path\"in t}!function(t){t[t.World=0]=\"World\",t[t.Path=1]=\"Path\"}(o||(o={}));export{e as PathGeometry,o as UpVectorAlignment,s as isPathGeometry};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{copy as t,set as e,length as s,normalize as i,dot as r,scale as o,add as n}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as l,i as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newFloatArray as m}from\"../../../../geometry/support/FloatArray.js\";import{newHalfFloatArray as u}from\"../../../../geometry/support/HalfFloatArray.js\";import{getZeroIndexArray as f}from\"../../../../geometry/support/Indices.js\";import{Attribute as d,Vertices as A}from\"./Attribute.js\";import{decompressNormal as b,compressNormal as g}from\"./Normals.js\";import{intersectTriangles as v}from\"./RayIntersections.js\";import{VertexAttribute as I}from\"./VertexAttribute.js\";class x{constructor(t){this.builder=t}onPathChanged(t){this.builder.onPathChanged()}}class T extends x{constructor(t){super(t),this.color=p(255,255,255,255),this._size=a(),this.positions=m(3*this.builder.numVerticesTotal),this.normals=new Int16Array(2*this.builder.numVerticesTotal)}bakeVertexColors(t){this.color[0]=255*t[0],this.color[1]=255*t[1],this.color[2]=255*t[2],this.color[3]=255*(t.length>3?t[3]:1)}bake(a){t(this._size,a);const{numVerticesTotal:c,pathVertexData:p,positions:m,profileRightAxes:u,profileUpAxes:f,profileVertexAndNormals:d,profileAuxData:A}=this.builder;for(let t=0;t<c;++t){let c=p[t];c*=3;const v=w;let I=0,x=0;const T=b(C,u,t),O=b(V,f,t),j=4*t,y=e(R,d[j]*a[0],d[j+1]*a[1]),U=3*t;if(1===A[U+2])l(v,O,T),I=A[U]*a[0],x=A[U+1];else{const t=E,a=P;e(t,A[U],A[U+1]);const l=s(t);i(t,t);const c=r(y,t);if(Math.abs(c)>l){e(a,-t[1],t[0]);const s=r(y,a);o(t,t,l*Math.sign(c)),o(a,a,s),n(y,t,a)}h(v,0,0,0)}const F=T[0]*y[0]+O[0]*y[1],N=T[1]*y[0]+O[1]*y[1],_=T[2]*y[0]+O[2]*y[1];this.positions[U]=m[c]+F+v[0]*I,this.positions[U+1]=m[c+1]+N+v[1]*I,this.positions[U+2]=m[c+2]+_+v[2]*I;const z=d[j+2],D=d[j+3];g(this.normals,t,T[0]*z+O[0]*D+v[0]*x,T[1]*z+O[1]*D+v[1]*x,T[2]*z+O[2]*D+v[2]*x)}}createGeometryData(){const t=this.builder.vertexIndices;return[[I.POSITION,new d(this.positions,t,3,!0)],[I.NORMALCOMPRESSED,new d(this.normals,t,2,!0)],[I.COLOR,new d(this.color,f(t.length),4,!0)]]}onPathChanged(t){super.onPathChanged(t),this.bake(this.size)}intersect(t,e,s,i){const r=this.builder.vertexIndices,o=new A(this.positions,3),n=r.length/3;v(t,e,0,n,r,o,void 0,s,((t,e,s)=>i(t,s,e)))}get size(){return this._size}}class O extends x{constructor(t,e,s,i){super(t),this.sizeAttributeValue=e,this.colorAttributeValue=s,this.opacityAttributeValue=i,this.baked=new T(t),this._vvSize=m(this.builder.path.vertices.length).fill(e),this._vvColor=u(this.builder.path.vertices.length).fill(s),this._vvOpacity=u(this.builder.path.vertices.length).fill(i)}createGeometryData(){const t=this.builder,{pathVertexIndices:e,vertexIndices:s}=t;return[[I.POSITION,new d(t.positions,e,3,!0)],[I.PROFILEVERTEXANDNORMAL,new d(t.profileVertexAndNormals,s,4,!0)],[I.PROFILEAUXDATA,new d(t.profileAuxData,s,3,!0)],[I.PROFILERIGHT,new d(t.profileRightAxes,s,2,!0)],[I.PROFILEUP,new d(t.profileUpAxes,s,2,!0)],[I.SIZEFEATUREATTRIBUTE,new d(this._vvSize,e,1,!0)],[I.COLORFEATUREATTRIBUTE,new d(this._vvColor,e,1,!0)],[I.OPACITYFEATUREATTRIBUTE,new d(this._vvOpacity,e,1,!0)]]}onPathChanged(t){super.onPathChanged(t);const e=t.getMutableAttribute(I.POSITION);e&&(e.data=this.builder.positions)}}const R=a(),E=a(),P=a(),w=c(),C=c(),V=c();export{O as FastUpdatePathGeometry,x as PathGeometryData,T as StaticPathGeometry};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{c as t,i as e,f as r,l as s,n as o,h as i}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as m,fromPositionAndNormal as a,intersectRay as p}from\"../../../../geometry/support/plane.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{makeOrthoBasisDirUpFallback as l}from\"./GeometryUtil.js\";function g(g,n){let v=null;const u=g.vertices.length,j=.99619469809,R=f(),y=f(),x=f(),L=f(),b=f(),k=f(),q=m();let G=g.vertices[0];t(y,n),e(R,0,1,0),l(G.vRight,y,R,R,x,y,j),t(G.frame.up,y),t(G.frame.right,x);const M=g.positions;let U=g.offset;v=G;for(let f=1;f<u;++f){G=g.vertices[f],r(b,G.vLeft,G.vRight);let m=s(b);m>0?(m=1/Math.sqrt(m),b[0]=b[0]*m,b[1]=b[1]*m,b[2]=b[2]*m):(b[0]=G.vRight[0],b[1]=G.vRight[1],b[2]=G.vRight[2]),k[0]=M[U]+v.frame.up[0],k[1]=M[U+1]+v.frame.up[1],k[2]=M[U+2]+v.frame.up[2],U+=3;const n=e(h,M[U],M[U+1],M[U+2]);a(n,b,q);p(q,c(k,G.vLeft),L)?(L[0]-=M[U],L[1]-=M[U+1],L[2]-=M[U+2],o(y,L),i(x,b,y),o(x,x)):l(b,v.frame.up,v.frame.right,R,x,y,j),t(G.frame.up,y),t(G.frame.right,x),v=G}}const h=f();export{g as computeMinimumRotationTangentFrame};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{estimateNumberArrayMemory as t}from\"../../../../core/memoryEstimations.js\";import{fromValues as e,clone as s}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{pathNumCircleProfileSubdivisions as o}from\"../../layers/graphics/Graphics3DPathSymbolLayerConstants.js\";class r{constructor(){this.vertices=new Array,this.normals=new Array,this.indices=new Array,this.poles=new Array,this.poleIndices=new Array}addVertex(t,e){return this.vertices.push(s(t)),this.normals.push(s(e)),this.vertices.length-1}addPole(t,e=null){return this.poles.push({position:s(t),normal:e?s(e):null}),this.poles.length-1}addSegment(t,e=null){this.indices.push(t.v0),this.indices.push(t.v1),e&&(this.poleIndices.push(e.v0),this.poleIndices.push(e.v1))}get numSegments(){return this.indices.length/2}translate(t,e){for(const s of this.vertices)s[0]+=t,s[1]+=e;for(const s of this.poles)s.position[0]+=t,s.position[1]+=e}get usedMemory(){return this.vertices.length*t(this.vertices[0])*2+t(this.indices)}}const n={top:[0,-.5],bottom:[0,.5]};function i(t){const s=.5,i=o,d=new r,a={v0:0,v1:0};d.addPole(e(0,0));for(let o=0;o<i;++o){const t=2*o*Math.PI/i,r=Math.cos(t),n=Math.sin(t),a=e(r*s,n*s),c=e(r,n);d.addVertex(a,c)}for(let e=0;e<i-1;++e){const t={v0:e,v1:e+1};d.addSegment(t,a)}const c={v0:i-1,v1:0};if(d.addSegment(c,a),\"center\"!==t){const e=n[t];d.translate(e[0],e[1])}return d}const d={center:i(\"center\"),top:i(\"top\"),bottom:i(\"bottom\")},a={center:c(\"center\"),top:c(\"top\"),bottom:c(\"bottom\")};function c(t){const s=1,o=1,i=new r,d=e(-.5,-.5),a=e(.5*s,-.5),c=e(.5*s,.5*o),h=e(-.5,.5*o),l=e(0,-1),v=e(1,0),m=e(0,1),p=e(-1,0);if(i.addPole(e(0,.5*o),m),i.addPole(e(0,.5*o)),i.addPole(e(0,-.5)),i.addPole(e(0,-.5),l),i.addVertex(d,l),i.addVertex(a,l),i.addSegment({v0:0,v1:1},{v0:3,v1:3}),i.addVertex(a,v),i.addVertex(c,v),i.addSegment({v0:2,v1:3},{v0:2,v1:1}),i.addVertex(c,m),i.addVertex(h,m),i.addSegment({v0:4,v1:5},{v0:0,v1:0}),i.addVertex(h,p),i.addVertex(d,p),i.addSegment({v0:6,v1:7},{v0:1,v1:2}),\"center\"!==t){const e=n[t];i.translate(e[0],e[1])}return i}export{r as PathProfile,d as circleProfiles,a as quadProfiles};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{getEpsilon as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t,n,r,a,u){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t}function u(t,n){if(t===n){const r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function o(t,n){const r=n[0],a=n[1],u=n[2],o=n[3];let e=r*o-u*a;return e?(e=1/e,t[0]=o*e,t[1]=-a*e,t[2]=-u*e,t[3]=r*e,t):null}function e(t,n){const r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function s(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3];return t[0]=a*c+o*s,t[1]=u*c+e*s,t[2]=a*i+o*f,t[3]=u*i+e*f,t}function i(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*c,t[1]=u*s+e*c,t[2]=a*-c+o*s,t[3]=u*-c+e*s,t}function f(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1];return t[0]=a*c,t[1]=u*c,t[2]=o*s,t[3]=e*s,t}function l(t,n){const r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function h(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]}function d(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function p(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3],l=t();return Math.abs(a-c)<=l*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-s)<=l*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-i)<=l*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(e-f)<=l*Math.max(1,Math.abs(e),Math.abs(f))}function S(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function j(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t}const _=s,g=p,q=Object.freeze(Object.defineProperty({__proto__:null,LDU:m,add:d,adjoint:e,copy:n,determinant:c,equals:x,exactEquals:y,frob:b,fromRotation:l,fromScaling:M,identity:r,invert:o,mul:_,multiply:s,multiplyScalar:S,multiplyScalarAndAdd:j,rotate:i,scale:f,set:a,str:h,sub:g,subtract:p,transpose:u},Symbol.toStringTag,{value:\"Module\"}));export{m as LDU,d as add,e as adjoint,n as copy,c as determinant,x as equals,y as exactEquals,b as frob,l as fromRotation,M as fromScaling,r as identity,o as invert,q as m,_ as mul,s as multiply,S as multiplyScalar,j as multiplyScalarAndAdd,i as rotate,f as scale,a as set,h as str,g as sub,p as subtract,u as transpose};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nfunction e(){return[1,0,0,1]}function t(e){return[e[0],e[1],e[2],e[3]]}function n(e,t,n,r){return[e,t,n,r]}const r=Object.freeze(Object.defineProperty({__proto__:null,clone:t,create:e,fromValues:n},Symbol.toStringTag,{value:\"Module\"}));export{t as clone,e as create,n as fromValues,r as m};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{acosClamped as t,reciprocalClamped as i}from\"../../../../core/mathUtils.js\";import{set as r}from\"../../../../core/libs/gl-matrix-2/math/mat2.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat2f64.js\";import{transformMat2 as e,set as a}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as h,UNIT_X as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{e as n,h as m,g,n as f,f as c,u,d as l,c as p}from\"../../../../chunks/vec32.js\";import{create as v}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Frame2D as M}from\"./PathExtruder.js\";import{UpVectorAlignment as b}from\"./PathGeometry.js\";class R{constructor(){this.vLeft=v(),this.vRight=v(),this.vMinSiblingLength=0,this.frame=new M}setFrameFromUpVector(t){p(this.frame.up,t),c(D,this.vLeft,this.vRight),f(D,D),g(I,this.frame.up,n(D,this.frame.up)),l(k,D,I),f(k,k),m(this.frame.right,k,this.frame.up)}get foldingAngle(){return Math.PI-this.rotationAngle}}class x extends R{get rotationFrameUp(){return this.frame.up}get rotationRight(){return o}get rotationAngle(){g(w,this.frame.up,n(this.frame.up,this.vLeft)),l(w,this.vLeft,w),u(w,w),f(w,w),g(y,this.frame.up,n(this.frame.up,this.vRight)),l(y,this.vRight,y),f(y,y),m(U,this.rotationFrameUp,this.vLeft);return Math.sign(n(U,this.vRight))*(Math.PI-t(n(w,y)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength/Math.cos(.5*this.foldingAngle))}applyMiterStretch(t,r){const s=this.rotationAngle;if(Math.abs(s)<=0)return r;const e=i(Math.cos(.5*s));return a(t,(e-1+1)*r[0],r[1])}}class L extends R{get rotationFrameUp(){const t=Math.sign(n(this.frame.right,this.vRight));return m(A,this.vRight,this.vLeft),g(A,A,t),f(A,A)}get rotationRight(){const t=this.rotationFrameUp,i=n(t,this.frame.up),r=n(t,this.frame.right);return g(F,this.frame.up,-r),g(P,this.frame.right,i),c(F,F,P),f(F,F),j(S,this.frame,F),S}get rotationAngle(){const i=Math.sign(n(this.frame.right,this.vRight));return u(U,this.vLeft),-i*(Math.PI-t(n(U,this.vRight)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength*i(Math.cos(.5*this.foldingAngle)))}applyMiterStretch(t,s){const a=this.rotationAngle;if(0===Math.abs(a))return s;const h=i(Math.cos(.5*a)),o=this.rotationRight,n=r(E,1+(h-1)*o[0]*o[0],(h-1)*o[0]*o[1],(h-1)*o[0]*o[1],1+(h-1)*o[1]*o[1]);return e(t,s,n)}}function j(t,i,r){a(t,n(r,i.right),n(r,i.up))}function d(t){switch(t){case b.World:return new x;case b.Path:return new L}}const A=v(),S=h(),F=v(),P=v(),U=v(),w=v(),y=v(),I=v(),D=v(),k=v(),E=s();export{R as PathVertex,d as newPathVertex};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{freeze as r,create as e,ZEROS as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{EmissiveSourceMode as t}from\"../../../../symbols/support/materialUtils.js\";import{isColorOrColorEmission as i}from\"../core/shaderLibrary/ShaderOutput.js\";import{PathVertexPositionPassParameters as o}from\"../core/shaderLibrary/attributes/PathVertexPosition.glsl.js\";import{NormalsDoubleSidedMode as l}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{ReloadableShaderModule as n}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as a,depthOnlyOutputBuffersOr as m}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as c}from\"../lib/OITPass.js\";import{OITPolygonOffset as p,oitDepthTest as h,blending as u,getDrawBuffers as d}from\"../lib/OrderIndependentTransparency.js\";import{stencilBaseAllZerosParams as T,stencilWriteMaskOn as f}from\"../lib/StencilUtils.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";import{advancedMRRFactors as b}from\"./pbrUtils.js\";import{P as E}from\"../../../../chunks/Path.glsl.js\";import{makePipelineState as P,defaultColorWrite as R,defaultDepthWrite as j,frontFaceCullingParams as I}from\"../../../webgl/renderState.js\";class A extends o{constructor(){super(...arguments),this.ambient=r(.2,.2,.2),this.diffuse=r(.8,.8,.8),this.opacity=1,this.origin=e(),this.modelTransformation=null,this.mrrFactors=b,this.emissiveStrength=0,this.emissiveSource=t.Color,this.emissiveBaseColor=s}}class g extends a{constructor(r,e){super(r,e,new n(E,(()=>import(\"../shaders/Path.glsl.js\"))),L)}initializePipeline(r){const{output:e,transparent:s,hasSlicePlane:t,doubleSidedMode:o,hasOccludees:n,oitPass:a}=r,O=a===c.NONE,b=a===c.FrontFace;return P({blending:i(e)&&s?u(a):null,culling:t&&!s&&o!==l.None?I:null,depthTest:{func:h(a)},depthWrite:O||b?j:null,drawBuffers:m(e,d(a,e)),colorWrite:R,stencilWrite:n?f:null,stencilTest:n?T:null,polygonOffset:O||b?null:p})}}const L=new Map([[O.POSITION,0],[O.PROFILEVERTEXANDNORMAL,1],[O.PROFILERIGHT,2],[O.PROFILEUP,3],[O.SIZEFEATUREATTRIBUTE,4],[O.COLORFEATUREATTRIBUTE,5],[O.OPACITYFEATUREATTRIBUTE,6],[O.OLIDCOLOR,7],[O.PROFILEAUXDATA,8]]);export{A as PathPassParameters,g as PathTechnique,L as vertexAttributeLocations};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as o}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as t}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as r}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as s}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as a}from\"./DefaultTechniqueConfiguration.js\";class h extends a{constructor(e){super(),this.spherical=e,this.pbrMode=s.Disabled,this.doubleSidedMode=r.None,this.emissionSource=t.None,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.transparent=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.hasBloom=!1,this.snowCover=!1,this.textureCoordinateType=o.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.useCustomDTRExponentForWater=!1,this.useFillLights=!1,this.hasColorTexture=!1,this.objectAndLayerIdColorInstanced=!1,this.hasMetallicRoughnessTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.draped=!1,this.overlayEnabled=!1}get discardInvisibleFragments(){return this.transparent}}e([i({count:s.COUNT})],h.prototype,\"pbrMode\",void 0),e([i({count:r.COUNT})],h.prototype,\"doubleSidedMode\",void 0),e([i({count:t.COUNT})],h.prototype,\"emissionSource\",void 0),e([i()],h.prototype,\"receiveShadows\",void 0),e([i()],h.prototype,\"receiveAmbientOcclusion\",void 0),e([i()],h.prototype,\"vvSize\",void 0),e([i()],h.prototype,\"vvColor\",void 0),e([i()],h.prototype,\"vvOpacity\",void 0),e([i()],h.prototype,\"transparent\",void 0),e([i()],h.prototype,\"hasOccludees\",void 0),e([i()],h.prototype,\"terrainDepthTest\",void 0),e([i()],h.prototype,\"cullAboveTerrain\",void 0),e([i()],h.prototype,\"hasBloom\",void 0),e([i()],h.prototype,\"snowCover\",void 0);export{h as PathTechniqueConfiguration};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{clone as e}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{fromValues as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as r}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{isShadowRelatedOutput as o,is3DGeometryOutputMRT as a,isColorOrColorEmission as n,isColorEmission as h,ShaderOutput as c}from\"../core/shaderLibrary/ShaderOutput.js\";import{EmissionSource as p}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as u}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as m}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{olidEnabled as l}from\"../effects/geometry/olidUtils.js\";import f from\"../lib/GLMaterial.js\";import{Material as d}from\"../lib/Material.js\";import{isPathGeometry as b}from\"../lib/PathGeometry.js\";import{MeshIntersectionOptions as g,intersectAabbInvDir as v}from\"../lib/RayIntersections.js\";import{RenderSlot as S}from\"../lib/RenderSlot.js\";import{VertexAttribute as _}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as T}from\"./DefaultBufferWriter.js\";import{vertexAttributeLocations as A,PathPassParameters as O,PathTechnique as R}from\"./PathTechnique.js\";import{PathTechniqueConfiguration as y}from\"./PathTechniqueConfiguration.js\";import{alphaCutoff as E}from\"../../../../webscene/support/AlphaCutoff.js\";class P extends d{constructor(t,e){super(t,I),this.vertexAttributeLocations=A,this.supportsEdges=!0,this._pp0=i(0,0,1),this._pp1=i(0,0,0),this.produces=new Map([[S.OPAQUE_MATERIAL,t=>(this.parameters.castShadows&&o(t)||a(t))&&!this.transparent],[S.TRANSPARENT_MATERIAL,t=>(this.parameters.castShadows&&o(t)||a(t))&&this.transparent]]),this._configuration=new y(e.spherical)}get hasEmissions(){return this.parameters.emissiveStrength>0}getConfiguration(t,e){return super.getConfiguration(t,e,this._configuration),this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.transparent,this._configuration.hasOccludees=e.hasOccludees,n(t)?(this._configuration.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?u.View:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?u.WindingOrder:u.None,this._configuration.receiveShadows=e.shadowMap.enabled,this._configuration.receiveAmbientOcclusion=null!=e.ssao):this._configuration.receiveShadows=this._configuration.receiveAmbientOcclusion=!1,this._configuration.pbrMode=this.parameters.usePBR?m.Schematic:m.Disabled,this._configuration.emissionSource=this.parameters.usePBR?p.SymbolColor:p.None,this._configuration.hasBloom=h(t),this._configuration.oitPass=e.oitPass,this._configuration.terrainDepthTest=e.terrainDepthTest,this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration.snowCover=e.snowCover,this._configuration}isVisibleForOutput(t){return t!==c.Shadow&&t!==c.ShadowExcludeHighlight&&t!==c.ShadowHighlight||this.parameters.castShadows}get visible(){return this.parameters.opacity>=E}intersect(t,e,i,r,s,o){this._intersect(t,i,r,s,o)}intersectDraped(t,e,i,r){return this._pp0[0]=this._pp1[0]=i[0],this._pp0[1]=this._pp1[1]=i[1],this._intersect(t,e,this._pp0,this._pp1,r)}_intersect(i,s,o,a,n){const h=i;if(!b(h))return;const c=h.path,p=e(this.parameters.size);if(this.parameters.vvSize){const{offset:e,factor:i,minSize:r,maxSize:s,fallback:o}=this.parameters.vvSize,a=c.sizeAttributeValue;Number.isNaN(a)?(p[0]*=o[0],p[1]*=o[2]):(p[0]*=t(e[0]+a*i[0],r[0],s[0]),p[1]*=t(e[2]+a*i[2],r[2],s[2]))}const u=new g(!1,s.options.normalRequired),m=Math.max(p[0],p[1]),l=i.boundingInfo;if(null==l)return void w(c,p,o,a,u,n);const f=r(l.bbMin[0]-m,l.bbMin[1]-m,l.bbMin[2]-m,l.bbMax[0]+m,l.bbMax[1]+m,l.bbMax[2]+m),d=[a[0]-o[0],a[1]-o[1],a[2]-o[2]],S=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]),_=[S/d[0],S/d[1],S/d[2]];v(f,o,_,s.tolerance)&&w(c,p,o,a,u,n)}createBufferWriter(){return new T(this._layout)}get _layout(){const t=s().vec3f(_.POSITION).vec4f16(_.PROFILEVERTEXANDNORMAL).vec2i16(_.PROFILERIGHT,{glNormalized:!0}).vec2i16(_.PROFILEUP,{glNormalized:!0});return this.parameters.vvSize&&t.f32(_.SIZEFEATUREATTRIBUTE),this.parameters.vvColor&&t.f32(_.COLORFEATUREATTRIBUTE),this.parameters.vvOpacity&&t.f32(_.OPACITYFEATUREATTRIBUTE),l()&&t.vec4u8(_.OLIDCOLOR),t.vec3f16(_.PROFILEAUXDATA),t}createGLMaterial(t){return new j(t)}get transparent(){const{parameters:t}=this;return t.drivenOpacity||t.opacity<1}}class j extends f{beginSlot(t){return this.getTechnique(R,t)}}function w(t,e,i,r,s,o){t.baked.size&&t.baked.size[0]===e[0]&&t.baked.size[1]===e[1]||t.baked.bake(e),t.baked.intersect(i,r,s,o)}class I extends O{constructor(){super(...arguments),this.doubleSided=!1,this.doubleSidedType=\"normal\",this.castShadows=!0,this.hasSlicePlane=!1,this.drivenOpacity=!1,this.usePBR=!1}}export{I as Parameters,P as PathMaterial};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Error.js\";import{translate as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as a,scale as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as n,fromArray as l,clone as c}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as h}from\"../../../../chunks/vec32.js\";import{fromArray as p,create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ZEROS as f}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as d}from\"../../../../geometry/projection/projectBuffer.js\";import{create as u,fromSubBuffer as g,intersectsClippingArea as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as y,doubleArrayFrom as _}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as v}from\"../../../../geometry/support/FloatArray.js\";import{EmissiveSourceMode as w}from\"../../../../symbols/support/materialUtils.js\";import{needsElevationUpdates3D as x,evaluateElevationAlignmentAtPoint as j,SampleElevationInfo as P}from\"./elevationAlignmentUtils.js\";import{Graphics3DObject3DGraphicLayer as S}from\"./Graphics3DObject3DGraphicLayer.js\";import{pathNumRoundJoinSubdivisions as C,pathNumRoundCapExtrusionSubdivisions as D}from\"./Graphics3DPathSymbolLayerConstants.js\";import{Graphics3DSymbolLayer as V}from\"./Graphics3DSymbolLayer.js\";import{isValidSize as A}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as U}from\"./interfaces.js\";import{ConvertOptions as R,initFastSymbolUpdatesState as k,updateFastSymbolUpdatesState as z,getAttributeValue as E}from\"../support/FastSymbolUpdates.js\";import{SamplePosition as L}from\"../../support/ElevationProvider.js\";import{NormalType as O}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{CullFaceOptions as I}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as G}from\"../../webgl-engine/lib/Object3D.js\";import{Path as B}from\"../../webgl-engine/lib/Path.js\";import{PathBuilder as F}from\"../../webgl-engine/lib/PathBuilder.js\";import{RoundCapBuilder as M,TriangulationCapBuilder as q,NoCapBuilder as H}from\"../../webgl-engine/lib/PathCapBuilder.js\";import{SimpleExtruder as N,MiterExtruder as W}from\"../../webgl-engine/lib/PathExtruder.js\";import{UpVectorAlignment as T,PathGeometry as Z,isPathGeometry as J}from\"../../webgl-engine/lib/PathGeometry.js\";import{FastUpdatePathGeometry as K,StaticPathGeometry as Q}from\"../../webgl-engine/lib/PathGeometryData.js\";import{computeMinimumRotationTangentFrame as X}from\"../../webgl-engine/lib/pathGeometryUtils.js\";import{quadProfiles as Y,circleProfiles as $}from\"../../webgl-engine/lib/PathProfile.js\";import{newPathVertex as ee}from\"../../webgl-engine/lib/PathVertex.js\";import{VertexAttribute as te}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as re}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{PathMaterial as ie}from\"../../webgl-engine/materials/PathMaterial.js\";const se=[\"polyline\"];class ae extends V{constructor(e,t,r,i){super(e,t,r,i,he(t)),this._intrinsicSize=n(1,1),this._upVectorAlignment=T.Path,this._stencilWidth=.1,this.ensureDrapedStatus(!1)}async doLoad(){const e=this.symbolLayer,r=null!=e.width?e.width:e.height,i=null!=e.height?e.height:r;this._vvConvertOptions=new R({supports:{size:!0,color:!0,rotation:!1,opacity:!0},modelSize:[1,1,1],symbolSize:[r,1,i],unitInMeters:this._context.renderCoordsHelper.unitInMeters,fallbackColor:this._getFallbackOpacityAndColor(),fallbackSize:[r,1,i]});const s=this._context.renderer?.visualVariables;this._fastUpdates=s?.length?k(this._context.renderer,this._vvConvertOptions):null;const n=e.anchor||\"center\";this._upVectorAlignment=\"heading\"===e.profileRotation?T.World:T.Path;const c=e.profile||\"circle\";switch(c){default:case\"circle\":this._profile=$[n];break;case\"quad\":this._profile=Y[n]}switch(e.join){case\"round\":this._extruder=new W(0,C);break;case\"bevel\":this._extruder=new W(0,1);break;case\"miter\":this._extruder=new W(.8*Math.PI,1);break;default:this._extruder=new N}const h=e.cap||\"butt\";switch(h){case\"none\":this._startCap=new H,this._endCap=new H;break;case\"butt\":default:this._startCap=new q(this._profile,0),this._endCap=new q(this._profile,0,!0);break;case\"square\":this._startCap=new q(this._profile,-.5),this._endCap=new q(this._profile,.5,!0);break;case\"round\":{const e=\"quad\"===c;this._startCap=new M({profile:this._profile,flip:!1,breakNormals:e,subdivisions:D}),this._endCap=new M({profile:this._profile,flip:!0,breakNormals:e,subdivisions:D});break}}const m=this.symbolLayer?.material?.color,f=this._getCombinedOpacityAndColor(m),d=p(f),u=f[3],g=this.needsDrivenTransparentPass,b=e.material?.emissive,y={diffuse:d,ambient:d,emissiveStrength:b?.strength??0,emissiveSource:w.Color,opacity:u,drivenOpacity:g,hasVertexColors:!1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!0};if(!this._drivenProperties.size&&(a(this._intrinsicSize,r,i),!A(this._intrinsicSize[0])||!A(this._intrinsicSize[1])))throw new t(\"graphics3dpathsymbollayer:invalid-size\",\"Symbol sizes may not be negative values\");let _;this._fastUpdates?.visualVariables.size||o(this._intrinsicSize,this._intrinsicSize,1/this._context.renderCoordsHelper.unitInMeters),this._fastUpdates?_=new ie({...y,...this._fastUpdates.materialParameters,size:l(this._intrinsicSize)},this._context):(y.hasVertexColors=this._drivenProperties.color||this._drivenProperties.opacity,y.normalType=O.Compressed,_=new re(y,this._context)),_.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,cullFace:_.transparent||\"none\"===h?I.None:I.Back}),this._materials[0]=_}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,se,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this._createAs3DShape(e,r)}layerOpacityChanged(){const e=this.symbolLayer?.material?.color,t=this._getCombinedOpacity(e);this._materials[0]?.setParameters({opacity:t})}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,x)}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return this._materials[0]?.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return U.RecreateSymbol;if(!z(this._fastUpdates,t,this._vvConvertOptions))return U.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return U.FastUpdate}_getVertexData(e){let t=0;const r=e.paths,i=[],s=e.spatialReference,a=this._context.elevationProvider.spatialReference,o=this._context.renderCoordsHelper.spatialReference;for(const h of r)t+=h.length;const n=y(3*t);let l,c=0;for(const h of r){i.push({offset:c,numVertices:h.length});for(const t of h)n[c++]=t[0],n[c++]=t[1],n[c++]=e.hasZ?t[2]:0}return null==a||s.equals(a)||d(n,s,0,n,a,0,t)?(null==a||a.equals(o)?l=_(n):(l=y(3*t),d(n,a,0,l,o,0,t)),{pathVertexDataInfos:i,vertexDataES:n,vertexDataRS:l}):null}_createAs3DShape(e,t){const{graphic:a,renderingInfo:o}=e,n=a.geometry,l=this._getVertexData(n);if(null==l)return this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (failed to project geometry to view spatial reference)\"),null;if(0===l.pathVertexDataInfos.length)return 0!==n.paths.length&&n.paths.some((e=>e.length>0))||this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (no paths were defined)\"),null;const p=new Array,m=n.spatialReference,f=u(),d=this._context.renderCoordsHelper,y=new L(l.vertexDataES),_=a.uid,w=v(l.vertexDataRS.length);for(const u of l.pathVertexDataInfos){const e=u.numVertices;if(e<2)continue;const n=u.offset;if(null!=this._context.clippingExtent&&(g(l.vertexDataES,n,e,f),!b(f,this._context.clippingExtent)))continue;const v=new Array,x=n+3*e;for(let r=n;r<x;r+=3){y.offset=r;const e=j(y,this._context.elevationProvider,t,d);h(pe,l.vertexDataRS[r],l.vertexDataRS[r+1],l.vertexDataRS[r+2]),d.setAltitude(pe,e),l.vertexDataRS[r]=pe[0],l.vertexDataRS[r+1]=pe[1],l.vertexDataRS[r+2]=pe[2],v.push(ee(this._upVectorAlignment))}const P=new B(v,l.vertexDataES,l.vertexDataRS,n,w);oe(P,this._upVectorAlignment,this._context.renderCoordsHelper);const S=new F(P,this._profile,this._extruder,this._startCap,this._endCap);let C=null;if(this._fastUpdates){const e=this._fastUpdates.visualVariables,t=E(e.size?.field,a)??0,r=E(e.color?.field,a)??0,i=E(e.opacity?.field,a)??0;C=new K(S,t,r,i)}else{const e=c(this._intrinsicSize);if(this._drivenProperties.size){const t=o.size??[\"symbol-value\",\"symbol-value\",\"symbol-value\"];e[0]*=ne(t[0],\"symbol-value\"===t[2]?this.symbolLayer.height||0:t[2],this.symbolLayer.width||0),e[1]*=ne(t[2],\"symbol-value\"===t[0]?this.symbolLayer.width||0:t[0],this.symbolLayer.height||0)}let t;if(this._drivenProperties.color&&(t=o.color??this._getFallbackOpacityAndColor()),this._drivenProperties.opacity){const e=o.opacity??this._getFallbackOpacityAndColor()[3];t=t?[t[0],t[1],t[2],e]:[1,1,1,e]}const r=new Q(S);r.bake(e),t&&r.bakeVertexColors(t),C=r}const D=C.createGeometryData(),V=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:_,layerViewUid:this._context.layerViewUid}),A=new Z(this._materials[0],D,C,m,this._stencilWidth,V);A.transformation=r(s(),i,S.path.origin),p.push(A)}if(0===p.length)return null;const P=new G({geometries:p,layerViewUid:this._context.layerViewUid,graphicUid:_}),C=new S(this,P,null,((e,t,r,i,s)=>ce(e,t,i,s,this._upVectorAlignment)),t,null);return C.alignedSampledElevation=0,C.needsElevationUpdates=x(t.mode),C}_getFallbackOpacityAndColor(){const t=this.symbolLayer?.material?.color;return e.toUnitRGBA(t)??f}}function oe(e,t,r){const{origin:i,positions:s}=e;let a=e.offset;switch(t){default:case T.World:for(const t of e.vertices)pe[0]=s[a++]+i[0],pe[1]=s[a++]+i[1],pe[2]=s[a++]+i[2],r.worldUpAtPosition(pe,pe),t.setFrameFromUpVector(pe);break;case T.Path:pe[0]=s[a]+i[0],pe[1]=s[a+1]+i[1],pe[2]=s[a+2]+i[2],r.worldUpAtPosition(pe,pe),X(e,pe)}}function ne(e,t,r){switch(e){case\"symbol-value\":return r;case\"proportional\":return t;default:return e}}function le(e,t,r,i){let s=0;const{origin:a,vertices:o,positions:n,positionsES:l}=e,c=e.offset+3*o.length;for(let p=e.offset;p<c;p+=3)h(pe,l[p],l[p+1],l[p+2]),r(pe,me),s+=me.sampledElevation,pe[0]=n[p]+a[0],pe[1]=n[p+1]+a[1],pe[2]=n[p+2]+a[2],i.setAltitude(pe,me.z),n[p]=pe[0]-a[0],n[p+1]=pe[1]-a[1],n[p+2]=pe[2]-a[2];return e.updatePathVertexInformation(),s/o.length}function ce(e,t,r,i,s){const a=e.stageObject,o=a.geometries;let n=0;for(const l of o){if(!J(l))continue;const e=l.path,o=e.builder.path;n+=le(o,t,r,i),s!==T.World&&oe(o,s,i),e.onPathChanged(l),l.invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(l,te.POSITION)}return n/o.length}function he(e){return 1===(e.material?.color?.a??1)}const pe=m(),me=new P;export{ae as Graphics3DPathSymbolLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as e,e as s,d as i,g as a,f as m,c as n,b as c,n as l,h as f}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as p}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as N}from\"../../../../geometry/support/DoubleArray.js\";import{fromArray as g,getNormal as b,create as u}from\"../../../../geometry/support/plane.js\";import{ViewingMode as j}from\"../../../ViewingMode.js\";function T(t,r,e,s,i=1){if(e.isGeographic&&s===j.Global){const t=N(r.length),o=r.length,s=h(e);for(let e=0;e<o;e+=3)p(r,e,t,e,s);r=t}o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);for(let o=0;o<r.length;o+=3)y[0]=Math.min(y[0],r[o]),y[1]=Math.min(y[1],r[o+1]);const a=y[0]%i,m=y[1]%i,n=y[0]-a,c=y[1]-m;for(let o=0;o<r.length;o+=3){const e=o/3*4;t[e]=(r[o]-n)/i,t[e+1]=(r[o+1]-c)/i,t[e+2]=n/i,t[e+3]=c/i}}function M(t,r,n,c,l=1){e(F,1,0,0),e(Y,0,1,0),e(_,0,0,1),D(x,n),g(V,n)&&O(V,F,Y,_,c,x),o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),o(P,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(let o=0;o<n.length;o+=3){e(E,n[o],n[o+1],n[o+2]);const t=s(F,E),r=s(Y,E);y[0]=Math.min(y[0],t),y[1]=Math.min(y[1],r),P[0]=Math.max(P[0],t),P[1]=Math.max(P[1],r)}const f=s(_,x);q(v,y[0],y[1],f,F,Y,_),q(A,P[0],y[1],f,F,Y,_),q(G,y[0],P[1],f,F,Y,_),i(A,A,v),a(A,A,.5),i(G,G,v),a(G,G,.5),m(v,v,A),m(v,v,G);const I=y[0]%l,h=y[1]%l,p=y[0]-I,N=y[1]-h;for(let o=0;o<n.length;o+=3){e(E,n[o],n[o+1],n[o+2]);const i=o/3,a=4*i;t[a]=(s(F,E)-p)/l,t[a+1]=(s(Y,E)-N)/l,t[a+2]=p/l,t[a+3]=N/l;const m=9*i;for(let t=0;t<3;t++)r[m+t]=v[t],r[m+t+3]=A[t],r[m+t+6]=G[t]}}const x=I(),E=I(),V=u(),F=I(),Y=I(),_=I(),y=r(),P=r(),v=I(),A=I(),G=I();function O(t,o,r,i,m,I){null!=m?(m.basisMatrixAtPosition(I,S),e(d,S[0],S[1],S[2]),e(k,S[4],S[5],S[6]),e(w,S[8],S[9],S[10])):(e(d,1,0,0),e(k,0,1,0),e(w,0,0,1));const h=b(t);s(h,w)<0&&a(h,h,-1),n(i,h);const p=s(h,k),N=s(h,d);Math.abs(p)>Math.abs(N)?(c(o,d,h,-N),l(o,o),f(r,o,h),l(r,r),a(r,r,-1)):(c(r,k,h,-p),l(r,r),f(o,r,h),l(o,o))}const S=t(),d=I(),k=I(),w=I();function D(t,o){e(U,0,0,0);for(let r=0;r<o.length-3;r+=3)U[0]+=o[r],U[1]+=o[r+1],U[2]+=o[r+2];a(t,U,1/(o.length/3-1))}const U=I();function q(t,o,r,s,i,a,m){e(t,o*i[0]+r*a[0]+s*m[0],o*i[1]+r*a[1]+s*m[1],o*i[2]+r*a[2]+s*m[2])}export{M as createMapSpaceUVCoords,T as createMapSpaceUVCoordsDraped};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r,depthOnlyOutputBuffersOr as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as s}from\"../effects/geometry/olidUtils.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{oitPolygonOffset as n,depthWrite as o,oitDepthTest as p,blending as a,getDrawBuffers as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as O,stencilWriteMaskOn as d}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{P as f}from\"../../../../chunks/Pattern.glsl.js\";import{makePipelineState as P,defaultColorWrite as T,cullingParams as h}from\"../../../webgl/renderState.js\";class S extends r{constructor(e,r){super(e,r,new t(f,(()=>import(\"./Pattern.glsl.js\"))),s()?E:j)}_setPipelineState(t,r){const{oitPass:s,output:m,cullFace:f,draped:S,hasOccludees:j,polygonOffset:E}=t,I=s===l.NONE;return P({blending:e(m)?a(s):null,culling:h(f),depthTest:S?null:{func:p(s)},depthWrite:o(t),drawBuffers:i(m,c(s,m)),colorWrite:T,stencilWrite:j?d:null,stencilTest:j?r?u:O:null,polygonOffset:I?E?R:null:n(t)})}initializePipeline(e){return this._occludeePipelineState=this._setPipelineState(e,!0),this._setPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const R={factor:1,units:1},j=new Map([[m.POSITION,0],[m.COLOR,3],[m.UVMAPSPACE,4],[m.COLORFEATUREATTRIBUTE,5],[m.BOUNDINGRECT,6]]),E=new Map([[m.POSITION,0],[m.COLOR,3],[m.UVMAPSPACE,4],[m.COLORFEATUREATTRIBUTE,5],[m.BOUNDINGRECT,6],[m.OLIDCOLOR,9]]);export{S as PatternTechnique,j as vertexAttributeLocations,E as vertexAttributeLocationsOID};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as r}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";import{Style as a}from\"../materials/PatternStyle.js\";class n extends i{constructor(){super(...arguments),this.cullFace=r.None,this.style=a.Horizontal,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasOccludees=!1,this.enableOffset=!0,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.writeDepth=!0,this.occlusionPass=!1,this.hasVvInstancing=!1,this.vvSize=!1,this.vvOpacity=!1,this.objectAndLayerIdColorInstanced=!1,this.overlayEnabled=!1,this.snowCover=!1}}t([s({count:r.COUNT})],n.prototype,\"cullFace\",void 0),t([s({count:a.COUNT})],n.prototype,\"style\",void 0),t([s()],n.prototype,\"hasVertexColors\",void 0),t([s()],n.prototype,\"polygonOffset\",void 0),t([s()],n.prototype,\"hasOccludees\",void 0),t([s()],n.prototype,\"enableOffset\",void 0),t([s()],n.prototype,\"terrainDepthTest\",void 0),t([s()],n.prototype,\"cullAboveTerrain\",void 0),t([s()],n.prototype,\"vvColor\",void 0),t([s()],n.prototype,\"draped\",void 0);export{n as PatternTechniqueConfiguration};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{BufferViewMat3f as t,BufferViewVec4f as r}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{isHighlightOrOID as i,isColorOrColorEmission as o,isDepth as a,isColorEmissionHighlightOrOID as n}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as f}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as c}from\"../lib/basicInterfaces.js\";import l from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as u}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as h}from\"../lib/Util.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as d}from\"./DefaultBufferWriter.js\";import{Style as g}from\"./PatternStyle.js\";import{TriangleMaterial as A}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as T}from\"./VisualVariablePassParameters.js\";import{writeDefaultAttributes as b,writeBufferVec4 as v}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocationsOID as O,vertexAttributeLocations as _,PatternTechnique as j}from\"../shaders/PatternTechnique.js\";import{PatternTechniqueConfiguration as C}from\"../shaders/PatternTechniqueConfiguration.js\";import{alphaCutoff as P}from\"../../../../webscene/support/AlphaCutoff.js\";class R extends A{constructor(e){super(e,I),this._configuration=new C,this.vertexAttributeLocations=f()?O:_,this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>i(e)],[p.TRANSPARENT_MATERIAL,e=>o(e)],[p.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,e=>a(e)],[p.DRAPED_MATERIAL,e=>this.parameters.draped&&n(e)]])}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.style=this.parameters.style,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<u,this._configuration.terrainDepthTest=t.terrainDepthTest&&o(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration}get visible(){return this.parameters.color[3]>=P}createGLMaterial(e){return new y(e)}createBufferWriter(){const e=s().vec3f(m.POSITION).vec4f(m.UVMAPSPACE);return this.parameters.draped||e.mat3f(m.BOUNDINGRECT),this.parameters.vvColor?e.f32(m.COLORFEATUREATTRIBUTE):e.vec4u8(m.COLOR),f()&&e.vec4u8(m.OLIDCOLOR),new E(e)}}class y extends l{beginSlot(e){return this.getTechnique(j,e)}}class E extends d{write(e,s,i,o,a,n){const f=b(i,o,this.vertexBufferLayout,e,s,a,n);for(const c of this.vertexBufferLayout.fields.keys()){const s=i.get(c),o=s?.indices;if(s&&o)switch(c){case m.UVMAPSPACE:{h(4===s.size);const e=a.getField(c,r);e&&v(s,e,n);break}case m.BOUNDINGRECT:{h(9===s.size);const r=a.getField(c,t);r&&L(s,e,r,n);break}}}return f}}function L(e,t,r,s){const{data:i,indices:o}=e,a=t,n=r.typedBuffer,f=r.typedBufferStride,c=o.length;s*=f;for(let l=0;l<c;++l){const e=9*o[l],t=i[e],r=i[e+1],c=i[e+2];n[s]=a[0]*t+a[4]*r+a[8]*c+a[12],n[s+1]=a[1]*t+a[5]*r+a[9]*c+a[13],n[s+2]=a[2]*t+a[6]*r+a[10]*c+a[14];for(let o=3;o<9;++o)n[s+o]=i[e+o];s+=f}}class I extends T{constructor(){super(...arguments),this.color=e(1,1,1,1),this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=c.None,this.hasOccludees=!1,this.style=g.Cross,this.draped=!0}}export{I as Parameters,R as PatternMaterial};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport\"../../../../core/has.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{perVertexElevationAligner as e}from\"../graphics/ElevationAligners.js\";import{createMapSpaceUVCoords as r}from\"./uvUtils.js\";import{VertexAttribute as a}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as o}from\"../../webgl-engine/materials/ColorMaterial.js\";import{PatternMaterial as n}from\"../../webgl-engine/materials/PatternMaterial.js\";import{Style as i}from\"../../webgl-engine/materials/PatternStyle.js\";function s(e,r){const a=e?.pattern;return null==a?new o(r):\"none\"===a.style||\"solid\"===a.style?(\"none\"===a.style&&(r.color=t(0,0,0,0),r.forceTransparentMode=!0),new o(r)):(r.style=l(a.style),new n(r))}function l(t){switch(t){case\"horizontal\":return i.Horizontal;case\"vertical\":return i.Vertical;case\"cross\":return i.Cross;case\"forward-diagonal\":return i.ForwardDiagonal;case\"backward-diagonal\":return i.BackwardDiagonal;case\"diagonal-cross\":return i.DiagonalCross;default:return}}function c(t){return t.material instanceof n&&!t.material.parameters.draped}function u(t,e){if(c(t)){const o=t.attributes.get(a.POSITION).data,n=t.getMutableAttribute(a.UVMAPSPACE).data,i=t.getMutableAttribute(a.BOUNDINGRECT).data;r(n,i,o,e)}}function m(t,r,a,o,n){const i=e(t,r,a,o,n),s=t.stageObject.geometries;for(const e of s)u(e,n);return i}export{s as createMaterial,l as parsePatternStyle,c as requiresUVUpdates,u as updateMapSpaceUVCoords,m as uvElevationAligner};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{e as i}from\"../../../../chunks/earcut.js\";import{ZEROS as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{fromBuffer as o,create as n,intersectsClippingArea as s,empty as a,expandWithAABB as l}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as c,doubleSubArray as p}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as h,floatSubArray as u}from\"../../../../geometry/support/FloatArray.js\";import{SymbolUpdateType as d,elevationModeChangeUpdateType as m,needsElevationUpdates2D as y}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as _}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as f}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as b}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as v}from\"./interfaces.js\";import{parseCapType as O}from\"./lineUtils.js\";import{geometryAsPolygon as x,createIndices3D as C,createColorGeometry as D,PolygonCreationDataBase as A}from\"./polygonUtils.js\";import{initFastSymbolUpdatesState as j,updateFastSymbolUpdatesState as S,getAttributeValue as P,ConvertOptions as U}from\"../support/FastSymbolUpdates.js\";import{createMaterial as E,uvElevationAligner as F}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as G,createMapSpaceUVCoordsDraped as L}from\"../support/uvUtils.js\";import{createGeometry as w}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as R,geometryToRenderInfoDraped as I}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as V}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as M}from\"../../webgl-engine/lib/RenderGeometry.js\";import{getStipplePatternForLinePattern as B}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as T}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as k}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const z=[\"polyline\",\"polygon\",\"extent\"];class H extends f{static{this.elevationModeChangeTypes={definedChanged:d.RECREATE,staysOnTheGround:d.NONE,onTheGroundChanged:d.RECREATE}}constructor(e,t,i,r){super(e,t,i,r,Q(t)),this._needsUV=!1,this._materials=[]}async doLoad(){this._fastUpdates=j(this._context.renderer,this._vvConvertOptions)}_createMaterials(){if(this._materials.length>0)return;const e=this.symbolLayer?.material?.color,i=this._getCombinedOpacityAndColor(e);this._materials[J.Fill]=E(this.symbolLayer,{color:i,forceTransparentMode:this.needsDrivenTransparentPass,discardInvisibleFragments:!0,polygonOffset:!1,hasVertexColors:!0,draped:this.draped,hasSlicePlane:this._context.slicePlaneEnabled,...this._fastUpdates?.materialParameters}),this._needsUV=this._materials[J.Fill]instanceof T;const r=this.symbolLayer.outline;if(K(r)){const e=B(r.pattern);this._materials[J.Outline]=new k({width:t(r.size),color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:e,cap:O(r.patternCap||\"butt\")})}}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,z,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,this._getFallbackOpacityAndColor(),255),r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._createMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return v.RecreateSymbol;if(!S(this._fastUpdates,t,this._vvConvertOptions))return v.RecreateSymbol;this._materials[J.Fill]?.setParameters(this._fastUpdates.materialParameters)}return v.FastUpdate}layerOpacityChanged(){if(null!=this._materials[J.Fill]){const e=this._materials[J.Fill].parameters.color,t=this.symbolLayer?.material?.color,i=this._getCombinedOpacity(t);this._materials[J.Fill].setParameters({color:[e[0],e[1],e[2],i],forceTransparentMode:this.needsDrivenTransparentPass})}if(null!=this._materials[J.Outline]){const e=this._materials[J.Outline].parameters.color;this._materials[J.Outline].setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,o=m(H.elevationModeChangeTypes,i,r);if(o!==d.UPDATE)return o;const n=y(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){if(this._materials[J.Fill]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[J.Outline]){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._materials[J.Outline].setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,i){const r=x(e.geometry);if(!r)return null;const o=R(r,this._context.elevationProvider,this._context.renderCoordsHelper,i),n=new W(o,t,this._context.layerViewUid,e.uid),s=n.renderData.position.length/3;if(this._needsUV&&(n.uvMapSpace=h(4*s,!0),n.boundingRect=c(9*s,!0),G(n.uvMapSpace,n.boundingRect,n.renderData.position,this._context.renderCoordsHelper)),n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),this._createAs3DShapeFill(e,n),this._materials[J.Outline]&&this._createAs3DShapeOutline(n),this._logGeometryCreationWarnings(n.renderData,r.rings,\"rings\",\"FillSymbol3DLayer\"),0===n.outGeometries.length)return null;const a=new V({geometries:n.outGeometries,castShadow:!1,layerViewUid:this._context.layerViewUid,graphicUid:e.uid}),l=new g(this,a,null,F,i);return l.alignedSampledElevation=n.renderData.sampledElevation,l.needsElevationUpdates=y(i.mode),l}_createAs3DShapeFill(e,t){const i=t.renderData.polygons;for(const{position:r,mapPositions:n,holeIndices:a,index:l,count:c}of i){if(null!=this._context.clippingExtent&&(o(n,N),!s(N,this._context.clippingExtent)))continue;const i=C(n,a,this._context.elevationProvider.spatialReference);if(0===i.length)continue;const h=this._fastUpdates?.visualVariables.color,d=D({material:this._materials[J.Fill],indices:i,mapPositions:n,attributeData:{position:r,color:h?null:t.color,colorFeature:h?P(h.field,e):null,uvMapSpace:this._needsUV?u(t.uvMapSpace,4*l,4*c):null,boundingRect:this._needsUV?p(t.boundingRect,9*l,9*c):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(d)}}_createAs3DShapeOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(const{mapPositions:i,position:r}of t){if(null!=this._context.clippingExtent&&(o(i,N),!s(N,this._context.clippingExtent)))continue;const t=w(this._materials[J.Outline],{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:i,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(t)}}_createAsOverlay(e,t){const i=x(e.geometry);if(null==i)return null;this._materials[J.Fill].renderPriority=this._renderPriority+this._renderPriorityStep/2,null!=this._materials[J.Outline]&&(this._materials[J.Outline].renderPriority=this._renderPriority);const r=I(i,this._context.overlaySR),o=new q(r,t,this._context.layerViewUid,e.uid),n=o.renderData.position.length/3;return this._needsUV&&(o.uvMapSpace=h(4*n,!0),L(o.uvMapSpace,o.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),o.outBoundingBox=a(),o.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(o),this._createAsOverlayFill(e,o),this._materials[J.Outline]&&this._createAsOverlayOutline(o),this._logGeometryCreationWarnings(o.renderData,i.rings,\"rings\",\"FillSymbol3DLayer\"),0===o.outGeometries.length?null:new _(this,o.outGeometries,o.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e,t){const r=t.renderData.polygons;for(const{position:n,holeIndices:a,index:c,count:p}of r){const r=o(n,N);if(!s(r,this._context.clippingExtent))continue;const h=i(n,a,3);if(0===h.length)continue;l(t.outBoundingBox,r);const d=this._fastUpdates?.visualVariables.color,m=D({material:this._materials[J.Fill],indices:h,attributeData:{position:n,color:d?null:t.color,colorFeature:d?P(d.field,e):null,uvMapSpace:this._needsUV?u(t.uvMapSpace,4*c,4*p):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(new M(m,t))}}_createAsOverlayOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(o(r,N),!s(N,this._context.clippingExtent))continue;l(e.outBoundingBox,N);const n=w(this._materials[J.Outline],{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(new M(n,e))}}_getOutlineOpacity(){const e=this.symbolLayer?.outline?.color;return(this.draped?1:this._getLayerOpacity())*(null!=e?e.a:0)}_getOutlineColor(){const t=this.symbolLayer?.outline?.color,i=this._getOutlineOpacity();return b(null!=t?e.toUnitRGB(t):null,i)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}_getFallbackOpacityAndColor(){const t=this.symbolLayer?.material?.color;return e.toUnitRGBA(t)??r}get _vvConvertOptions(){return new U({supports:{size:!1,color:!0,rotation:!1,opacity:!1},fallbackColor:this._getFallbackOpacityAndColor()})}}const N=n();class W extends A{constructor(e,t,i,r){super(e,i,r),this.color=t}}class q extends A{constructor(e,t,i,r){super(e,i,r),this.color=t}}var J;function K(e){return null!=e?.size&&e.size>0&&null!=e.color&&(null==e.pattern||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}function Q(e){return 1===(e.material?.color?.a??1)}!function(e){e[e.Fill=0]=\"Fill\",e[e.Outline=1]=\"Outline\"}(J||(J={}));export{H as Graphics3DPolygonFillSymbolLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class i{constructor(i,r=\"center\",c=!1,a=t(),o=s(0,0,0,-1),l=\"world\",f=e(),n=0){this.verticalOffset=i,this.anchor=r,this.hasLabelVerticalOffset=c,this.screenOffset=a,this.centerOffset=o,this.centerOffsetUnits=l,this.translation=f,this.elevationOffset=n}}class r{constructor(e,s=\"center\",i=\"center\",r=null,c=t(),a=!0){this.placement=e,this.horizontalPlacement=s,this.verticalPlacement=i,this.text=r,this.displaySize=c,this.isFocused=a}}export{r as LabelParameters,i as LabelPlacement};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport o from\"../../../../Color.js\";import{isCachedFontFace as t,loadFont as e}from\"../../../../core/fontUtils.js\";import i from\"../../../../core/Logger.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{ZEROS as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=a(o.color),this.haloStyle=l(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?a(o.background.color):null}fontString(o){const t=this.definition.font,e=\"sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji\";return`${t.style} ${t.weight} ${o}px ${t.family}, ${e}`}setFontProperties(o,t){o.font=this.fontString(t),o.textAlign=\"left\",o.textBaseline=\"alphabetic\"}static async fromSymbol(l,a){const f=l?.material?.color,m=o.toUnitRGBA(f)??n,g=null!=l.size?r(l.size):12,u=l.lineHeight,d=null!=l.background?o.toUnitRGBA(l.background.color):n,h={family:l.font?.family??\"sans-serif\",decoration:l.font?.decoration??\"none\",weight:l.font?.weight??\"normal\",style:l.font?.style??\"normal\"},y=l.halo,b=null!=y?.color&&y.size>0?{size:r(y.size),color:o.toUnitRGBA(y.color)}:{size:0,color:n},p=new s({color:m,size:g,background:{color:d,padding:null!=l.background?[.65*g,.5*g]:[0,0],borderRadius:null!=l.background?g*(6/16):0},lineSpacingFactor:u,font:h,halo:b,pixelRatio:a});if(l.font){let o=!1;const r=p.fontString(g);try{o=(await document.fonts.load(r)).some((o=>!t(o)))}catch(S){i.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${r}'. Some text symbology may be rendered using the default browser font.`)}if(!o&&!c.has(l.font.family))try{await e(l.font)}catch(S){}}return p}}function l(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}function a(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}const c=new Set([\"Arial\",\"Times New Roman\",\"Courier New\",\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]);export{s as TextRenderParameters};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{disposeMaybe as i,removeMaybe as r}from\"../../../../core/maybe.js\";import{generateUID as n}from\"../../../../core/uid.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as o,s as l}from\"../../../../chunks/vec42.js\";import{ZEROS as _,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{textTextureAtlas as d}from\"./testUtils.js\";import{applyTextureResizeModuloCeil as u}from\"./textureUtils.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";import{Yield as p}from\"../../../support/Yield.js\";import{TextureWrapMode as g,TextureSamplingMode as f}from\"../../../webgl/enums.js\";import{Texture as x}from\"../../../webgl/Texture.js\";import{TextureDescriptor as v}from\"../../../webgl/TextureDescriptor.js\";const w=4096;let T=class extends t{constructor(e){super(e),this.id=n(),this.events=new s,this._glTexture=null,this._atlas=new b(256,256),this._needsRepack=!1,this._canRepack=!0,this._elementsToRender=new Map,this._elements=new Map,this._uvCallbacks=new Map,this.updating=!1}initialize(){this._canvas=document.createElement(\"canvas\"),this._canvas.setAttribute(\"id\",\"textAtlasCanvas\"),this._canvas.setAttribute(\"style\",\"display:none\"),this._ctx=this._canvas.getContext(\"2d\"),this._stage=this.view.stage,this._stage.addTexture(this),this._updateCanvasElementSize(this._atlas),this._reset()}unload(){this._glTexture=i(this._glTexture),this._frameWorker=r(this._frameWorker),this.updating=!1,this.events.emit(\"unloaded\")}get loaded(){return null!=this._glTexture}get glTexture(){return this._glTexture}static get maxSize(){return C=d.stableRendering?k:0,[w-k-C,w-k-C-R]}load(e){if(this._glTexture)return this._glTexture;const t=new v;return t.wrapMode=g.CLAMP_TO_EDGE,t.samplingMode=f.LINEAR_MIPMAP_LINEAR,t.hasMipmap=!0,t.preMultiplyAlpha=!0,t.maxAnisotropy=e.parameters.maxMaxAnisotropy,this._glTexture=new x(e,t,this._canvas),this._frameWorker=this.view.resourceController.scheduler.registerTask(m.TEXT_TEXTURE_ATLAS,this),this.setDirty(),this._glTexture}dispose(){this._elements.clear(),this._elementsToRender.clear(),this._frameWorker=r(this._frameWorker),this._glTexture&&(this._stage.removeTexture(this),this._glTexture=i(this._glTexture)),this._canvas.width=0,this._canvas.height=0,this._canvas=null,this._ctx=null}_updateCanvasElementSize(e){this._canvas.width=e.width,this._canvas.height=e.height}_resizeAtlas(e,t){const{width:s,height:i}=this._atlas;s===e&&i===t||(this._atlas.width=e,this._atlas.height=t,this._glTexture?.resize(e,t),this._glTexture?.updateData(0,0,0,s,i,this._canvas),this._updateCanvasElementSize(this._atlas),this._elements.forEach((e=>this._uvCallbacks.get(e.textRenderer.key)?.forEach((t=>t(e.uv))))),this._reset())}_reset(){this._elementsToRender.clear(),this._atlas.reset(),this._needsRepack=!0,this.setDirty()}_addAtlasElement(e,t,s,i){const r=this._atlas;if(r.width<s||r.height<i)return!1;let n=r.cursors.get(i);if(!n){if(r.height<r.nextY+i)return!1;n=[new A(r.nextY)],r.cursors.set(i,n),r.nextY+=i}let h=n.find((e=>r.width>=e.x+s));if(null==h){if(r.height<r.nextY+i)return!1;h=new A(r.nextY),r.nextY+=i,n.push(h)}return e.setNewPosition(h),this._elements.set(t,e),this._elementsToRender.set(t,e),h.x+=s,!0}_ensureCallbacks(e){const t=this._uvCallbacks.get(e);if(t)return t;const s=new Set;return this._uvCallbacks.set(e,s),s}_addCallback(e,t){this._ensureCallbacks(e).add(t)}_removeCallback(e,t){const s=this._uvCallbacks.get(e);return!(!s?.delete(t)||0!==s.size)&&(this._uvCallbacks.delete(e),!0)}_processAddition(e){const t=e.textRenderer.key;if(this._needsRepack)return void this._elements.set(t,e);const s=this._atlas,i=e.textRenderer.renderedWidth,r=e.textRenderer.renderedHeight,n=i+k,h=r+k+R;if(!this._addAtlasElement(e,t,n,h)){if(this._canRepack)this._reset();else if(s.width<n){const e=u(Math.max(n,1.5*s.width),w);this._resizeAtlas(e,s.height)}else{const e=s.nextY+h,t=u(Math.max(e,1.5*s.height),w);if(t>s.height)this._resizeAtlas(s.width,t);else if(s.width<w){const e=u(1.5*s.width,w);this._resizeAtlas(e,s.height)}}this._elements.set(t,e)}}_renderElement(e){const t=e.commitNewPosition(),s=e.textRenderer;this._ctx.clearRect(t[0]-k,t[1]-k,s.renderedWidth+2*k,s.renderedHeight+2*k),s.render(this._ctx,t[0],t[1]),this._uvCallbacks.get(s.key)?.forEach((t=>t(e.uv)))}get running(){return this.updating}runTask(e){if(null==this._glTexture)return p;for(;this._needsRepack&&(this._canRepack||this._atlas.height<w&&this._atlas.height<w);){this._canRepack=this._needsRepack=!1;const t=this._elements;this._elements=new Map,t.forEach((e=>this._processAddition(e))),e.madeProgress()}if(this._elementsToRender.size>0){for(const[t,s]of this._elementsToRender){if(e.done)break;this._renderElement(s),this._elementsToRender.delete(t),e.madeProgress()}this._glTexture.setData(this._canvas)}this.updating=this._elementsToRender.size>0}addText(e,t){const s=e.key;this._addCallback(s,t);let i=this._elements.get(s);return i?o(i.uv,_)||t(i.uv):(i=new y(e),this._processAddition(i),this.setDirty()),{remove:()=>this._removeText(e,t)}}_removeText(e,t){const s=e.key;this._elements.get(s)&&this._removeCallback(s,t)&&(this._elements.delete(s),this._elementsToRender.delete(s),this._canRepack=!0)}setDirty(){this._glTexture&&(this.updating=!0)}get test(){}};e([h({constructOnly:!0})],T.prototype,\"view\",void 0),e([h({type:Boolean})],T.prototype,\"updating\",void 0),T=e([a(\"esri.views.3d.webgl-engine.lib.TextTextureAtlas\")],T);const k=2,R=2;class y{constructor(e){this.textRenderer=e,this._uv=c(),this._newPosition=[0,0]}get uv(){if(null==this._xOffset||null==this._yOffset)return _;const{renderedWidth:e,renderedHeight:t}=this.textRenderer;return l(this._uv,this._xOffset,this._yOffset+t,this._xOffset+e,this._yOffset)}setNewPosition(e){this._newPosition[0]=e.x,this._newPosition[1]=e.y}commitNewPosition(){return this._xOffset=this._newPosition[0],this._yOffset=this._newPosition[1],this._newPosition}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}}class b{constructor(e,t){this.width=e,this.height=t,this.cursors=new Map,this.nextY=0}reset(){this.cursors.clear(),this.nextY=C}}class A{constructor(e){this.y=e,this.x=C}}let C=0;export{T as TextTextureAtlas};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{getTextHelperCanvas as e}from\"./TextHelperCanvas.js\";import{TextRenderer as r}from\"./TextRenderer.js\";import{TextTextureAtlas as t}from\"./TextTextureAtlas.js\";import{Texture as n}from\"./Texture.js\";import{TextureWrapMode as s}from\"../../../webgl/enums.js\";class i{constructor(e,n,s){this._renderer=new r(e,n,s,t.maxSize)}get key(){return this._renderer.key}get baselineAnchorY(){return 1-this._renderer.firstRenderedBaselinePosition/this._renderer.renderedHeight}get displayWidth(){return this._renderer.displayWidth}get displayHeight(){return this._renderer.displayHeight}create(){const r=e(d,this._renderer.renderedWidth,this._renderer.renderedHeight),t=r.getContext(\"2d\");return t.save(),this._renderer.render(t,0,0),t.restore(),new n(r,{wrap:{s:s.CLAMP_TO_EDGE,t:s.CLAMP_TO_EDGE},noUnpackFlip:!1,mipmap:!0,preMultiplyAlpha:!0})}}const d={canvas:null};export{i as default};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{releaseMaybe as t}from\"../../../../core/maybe.js\";import{isPromiseLike as s}from\"../../../../core/promiseUtils.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{fromValues as o,ZEROS as n,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{freeze as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasCalloutSupport as c,textSymbolLayerSupportsVerticalOffset as m}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as f}from\"./ElevationAligners.js\";import{SymbolUpdateType as h,needsElevationUpdates2D as u}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{focusAreaHUDColor as d}from\"./focusAreaStyle.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as y}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as v}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as x}from\"./graphicUtils.js\";import{LabelPlacement as b,LabelParameters as O}from\"./LabelParameters.js\";import{verticalScreenOffsetFromAlignment as w,verticalPlacementFromAlignment as P,textRenderAlignmentFromHorizontalPlacement as j,horizontalPlacementToAnchorX as E,anchorFromPlacements as _,namedAnchorToHUDMaterialAnchorPos as S}from\"./placementUtils.js\";import{placePointOnGeometry as L,updateStageObjectGeometry as G,getLocalOriginForPoint as A,extendPointGraphicElevationContext as C,createStageObject as z}from\"./pointUtils.js\";import{getFontMetrics as U}from\"../../webgl-engine/lib/FontMetrics.js\";import{createPointGeometry as F}from\"../../webgl-engine/lib/GeometryUtil.js\";import{TextRenderParameters as D}from\"../../webgl-engine/lib/TextRenderParameters.js\";import R from\"../../webgl-engine/lib/TextTextureFactory.js\";import{HUDMaterial as T}from\"../../webgl-engine/materials/HUDMaterial.js\";const V=a(0,0,1);class H extends v{constructor(e,t,s,r){super(e,t,s,r),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=x(this.symbolLayer.size);if(t)throw new e(\"graphics3dtextsymbollayer:invalid-size\",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;this._textRenderParameters=await D.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const t=e.graphic,s=L(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const r=this.view.focusAreasView?.containsGeometry(s)??!0,o=this.symbolLayer.text;if(null==o||\"\"===o)return null;const n=c(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(null!=n&&!m(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const{verticalAlignment:i}=this.symbolLayer,a=new b(n);w(i,a.screenOffset);const l=new O(a,this.symbolLayer.horizontalAlignment,P(i));return l.isFocused=r??l.isFocused,this._createAs3DShape(t,s,o,l)}updateFocus(e,t){t.forEach((t=>{const s=L(t.graphic.geometry);if(null==s)return void this.logger.warn(`unsupported geometry type for text symbol: ${t.graphic.geometry.type}`);const r=this.view.focusAreasView?.containsGeometry(s)??!0;t.layers.forEach((s=>{if(s?.graphics3DSymbolLayer===this&&s.stageObject){s.stageObject.geometries.some((e=>e.material.parameters.isFocused!==r))&&e(t)}}))}))}createLabel(e,t,s,r,o){const n=e.graphic,i=L(n.geometry);if(null==i)return this.logger.warn(`unsupported geometry type for label: ${n.geometry.type}`),null;const a=this.view.focusAreasView?.containsGeometry(i)??!0,l=t.text;return!l||/^\\s+$/.test(l)?null:(t.isFocused=a??t.isFocused,this._createAs3DShape(n,i,l,t,s,r,o))}setGraphicElevationContext(e,t=new p,s=0){return super.setGraphicElevationContext(e,t),t.addOffsetRenderUnits(s),t}layerOpacityChanged(){return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"),!1}layerElevationInfoChanged(e,t){return W(e,t,((e,t)=>{this.updateGraphicElevationContext(t,e)})),h.UPDATE}slicePlaneEnabledChanged(e,t){return W(e,t,(e=>{for(const t of e.stageObject.geometries)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return!1}updateGraphicElevationContext(e,t){const{elevationContext:s,metadata:r}=t;this.setGraphicElevationContext(e,s,r?.elevationOffset??0),t.needsElevationUpdates=u(s.mode)||\"absolute-height\"===s.mode}updateGeometry(e,t){if(this.draped||!this._validateGeometry(t))return!1;const{elevationContext:s,stageObject:r}=e;if(s.mode!==this.getGeometryElevationMode(t))return!1;const o=L(t);if(!o)return!1;const n=G(r,this._context,o,s);if(null==n)return!1;const i=A(this._context,o);return r.geometries[0].localOrigin===i&&(e.alignedSampledElevation=n,C(e,o,this._context.elevationProvider),!0)}_defaultElevationInfoNoZ(){return I}_createAs3DShape(e,a,c,m,h,v=null,x=()=>m.placement.elevationOffset){const b=this.setGraphicElevationContext(e,new p,m.placement.elevationOffset),O=\"polyline\"===e.geometry?.type,w=e.uid;let P=null,E=null;if(null==v){const e=j(m.horizontalPlacement);P=new R(c,e,this._textRenderParameters);let r=null;if(null!=this._context.sharedResources.textures){E=this._context.sharedResources.textures.fromData(P.key,(()=>P.create())),E.texture.events.on(\"unloaded\",(()=>r=t(r)));const e=this._context.stage.renderView.textures.acquire(E.texture.id);if(null==e||s(e))return E.release(),null;r=e}}const _=!!has(\"enable-feature:non-occluded-hud\"),S=$(P,m),L={occlusionTest:!_,occludedFragmentFade:_,horizonCullingEnabled:_&&this._context.spherical,screenOffset:m.placement.screenOffset,anchorPosition:S,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:m.placement.centerOffsetUnits,depthEnabled:!1,drawAsLabel:!0,isLabel:!0,isFocused:m.isFocused};if(O&&(L.shaderPolygonOffset=1e-4),v?L.textureId=v.id:E&&(L.textureId=E.texture.id),null!=m.placement.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:s}=m.placement.verticalOffset;L.verticalOffset={screenLength:r(e),minWorldLength:t||0,maxWorldLength:null!=s?s:1/0}}const G=this._context.graphicsCoreOwner.view.focusAreasView?.polygons.length,A={screenOffset:L.screenOffset,anchorPosition:S,centerOffsetUnits:L.centerOffsetUnits,verticalOffset:L.verticalOffset,shaderPolygonOffset:L.shaderPolygonOffset,occlusionTest:L.occlusionTest,isFocused:m.isFocused,focusStyle:this.view.map?.focusAreas.style??\"none\"};if(this._context.screenSizePerspectiveEnabled){const{screenSizePerspectiveSettings:e,screenSizePerspectiveSettingsLabels:t}=this._context.sharedResources,s=U(this._textRenderParameters);L.screenSizePerspective=t.overrideFontHeight(s.maxHeight),L.screenSizePerspectiveAlignment=e,A.fontHeight=s.maxHeight}L.hasSlicePlane=this._context.slicePlaneEnabled;const D=this._context.spherical,H=h?JSON.stringify(A):\"\";let W=h?.get(H);if(null==W){if(!m.isFocused&&G){const e=this.view.map?.focusAreas.style;L.color=d(L.color,e),L.outlineColor=d(L.outlineColor,e)}W=new T(L,D),h?.set(H,W)}const I=m.placement.translation,M=P?o(P.displayWidth,P.displayHeight):n,k=m.placement.centerOffset,N=V,q=v?l(0,0,0,0):null,B=F(W,{normal:N,position:I,size:M,centerOffsetAndDistance:k,uvi:q}),J=z(this._context,a,B,b,w);if(null==J)return null;const Y=(t,s,r,o,n,i)=>{const a=x()||m.placement.elevationOffset,l=this.setGraphicElevationContext(e,s,a);return f(t,l,r,o,n,i)},Z=new g(this,J.object,E,Y,b);Z.alignedSampledElevation=J.sampledElevation,Z.needsElevationUpdates=u(b.mode)||\"absolute-height\"===b.mode,Z.getScreenSize=(e=i())=>(e[0]=P?P.displayWidth:m.displaySize[0],e[1]=P?P.displayHeight:m.displaySize[1],e);const K=new y(m.placement.elevationOffset,c);return Z.metadata=K,C(Z,a,this._context.elevationProvider),Z}}function W(e,t,s){e?.forEach((e=>{const r=t(e);null!=r&&s(r,e.graphic)}))}function $(e,t){if(\"baseline\"===t.verticalPlacement){const s=E[t.horizontalPlacement],r=null!=e?e.baselineAnchorY:0;return o(s,r)}const s=_(t.horizontalPlacement,t.verticalPlacement);return S[s]}const I={mode:\"relative-to-ground\",offset:0};export{H as Graphics3DTextSymbolLayer};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{WaterDistortionPassParameters as e}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{oitPolygonOffset as o,getDrawBuffers as a,depthWrite as i,oitDepthTest as n,blending as d}from\"../lib/OrderIndependentTransparency.js\";import{W as l}from\"../../../../chunks/WaterSurface.glsl.js\";import{makePipelineState as p,defaultColorWrite as c}from\"../../../webgl/renderState.js\";class u extends e{}class h extends s{constructor(r,e){super(r,e,new t(l,(()=>import(\"../shaders/WaterSurface.glsl.js\"))))}initializePipeline(e){const{oitPass:t,output:s,transparent:l,draped:u}=e;return p({blending:s!==r.Normal&&s!==r.Highlight&&s!==r.ObjectAndLayerIdColor&&l?d(t):null,depthTest:u?null:{func:n(t)},depthWrite:i(e),drawBuffers:a(t,s),colorWrite:c,polygonOffset:o(e)})}}export{u as WaterMaterialPassParameters,h as WaterTechnique};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../lib/GLMaterial.js\";import{WaterTechnique as t}from\"./WaterTechnique.js\";class r extends e{ensureResources(e){return this._techniques.context.waterTextures.ensureResources(e)}beginSlot(e){const r=this._techniques.context.waterTextures.passParameters;return this._material.setParameters({wavePerturbation:r.wavePerturbation,waveNormal:r.waveNormal}),this.getTechnique(t,e)}}export{r as WaterGLMaterial};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as r}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{PBRMode as o}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"./DefaultTechniqueConfiguration.js\";class n extends i{constructor(e){super(),this.spherical=e,this.receiveShadows=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.screenSpaceReflections=!1,this.cloudReflections=!1,this.objectAndLayerIdColorInstanced=!1,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=t.None,this.emissionSource=r.None,this.pbrMode=o.Water,this.occlusionPass=!1,this.useCustomDTRExponentForWater=!0,this.highStepCount=!0,this.useFillLights=!1,this.overlayEnabled=!1,this.snowCover=!1}get discardInvisibleFragments(){return this.transparent&&this.writeDepth}}e([s()],n.prototype,\"receiveShadows\",void 0),e([s()],n.prototype,\"transparent\",void 0),e([s()],n.prototype,\"enableOffset\",void 0),e([s()],n.prototype,\"writeDepth\",void 0),e([s()],n.prototype,\"screenSpaceReflections\",void 0),e([s()],n.prototype,\"cloudReflections\",void 0),e([s()],n.prototype,\"objectAndLayerIdColorInstanced\",void 0),e([s()],n.prototype,\"draped\",void 0),e([s()],n.prototype,\"terrainDepthTest\",void 0),e([s()],n.prototype,\"cullAboveTerrain\",void 0);export{n as WaterTechniqueConfiguration};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport\"../../../../core/has.js\";import{secondsFromMilliseconds as t}from\"../../../../core/time.js\";import{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as a,isHighlightOrOID as s,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{MaterialParameters as l}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as m}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as h}from\"./DefaultBufferWriter.js\";import{PositionUvf32OlidLayout as f,PositionUvf32Layout as p}from\"./DefaultLayouts.js\";import{TriangleMaterial as u}from\"./TriangleMaterial.js\";import{WaterGLMaterial as d}from\"./WaterGLMaterial.js\";import{WaterTechniqueConfiguration as g}from\"./WaterTechniqueConfiguration.js\";class _ extends u{constructor(t,e){super(t,v),this.produces=new Map([[c.OPAQUE_MATERIAL,t=>a(t)&&!this.parameters.transparent||s(t)],[c.TRANSPARENT_MATERIAL,t=>a(t)&&this.parameters.transparent||s(t)],[c.DRAPED_MATERIAL,t=>this.parameters.draped&&a(t)||t===o.Normal||s(t)],[c.DRAPED_WATER,t=>t===o.Normal]]),this._configuration=new g(e.spherical)}getConfiguration(t,e){return super.getConfiguration(t,e,this._configuration),this._configuration.writeDepth=!0,this._configuration.receiveShadows=e.shadowMap.enabled,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.screenSpaceReflections=null!=e.ssr.lastFrameColor,this._configuration.cloudReflections=null!=e.clouds.data,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=e.oitPass,this._configuration.enableOffset=e.camera.relativeElevation<m,this._configuration.terrainDepthTest=e.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration}get visible(){return!0}update(e){return this.setParameters({timeElapsed:t(e.time)*this.parameters.animationSpeed},!1),this._animationEnabled(e.camera)&&e.dt>0}_animationEnabled(t){const e=Math.min(t.relativeElevation,t.distance);return Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*e<T}createGLMaterial(t){return new d(t)}createBufferWriter(){return new h(n()?f:p)}get test(){}}class v extends l{constructor(){super(...arguments),this.waveStrength=.06,this.waveTextureRepeat=32,this.waveDirection=e(1,0),this.waveVelocity=.05,this.flowStrength=.015,this.flowOffset=-.5,this.animationSpeed=.35,this.timeElapsed=0,this.color=i(0,0,0,0),this.transparent=!0,this.hasSlicePlane=!1,this.draped=!1,this.origin=r(),this.modelTransformation=null}}const T=35e3;export{v as Parameters,_ as WaterMaterial};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nconst e={\"calm-small\":{waveStrength:.005,perturbationStrength:.02,textureRepeat:12,waveVelocity:.01},\"rippled-small\":{waveStrength:.02,perturbationStrength:.09,textureRepeat:32,waveVelocity:.07},\"slight-small\":{waveStrength:.05,perturbationStrength:.07,textureRepeat:28,waveVelocity:.1},\"moderate-small\":{waveStrength:.075,perturbationStrength:.07,textureRepeat:24,waveVelocity:.1},\"calm-medium\":{waveStrength:.003125,perturbationStrength:.01,textureRepeat:8,waveVelocity:.02},\"rippled-medium\":{waveStrength:.035,perturbationStrength:.015,textureRepeat:12,waveVelocity:.07},\"slight-medium\":{waveStrength:.06,perturbationStrength:.015,textureRepeat:8,waveVelocity:.12},\"moderate-medium\":{waveStrength:.09,perturbationStrength:.03,textureRepeat:4,waveVelocity:.12},\"calm-large\":{waveStrength:.01,perturbationStrength:0,textureRepeat:4,waveVelocity:.05},\"rippled-large\":{waveStrength:.025,perturbationStrength:.01,textureRepeat:8,waveVelocity:.11},\"slight-large\":{waveStrength:.06,perturbationStrength:.02,textureRepeat:3,waveVelocity:.13},\"moderate-large\":{waveStrength:.14,perturbationStrength:.03,textureRepeat:2,waveVelocity:.15}};export{e as wavePresets};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{e as r}from\"../../../../chunks/earcut.js\";import{set as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as i,create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{d as s}from\"../../../../chunks/vec42.js\";import{toRadian as a}from\"../../../../core/libs/gl-matrix-2/math/common.js\";import{fromBuffer as l,create as c,intersectsClippingArea as h,empty as m,expandWithAABB as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as d,create as u,expandPointInPlace as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{newFloatArray as y,floatSubArray as f}from\"../../../../geometry/support/FloatArray.js\";import{perVertexElevationAligner as x}from\"./ElevationAligners.js\";import{SymbolUpdateType as v,elevationModeChangeUpdateType as _,needsElevationUpdates2D as b}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as w}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as C}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as D}from\"./Graphics3DSymbolLayer.js\";import{geometryAsPolygon as j,createWaterGeometry as S,PolygonCreationDataBase as G}from\"./polygonUtils.js\";import{geometryToRenderInfo as E,geometryToRenderInfoDraped as A}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as L}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as O}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Parameters as P,WaterMaterial as T}from\"../../webgl-engine/materials/WaterMaterial.js\";import{wavePresets as R}from\"../../webgl-engine/materials/internal/waterMaterialUtils.js\";const U=[\"polyline\",\"polygon\",\"extent\"];class I extends D{static{this.unitSizeOfTexture=100}static{this.elevationModeChangeTypes={definedChanged:v.RECREATE,staysOnTheGround:v.NONE,onTheGroundChanged:v.RECREATE}}constructor(e,t,r,o){super(e,t,r,o)}async doLoad(){}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,U,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(this._materials[0])return;const t=new P,r=this.symbolLayer.color;null!=r&&(t.color=e.toUnitRGBA(r));const o=this._getCombinedOpacity(r,{hasIntrinsicColor:!0});t.color=[t.color[0],t.color[1],t.color[2],o],t.transparent=o<1||this.needsDrivenTransparentPass,t.waveDirection=null!=this.symbolLayer.waveDirection?B(this.symbolLayer.waveDirection):i(0,0);const n=this.symbolLayer.waveStrength+\"-\"+this.symbolLayer.waterbodySize,s=R[n];t.waveStrength=s.waveStrength,t.waveTextureRepeat=s.textureRepeat,t.waveVelocity=s.waveVelocity,t.flowStrength=s.perturbationStrength,t.hasSlicePlane=this._context.slicePlaneEnabled,t.draped=this.draped,this._materials[0]=new T(t,this._context)}layerOpacityChanged(){if(null==this._materials[0])return;const e=this._materials[0].parameters.color,t=this._getCombinedOpacity(this.symbolLayer.color,{hasIntrinsicColor:!0}),r=t<1||this.needsDrivenTransparentPass;this._materials[0].setParameters({color:[e[0],e[1],e[2],t],transparent:r})}layerElevationInfoChanged(e,t,r){const o=this._elevationContext.mode,i=_(I.elevationModeChangeTypes,r,o);if(i!==v.UPDATE)return i;const n=b(o);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const o=j(e.geometry);if(null==o)return null;const i=E(o,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=i.position.length/3,s=y(2*n);M(s,i.mapPositions,n,this._context.elevationProvider.spatialReference);const a=new N(i,s,this._context.layerViewUid,e.uid);if(a.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(a),this._create3DShapeGeometries(a),this._logGeometryCreationWarnings(a.renderData,o.rings,\"rings\",\"WaterSymbol3DLayer\"),0===a.outGeometries.length)return null;const l=new L({geometries:a.outGeometries,castShadow:!1,layerViewUid:this._context.layerViewUid,graphicUid:r}),c=new C(this,l,null,x,t);return c.alignedSampledElevation=a.renderData.sampledElevation,c.needsElevationUpdates=b(t.mode),c}_create3DShapeGeometries(e){const t=e.renderData.polygons,o=e.uvCoords;for(const{count:i,index:n,position:s,mapPositions:a,holeIndices:c}of t){if(null!=this._context.clippingExtent&&(l(a,k),!h(k,this._context.clippingExtent)))continue;const t=r(a,c,3);if(0===t.length)continue;const m=f(o,2*n,2*i),p=S({material:this._materials[0],indices:t,mapPositions:a,attributeData:{position:s,uv0:m}},e.objectAndLayerIdColor);e.outGeometries.push(p)}}_createAsOverlay(e){const t=j(e.geometry);if(null==t)return null;this._materials[0].renderPriority=this._renderPriority;const r=A(t,this._context.overlaySR),o=r.position.length/3,i=y(2*o);M(i,r.position,o,this._context.overlaySR);const n=new F(r,i,this._context.layerViewUid,e.uid);return n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),n.outBoundingBox=m(),this._createAsOverlayWater(n),this._logGeometryCreationWarnings(n.renderData,t.rings,\"rings\",\"WaterSymbol3DLayer\"),0===n.outGeometries.length?null:new w(this,n.outGeometries,n.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayWater(e){const t=e.uvCoords,o=e.renderData.polygons;for(const{position:i,holeIndices:n,index:s,count:a}of o){if(l(i,k),!h(k,this._context.clippingExtent))continue;p(e.outBoundingBox,k);const o=r(i,n,3);if(0===o.length)continue;const c=f(t,2*s,2*a),m=S({material:this._materials[0],indices:o,attributeData:{position:i,uv0:c}},e.objectAndLayerIdColor);e.outGeometries.push(new O(m,e))}}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}function B(e){const t=n(),r=a(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}function M(e,r,i,n){const a=t(n);d(W);for(let t=0;t<i;t++)o(z,r[3*t],r[3*t+1]),g(W,z);s(W,W,a);const l=W[0]%I.unitSizeOfTexture,c=W[1]%I.unitSizeOfTexture;V[0]=W[0]-l,V[1]=W[1]-c;for(let t=0;t<i;t++)e[2*t]=(r[3*t]*a-V[0])/I.unitSizeOfTexture,e[2*t+1]=(r[3*t+1]*a-V[1])/I.unitSizeOfTexture}const V=n(),W=u(),z=n(),k=c();class N extends G{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}class F extends G{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}export{I as Graphics3DWaterSymbolLayer,B as headingVectorFromAngle};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport r from\"../../../../core/Logger.js\";import{Graphics3DExtrudeSymbolLayer as o}from\"./Graphics3DExtrudeSymbolLayer.js\";import{Graphics3DIconSymbolLayer as e}from\"./Graphics3DIconSymbolLayer.js\";import{Graphics3DLineSymbolLayer as t}from\"./Graphics3DLineSymbolLayer.js\";import{Graphics3DMeshFillSymbolLayer as i}from\"./Graphics3DMeshFillSymbolLayer.js\";import{Graphics3DObjectSymbolLayer as m}from\"./Graphics3DObjectSymbolLayer.js\";import{Graphics3DPathSymbolLayer as a}from\"./Graphics3DPathSymbolLayer.js\";import{Graphics3DPolygonFillSymbolLayer as s}from\"./Graphics3DPolygonFillSymbolLayer.js\";import{Graphics3DTextSymbolLayer as y}from\"./Graphics3DTextSymbolLayer.js\";import{Graphics3DWaterSymbolLayer as p}from\"./Graphics3DWaterSymbolLayer.js\";function c(o,e,t,i){const m=h[o.type]?.[e.type]||l[e.type];return m?new m(o,e,t,i):(r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayerFactory\").error(\"GraphicsLayerFactory#make\",`unknown symbol type ${e.type}`),null)}const l={icon:e,object:m,line:t,path:a,fill:s,extrude:o,text:y,water:p};function n(r,o){l[r]=o}const h={\"mesh-3d\":{fill:i}};export{c as make,n as setSymbolClass};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAImoB,SAASA,IAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAMC,OAAGF,IAAE,SAAO,IAAEA,IAAE,CAAC,IAAED,IAAE,SAAO,KAAG,GAAEI,MAAEC,GAAEL,KAAEG,KAAED,GAAC;AAAE,MAAGE,QAAIE,GAAE,GAAE;AAAC,IAAAN,MAAEA,IAAE,MAAM;AAAE,aAAQO,MAAE,GAAEA,MAAEP,IAAE,QAAOO,OAAG,EAAE,CAAAP,IAAEO,MAAEH,GAAC,IAAEJ,IAAEO,MAAE,CAAC;AAAA,EAAC;AAAC,SAAOP,IAAEA,KAAEC,KAAE,CAAC;AAAC;AAAC,SAASO,IAAED,KAAE;AAAC,QAAMP,MAAE,CAAC,CAACA,IAAE,UAAS,IAAIO,IAAEA,IAAE,cAAc,UAASA,IAAE,SAAQ,GAAE,IAAE,CAAC,CAAC,GAAEN,MAAE,EAAEM,IAAE,QAAQ,MAAM;AAAE,SAAO,QAAMA,IAAE,cAAc,eAAaP,IAAE,KAAK,CAACA,IAAE,uBAAsB,IAAIO,IAAE,CAACA,IAAE,cAAc,YAAY,GAAEN,KAAE,GAAE,IAAE,CAAC,CAAC,IAAEM,IAAE,cAAc,SAAOP,IAAE,KAAK,CAACA,IAAE,OAAM,IAAIO,IAAEA,IAAE,cAAc,OAAMN,KAAE,GAAE,IAAE,CAAC,CAAC,GAAEM,IAAE,cAAc,cAAYP,IAAE,KAAK,CAACA,IAAE,YAAW,IAAIO,IAAEA,IAAE,cAAc,YAAWA,IAAE,SAAQ,GAAE,IAAE,CAAC,CAAC,GAAEA,IAAE,cAAc,gBAAcP,IAAE,KAAK,CAACA,IAAE,cAAa,IAAIO,IAAEA,IAAE,cAAc,cAAaA,IAAE,SAAQ,GAAE,IAAE,CAAC,CAAC,GAAE,IAAIE,GAAEF,IAAE,UAASP,KAAEO,IAAE,cAAaD,IAAE,MAAKC,IAAE,cAAc,qBAAqB;AAAC;AAAC,SAASE,IAAEF,KAAEP,MAAE,MAAK;AAAC,QAAMC,MAAE,CAAC,CAACD,IAAE,UAAS,IAAIO,IAAEA,IAAE,cAAc,UAASA,IAAE,SAAQ,GAAE,IAAE,CAAC,GAAE,CAACP,IAAE,KAAI,IAAIO,IAAEA,IAAE,cAAc,KAAIA,IAAE,SAAQ,GAAE,IAAE,CAAC,CAAC;AAAE,SAAO,IAAIE,GAAEF,IAAE,UAASN,KAAEM,IAAE,cAAaD,IAAE,MAAKN,GAAC;AAAC;AAAC,SAASU,IAAEH,KAAE;AAAC,UAAOA,IAAE,MAAK;AAAA,IAAC,KAAI;AAAS,UAAGA,eAAa,EAAE,QAAO,EAAE,WAAWA,GAAC;AAAE;AAAA,IAAM,KAAI;AAAU,aAAOA;AAAA,EAAC;AAAC,SAAO;AAAI;AAAC,IAAMI,MAAN,MAAO;AAAA,EAAC,YAAYJ,KAAEP,KAAEC,KAAE;AAAC,SAAK,aAAWM,KAAE,KAAK,eAAaP,KAAE,KAAK,aAAWC,KAAE,KAAK,gBAAc,IAAI;AAAA,EAAK;AAAC;;;ACA10C,SAASW,IAAEC,KAAEC,KAAEC,KAAEH,KAAE;AAAC,QAAMI,MAAEC,IAAEJ,IAAE,OAAM,CAAC,CAACA,IAAE,QAAM,oBAAkBD,IAAE,MAAKA,GAAE,aAAYC,IAAE,gBAAgB,GAAEI,MAAEC,GAAEF,IAAE,SAAS,MAAM,GAAEG,MAAEC,IAAEJ,IAAE,UAASH,IAAE,kBAAiB,GAAEI,KAAE,GAAED,IAAE,UAAS,GAAEA,IAAE,SAAS,SAAO,GAAEF,KAAEC,KAAEH,GAAC,GAAES,MAAE,QAAMF;AAAE,SAAO,IAAIG,IAAEN,IAAE,UAASC,KAAEG,IAAEJ,IAAE,UAASA,IAAE,UAASC,GAAC,GAAEM,IAAEP,IAAE,UAASA,IAAE,UAASC,GAAC,GAAEI,KAAEF,GAAC;AAAC;AAAC,SAASH,IAAEE,KAAEJ,KAAE;AAAC,QAAMU,MAAEP,IAAEC,IAAE,OAAM,OAAGN,GAAE,WAAW,GAAEA,MAAEC,GAAEW,IAAE,UAASN,IAAE,kBAAiB,GAAEM,IAAE,UAASV,KAAE,CAAC;AAAE,WAAQD,MAAE,GAAEA,MAAEW,IAAE,SAAS,QAAOX,OAAG,EAAE,CAAAW,IAAE,SAASX,GAAC,IAAEY;AAAE,SAAM,EAAC,UAASD,IAAE,UAAS,UAASJ,IAAEI,IAAE,UAASA,IAAE,QAAQ,GAAE,UAASD,IAAEC,IAAE,UAASA,IAAE,QAAQ,GAAE,mBAAkBZ,IAAC;AAAC;AAAC,SAASW,IAAEV,KAAEK,KAAEQ,MAAE,MAAK;AAAC,SAAOb,IAAE,OAAQ,CAAC,EAAC,OAAMA,IAAC,MAAIA,MAAE,CAAE,EAAE,IAAK,CAAC,EAAC,OAAMA,KAAE,OAAMc,IAAC,MAAI;AAAC,UAAMH,MAAE,IAAEX,KAAEE,MAAE,IAAEY;AAAE,WAAO,QAAMD,MAAE,IAAIP,IAAEN,KAAEc,KAAEV,GAAEC,KAAEM,KAAET,GAAC,GAAEE,GAAES,KAAEF,KAAET,GAAC,CAAC,IAAE,IAAIE,IAAEJ,KAAEc,KAAEV,GAAEC,KAAEM,KAAET,GAAC,CAAC;AAAA,EAAC,CAAE;AAAC;AAAC,SAASK,IAAEP,KAAEK,KAAEQ,MAAE,MAAK;AAAC,QAAMC,MAAE,IAAI;AAAM,aAAS,EAAC,OAAMH,KAAE,OAAMT,KAAE,aAAYH,KAAE,aAAYI,IAAC,KAAIH,KAAE;AAAC,QAAGE,OAAG,EAAE;AAAS,UAAMF,MAAE,IAAEW,KAAED,MAAE,IAAER,KAAEK,MAAER,IAAE,IAAK,CAAAC,QAAGA,MAAEW,GAAE,GAAEP,MAAE,QAAMS,MAAE,IAAIL,IAAEG,KAAET,KAAEE,GAAEC,KAAE,IAAEM,KAAE,IAAET,GAAC,GAAEE,GAAES,KAAEb,KAAEU,GAAC,GAAEH,KAAEJ,GAAC,IAAE,IAAIY,IAAEJ,KAAET,KAAEE,GAAEC,KAAE,IAAEM,KAAE,IAAET,GAAC,GAAEK,KAAEJ,GAAC;AAAE,IAAAW,IAAE,KAAKV,GAAC;AAAA,EAAC;AAAC,SAAOU;AAAC;AAAC,IAAMV,MAAN,MAAO;AAAA,EAAC,YAAYJ,KAAEK,KAAEJ,KAAE;AAAC,SAAK,QAAMD,KAAE,KAAK,QAAMK,KAAE,KAAK,WAASJ;AAAA,EAAC;AAAC;AAAC,IAAMK,MAAN,cAAgBF,IAAC;AAAA,EAAC,YAAYJ,KAAEK,KAAEJ,KAAEY,KAAE;AAAC,UAAMb,KAAEK,KAAEJ,GAAC,GAAE,KAAK,eAAaY;AAAA,EAAC;AAAC;AAAC,IAAML,MAAN,cAAgBF,IAAC;AAAA,EAAC,YAAYN,KAAEK,KAAEJ,KAAEY,KAAEC,KAAEH,KAAE;AAAC,UAAMX,KAAEK,KAAEJ,KAAEY,GAAC,GAAE,KAAK,cAAYC,KAAE,KAAK,cAAYH;AAAA,EAAC;AAAC;AAAC,IAAMI,MAAN,cAAgBX,IAAC;AAAA,EAAC,YAAYJ,KAAEK,KAAEJ,KAAEY,KAAEC,KAAE;AAAC,UAAMd,KAAEK,KAAEJ,GAAC,GAAE,KAAK,cAAYY,KAAE,KAAK,cAAYC;AAAA,EAAC;AAAC;AAAC,IAAML,MAAN,MAAO;AAAA,EAAC,YAAYT,KAAEK,KAAEJ,KAAEY,KAAEC,KAAEH,KAAE;AAAC,SAAK,WAASX,KAAE,KAAK,eAAaK,KAAE,KAAK,WAASJ,KAAE,KAAK,WAASY,KAAE,KAAK,oBAAkBC,KAAE,KAAK,mBAAiBH;AAAA,EAAC;AAAC;;;ACAqvC,IAAMK,MAAG,CAAC,WAAU,QAAQ;AAAE,IAAM,KAAN,cAAiBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,KAAE,GAAGF,GAAC,CAAC,GAAE,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,QAAG,CAAC,KAAK,kBAAkB,MAAK;AAAC,YAAMD,MAAEI,GAAE,KAAK,eAAe,CAAC;AAAE,UAAGJ,IAAE,OAAM,IAAI,EAAE,6CAA4CA,GAAC;AAAA,IAAC;AAAC,UAAMA,MAAE,KAAK,aAAYE,MAAEF,KAAG,UAASG,MAAED,KAAG,OAAMG,MAAE,KAAK,4BAA4BF,GAAC,GAAEG,MAAEC,GAAEF,GAAC,GAAEG,MAAEH,IAAE,CAAC,GAAEI,MAAE,KAAK,4BAA2BC,MAAER,KAAG,UAASS,MAAE,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,MAAG,SAAQL,KAAE,SAAQA,KAAE,SAAQE,KAAE,eAAcC,KAAE,iBAAgB,MAAG,eAAc,KAAK,SAAS,mBAAkB,aAAYT,IAAE,aAAY,kBAAiBU,KAAG,YAAU,GAAE,gBAAeD,GAAE,OAAM,4BAA2B,MAAG,YAAWA,IAAE,WAAU,GAAEG,MAAE,IAAIC,GAAGF,KAAE,KAAK,QAAQ;AAAE,IAAAC,IAAE,cAAc,EAAC,UAASA,IAAE,cAAYX,IAAE,OAAKA,IAAE,KAAI,CAAC;AAAE,UAAMa,MAAE,IAAID,GAAG,EAAC,GAAGF,KAAE,UAASV,IAAE,KAAI,GAAE,KAAK,QAAQ;AAAE,SAAK,WAAWc,IAAG,IAAI,IAAEH,KAAE,KAAK,WAAWG,IAAG,MAAM,IAAED;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,WAAW,SAAO;AAAA,EAAC;AAAA,EAAC,wBAAwBd,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASH,KAAG,KAAK,YAAY,IAAI,EAAE,QAAO;AAAK,UAAMI,MAAE,KAAK,0BAA0BF,IAAE,eAAc,KAAK,4BAA4B,GAAE,GAAG,GAAEG,MAAE,KAAK,2BAA2BF,GAAC;AAAE,WAAO,KAAK,iBAAiBA,KAAED,IAAE,eAAcE,KAAEC,KAAEF,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,aAAa,UAAU,OAAMC,MAAE,KAAK,oBAAoBD,GAAC;AAAE,SAAK,WAAWa,IAAG,IAAI,GAAG,cAAc,EAAC,SAAQZ,IAAC,CAAC,GAAE,KAAK,WAAWY,IAAG,MAAM,GAAG,cAAc,EAAC,SAAQZ,IAAC,CAAC;AAAE,UAAME,MAAE,KAAK,iBAAiB;AAAE,IAAAL,KAAG,QAAS,CAAAA,QAAGC,IAAED,GAAC,GAAG,oBAAoBK,KAAE,KAAK,SAAS,OAAO,CAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BL,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEe,GAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBhB,KAAEC,KAAE;AAAC,WAAO,KAAK,WAAWc,IAAG,IAAI,GAAG,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE,KAAK,WAAWA,IAAG,MAAM,GAAG,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAEf,KAAG,QAAS,CAAAA,QAAG;AAAC,YAAME,MAAED,IAAED,GAAC;AAAE,cAAME,OAAGA,IAAE,yBAAyB,KAAK,SAAS,mBAAkB,KAAK,SAAS,OAAO;AAAA,IAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,UAAMF,MAAE,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE;AAAE,WAAO,KAAK,WAAWe,IAAG,IAAI,GAAG,cAAcf,GAAC,GAAE,KAAK,WAAWe,IAAG,MAAM,GAAG,cAAcf,GAAC,GAAE;AAAA,EAAE;AAAA,EAAC,kBAAkBA,KAAE;AAAC,QAAIC;AAAE,WAAOA,MAAED,IAAE,QAAM,KAAK,kBAAkB,OAAKS,IAAET,IAAE,MAAK,CAAC,KAAG,IAAE,KAAK,eAAe,GAAEC,OAAG,KAAK,SAAS,mBAAmB,cAAaA;AAAA,EAAC;AAAA,EAAC,kBAAkBD,KAAEC,KAAE;AAAC,WAAO,KAAK,yBAAyBA,GAAC,IAAEA,IAAE,iBAAeA,IAAE;AAAA,EAAgB;AAAA,EAAC,MAAM,iBAAiBD,KAAEC,KAAEI,KAAEC,KAAE;AAAC,UAAME,MAAE,KAAK,kBAAkBH,GAAC,IAAE,KAAK,SAAS,mBAAmB,eAAa,EAAEJ,GAAC,GAAE,EAAC,UAASQ,KAAE,QAAOC,IAAC,IAAEV,KAAEW,MAAE,EAAED,GAAC;AAAE,YAAOC,IAAE,KAAGA,IAAE,KAAG,KAAGH,KAAER,IAAE,MAAK;AAAA,MAAC,KAAI,QAAO;AAAC,cAAK,EAAC,OAAMC,KAAE,KAAIE,IAAC,IAAEH,KAAEK,MAAE,EAAEJ,GAAC,GAAEK,MAAE,EAAEH,GAAC;AAAE,eAAOE,IAAE,KAAGA,IAAE,KAAG,KAAGG,KAAEF,IAAE,KAAGA,IAAE,KAAG,KAAGE,KAAE,CAACP,IAAEQ,KAAEE,KAAE,IAAE,GAAEN,KAAEC,GAAC,CAAC;AAAA,MAAC;AAAA,MAAC,KAAI;AAAS,eAAM,CAACN,IAAES,KAAEE,KAAE,IAAE,CAAC,GAAEV,IAAEQ,KAAEC,KAAE,IAAE,GAAEA,KAAEC,GAAC,CAAC;AAAA,MAAE;AAAQ,eAAM,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,WAAO,KAAK,YAAY,QAAM;AAAA,EAAC;AAAA,EAAC,iBAAiBX,KAAEC,KAAEC,KAAEC,KAAEO,KAAE;AAAC,UAAME,MAAEK,IAAEjB,IAAE,QAAQ;AAAE,QAAG,QAAMY,IAAE,QAAO;AAAK,QAAG,MAAIA,IAAE,MAAM,UAAQ,CAACA,IAAE,MAAM,KAAM,CAAAZ,QAAGA,IAAE,SAAO,CAAE,EAAE,QAAO,KAAK,+BAA+BY,IAAE,OAAM,SAAQ,sBAAsB,GAAE;AAAK,UAAME,MAAEA,IAAEF,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBT,GAAC;AAAE,SAAK,6BAA6BW,KAAEF,IAAE,OAAM,SAAQ,sBAAsB;AAAE,UAAMM,MAAED,GAAEL,GAAC;AAAE,QAAG,QAAMM,IAAE,QAAO;AAAK,UAAMF,MAAE,IAAI,SAAMG,MAAE,IAAI,SAAMZ,MAAEA,GAAE,GAAEa,MAAEnB,IAAE,GAAEF,MAAES,GAAE,GAAEa,MAAE,KAAK,SAAS,mBAAmB,gBAAcX,IAAE;AAAO,IAAAW,OAAG,KAAK,SAAS,mBAAmB,kBAAkB,MAAKtB,GAAC,GAAEa,GAAEA,IAAE,kBAAiB,CAACM,IAAE,GAAEA,IAAE,GAAE,CAAC,GAAEE,KAAE,KAAK,SAAS,mBAAmB,gBAAgB;AAAE,UAAME,MAAErB,IAAE;AAAE,IAAAiB,GAAEI,KAAEF,GAAC;AAAE,UAAMG,KAAEtB,IAAE;AAAE,IAAAuB,GAAED,IAAED,GAAC;AAAE,UAAK,EAAC,UAASlB,KAAE,cAAaqB,KAAE,UAASC,GAAC,IAAEZ,KAAEa,KAAE,oBAAI,OAAIC,KAAE,KAAK,WAAWb,IAAG,IAAI;AAAE,eAAUT,OAAKF,KAAE;AAAC,YAAMJ,MAAEM,IAAE;AAAM,UAAG,KAAK,SAAS,mBAAiBM,GAAEN,IAAE,cAAaC,GAAC,GAAE,CAAC,EAAEA,KAAE,KAAK,SAAS,cAAc,GAAG;AAAS,YAAMJ,MAAEF,IAAEK,IAAE,cAAaA,IAAE,aAAY,CAAC;AAAE,UAAG,MAAIH,IAAE,OAAO;AAAS,YAAMK,MAAEL,IAAE,QAAOM,MAAE,IAAET,KAAEW,MAAES,GAAEX,MAAED,GAAC,GAAEI,MAAEQ,GAAEZ,GAAC,GAAEM,MAAEd,GAAE,IAAES,GAAC,GAAES,MAAElB,GAAE,IAAES,GAAC,GAAEQ,MAAEjB,GAAE,IAAES,GAAC,GAAEoB,KAAE7B,GAAES,GAAC;AAAE,SAAGiB,IAAED,KAAEtB,KAAEG,KAAEQ,KAAEG,KAAEC,KAAEW,IAAElB,KAAEC,KAAE,KAAK,kBAAkBX,GAAC,GAAEF,KAAEsB,GAAC,GAAEnB,IAAEY,KAAEA,KAAEQ,GAAC;AAAE,YAAMQ,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWpB,KAAE,cAAa,KAAK,SAAS,aAAY,CAAC,GAAEa,KAAE,IAAI,GAAGT,KAAEG,KAAEN,GAAEO,GAAC,GAAEW,EAAC,GAAEzB,MAAE2B,IAAGH,IAAEjB,KAAEA,IAAE,SAAOC,IAAE,QAAOW,IAAErB,KAAE4B,GAAC,GAAEE,MAAEhC,KAAEiC,KAAEjC,KAAEkC,MAAE,IAAE5B,IAAE,OAAM6B,MAAE,IAAI,GAAGH,KAAEC,IAAEC,KAAE1B,MAAE,CAAC;AAAE,SAAGJ,KAAE+B,KAAEf,GAAC,GAAEO,GAAE,IAAIvB,KAAE+B,GAAC,GAAEnB,IAAE,KAAKZ,KAAE2B,IAAG,KAAK,WAAWhB,IAAG,MAAM,GAAEH,KAAE,GAAEW,IAAErB,KAAE4B,GAAC,CAAC,GAAEX,IAAE,KAAKI,GAAE,OAAO;AAAA,IAAC;AAAC,QAAG,MAAIP,IAAE,OAAO,QAAO;AAAK,UAAMoB,KAAE,IAAIX,GAAE,EAAC,YAAWT,KAAE,cAAa,KAAK,SAAS,cAAa,YAAWN,KAAE,mBAAkB,KAAE,CAAC;AAAE,IAAA0B,GAAE,iBAAehB;AAAE,UAAMiB,KAAE5B,IAAE,KAAK,aAAY,EAAC,SAAQ,KAAK,iBAAiB,EAAC,CAAC,GAAE6B,MAAED,KAAE,IAAIzB,IAAE,KAAK,WAAWG,IAAG,IAAI,GAAEsB,IAAE,KAAK,SAAS,iBAAiB,IAAE,MAAKE,KAAE,IAAIzB,IAAE,MAAKsB,IAAE,MAAM,CAACpC,KAAEC,KAAEC,KAAEC,KAAEE,QAAI,GAAGL,KAAEC,KAAEC,KAAEC,KAAEE,KAAEc,KAAEQ,EAAC,GAAGxB,KAAEmC,GAAC;AAAE,WAAOC,GAAE,0BAAwBzB,IAAE,kBAAiByB,GAAE,wBAAsBvB,IAAEb,IAAE,IAAI,GAAEoC;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMtC,MAAE,KAAK,aAAa,UAAU;AAAM,WAAOS,GAAE,WAAWT,GAAC,KAAGQ;AAAA,EAAC;AAAC;AAAC,SAASsB,IAAG/B,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAE;AAAC,QAAME,MAAE,EAAEP,IAAE,MAAM,GAAEQ,MAAE,CAAC,CAACR,IAAG,UAAS,IAAID,IAAEG,IAAE,WAAUF,KAAE,GAAE,IAAE,CAAC,GAAE,CAACA,IAAG,kBAAiB,IAAID,IAAEG,IAAE,SAAQF,KAAE,GAAE,IAAE,CAAC,GAAE,CAACA,IAAG,OAAM,IAAID,IAAEK,KAAEG,KAAE,GAAE,IAAE,CAAC,CAAC;AAAE,SAAO,IAAIM,GAAEd,KAAES,KAAEN,IAAE,WAAUK,IAAG,MAAKF,KAAEJ,GAAC;AAAC;AAAC,SAAS,GAAGF,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEC,KAAEE,KAAEI,KAAE;AAAC,QAAMF,MAAEd,IAAE,SAAO;AAAE,MAAIiB,MAAE,IAAEhB,IAAE;AAAM,KAAGH,KAAEC,KAAEE,IAAE,OAAMA,IAAE,OAAMD,KAAE,GAAEc,KAAEX,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEQ,KAAEP,KAAEE,KAAEI,GAAC;AAAE,MAAIX,MAAE,GAAEa,MAAE,IAAEjB,IAAE;AAAM,EAAAgB,MAAE;AAAE,QAAMpB,MAAEI,IAAE,YAAY,CAAC;AAAE,KAAGE,KAAEC,KAAEG,KAAED,KAAED,KAAER,KAAEI,IAAE,OAAMiB,KAAEV,KAAES,KAAEP,GAAC,GAAEQ,OAAG,IAAErB,KAAEoB,OAAG,IAAEpB,KAAEQ,OAAGR;AAAE,WAAQkB,MAAE,GAAEA,MAAEd,IAAE,YAAY,QAAO,EAAEc,KAAE;AAAC,UAAMjB,MAAEG,IAAE,YAAYc,GAAC;AAAE,OAAGZ,KAAEC,KAAEG,KAAED,KAAED,KAAEP,KAAEG,IAAE,OAAMiB,KAAEV,KAAES,KAAEP,GAAC,GAAEQ,OAAG,IAAEpB,KAAEmB,OAAG,IAAEnB,KAAEO,OAAGP;AAAA,EAAC;AAAC;AAAC,SAAS,GAAGA,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEC,KAAEE,KAAEI,KAAEF,KAAEI,KAAErB,KAAEkB,KAAE;AAAC,EAAAZ,GAAE,IAAGN,GAAC,GAAEW,QAAI,CAAC,GAAEC,QAAI,CAAC,GAAEC,QAAI,CAAC;AAAE,QAAMS,MAAED,MAAE,IAAE,IAAE;AAAG,MAAIS,KAAE,IAAE3B,KAAE4B,MAAE,GAAEN,MAAE,IAAEM,KAAEU,MAAErC,KAAEsC,MAAE,IAAED;AAAE,WAAQjC,MAAE,GAAEA,MAAEJ,KAAE,EAAEI,KAAE;AAAC,UAAML,MAAEF,IAAE6B,EAAC,GAAE1B,MAAEH,IAAE6B,KAAE,CAAC,GAAExB,MAAEL,IAAE6B,KAAE,CAAC;AAAE,IAAAZ,QAAI,GAAG,CAAC,IAAEf,KAAE,GAAG,CAAC,IAAEC,KAAE,GAAG,CAAC,IAAEE,KAAEoB,GAAE,IAAG,EAAE,IAAGhB,IAAEe,MAAE,CAAC,IAAEtB,KAAEO,IAAEe,MAAE,CAAC,IAAErB,KAAEM,IAAEe,MAAE,CAAC,IAAEnB;AAAE,UAAMC,MAAEL,IAAE4B,KAAE,CAAC,GAAErB,MAAEP,IAAE4B,KAAE,CAAC,GAAEf,MAAEb,IAAE4B,KAAE,CAAC;AAAE,IAAAnB,IAAEc,MAAE,CAAC,IAAElB,KAAEI,IAAEc,MAAE,CAAC,IAAEhB,KAAEE,IAAEc,MAAE,CAAC,IAAEV,KAAEH,IAAEa,MAAE,CAAC,IAAE,CAACH,MAAE,GAAG,CAAC,GAAEV,IAAEa,MAAE,CAAC,IAAE,CAACH,MAAE,GAAG,CAAC,GAAEV,IAAEa,MAAE,CAAC,IAAE,CAACH,MAAE,GAAG,CAAC,GAAET,IAAEkB,GAAC,IAAE,GAAErB,IAAEgC,MAAE,CAAC,IAAEvC,MAAEkB,MAAE,GAAG,CAAC,GAAEX,IAAEgC,MAAE,CAAC,IAAEtC,MAAEiB,MAAE,GAAG,CAAC,GAAEX,IAAEgC,MAAE,CAAC,IAAEpC,MAAEe,MAAE,GAAG,CAAC,GAAEV,IAAE+B,MAAE,CAAC,IAAEnC,KAAEI,IAAE+B,MAAE,CAAC,IAAEjC,KAAEE,IAAE+B,MAAE,CAAC,IAAE3B,KAAEF,IAAE4B,GAAC,IAAEpB,KAAEI,OAAG,GAAEiB,OAAG,GAAEZ,MAAG,GAAEC,OAAG,GAAEU,OAAG;AAAA,EAAC;AAAC,EAAAX,KAAE,IAAEvB,KAAEkB,MAAE,GAAEiB,MAAE,IAAEzB;AAAE,QAAM0B,KAAEtB,MAAE,IAAE,KAAG,IAAGE,MAAEF,MAAE,IAAE,KAAG;AAAG,WAAQD,MAAE,GAAEA,MAAEX,KAAE,EAAEW,IAAE,CAAAD,IAAEM,GAAC,IAAEnB,IAAEwB,KAAEa,GAAE,CAAC,CAAC,GAAExB,IAAEM,MAAE,CAAC,IAAEnB,IAAEwB,KAAEa,GAAE,CAAC,CAAC,GAAExB,IAAEM,MAAE,CAAC,IAAEnB,IAAEwB,KAAEa,GAAE,CAAC,CAAC,GAAE5B,IAAE2B,GAAC,IAAEpC,IAAEwB,KAAEP,IAAE,CAAC,CAAC,IAAEnB,KAAEW,IAAE2B,MAAE,CAAC,IAAEpC,IAAEwB,KAAEP,IAAE,CAAC,CAAC,IAAEnB,KAAEW,IAAE2B,MAAE,CAAC,IAAEpC,IAAEwB,KAAEP,IAAE,CAAC,CAAC,IAAEnB,KAAEqB,OAAG,GAAEiB,OAAG,GAAEZ,MAAG;AAAC;AAAC,SAASc,IAAG3C,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEE,KAAE;AAAC,EAAAL,IAAEG,GAAC,IAAEH,IAAEK,GAAC,GAAEA,OAAG,GAAER,IAAEM,OAAG,CAAC,IAAEN,IAAEQ,GAAC,GAAER,IAAEM,MAAE,CAAC,IAAEN,IAAEQ,MAAE,CAAC,GAAER,IAAEM,MAAE,CAAC,IAAEN,IAAEQ,MAAE,CAAC,GAAEP,IAAEK,GAAC,IAAEL,IAAEO,GAAC,GAAEP,IAAEK,MAAE,CAAC,IAAEL,IAAEO,MAAE,CAAC,GAAEP,IAAEK,MAAE,CAAC,IAAEL,IAAEO,MAAE,CAAC,GAAEN,IAAEI,GAAC,IAAED,IAAE,CAAC,GAAEH,IAAEI,MAAE,CAAC,IAAED,IAAE,CAAC,GAAEH,IAAEI,MAAE,CAAC,IAAED,IAAE,CAAC;AAAC;AAAC,IAAM,KAAGG,GAAE;AAAE,SAAS,GAAGR,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,EAAAX,QAAI,CAAC,GAAEC,QAAI,CAAC,GAAEC,QAAI,CAAC;AAAE,MAAIW,MAAET,KAAEa,MAAEb,MAAE,GAAEW,MAAEX,MAAEG,KAAEW,MAAEd,MAAEG,MAAE,GAAED,MAAEE,KAAEW,MAAEX,MAAE,GAAEV,MAAEU,MAAE,IAAEH,KAAEW,MAAER,MAAE,IAAEH,MAAE;AAAE,EAAAM,MAAE,MAAIE,MAAET,MAAEG,MAAE,GAAEW,MAAEd;AAAG,MAAIgB,MAAE,IAAEV;AAAE,WAAQkB,KAAE,GAAEA,KAAEvB,KAAE,EAAEuB,GAAE,CAAAA,OAAIvB,MAAE,MAAIY,MAAEb,KAAEO,MAAE,IAAEO,MAAEd,MAAEG,MAAEM,MAAET,MAAEG,MAAG,GAAGR,KAAEc,KAAEI,KAAEF,KAAE,EAAE,GAAE2B,IAAG3C,KAAEC,KAAEE,KAAED,KAAE,IAAGK,KAAEO,GAAC,GAAE6B,IAAG3C,KAAEC,KAAEE,KAAED,KAAE,IAAGkB,KAAEF,GAAC,GAAEyB,IAAG3C,KAAEC,KAAEE,KAAED,KAAE,IAAGH,KAAEiB,GAAC,GAAE2B,IAAG3C,KAAEC,KAAEE,KAAED,KAAE,IAAGe,KAAEE,GAAC,GAAET,IAAEW,GAAC,IAAEd,KAAEG,IAAEW,MAAE,CAAC,IAAEtB,KAAEW,IAAEW,MAAE,CAAC,IAAEJ,KAAEP,IAAEW,MAAE,CAAC,IAAEd,KAAEG,IAAEW,MAAE,CAAC,IAAEJ,KAAEP,IAAEW,MAAE,CAAC,IAAED,KAAEC,OAAG,GAAEP,OAAII,OAAIF,OAAIG,OAAIZ,OAAG,GAAEa,OAAG,GAAErB,OAAG,GAAEkB,OAAG;AAAC;AAAC,IAAM,KAAGT,GAAE;AAAX,IAAa,KAAGA,GAAE;AAAlB,IAAoB,KAAGA,GAAE;AAAzB,IAA2B,KAAGA,GAAE;AAAhC,IAAkC,KAAGA,GAAE;AAAE,SAAS,GAAGR,KAAEC,KAAEC,KAAEC,KAAEE,KAAE;AAAC,EAAAJ,OAAG,GAAEC,OAAG,GAAEC,OAAG,GAAEA,GAAE,IAAGH,IAAEC,KAAG,GAAED,IAAEC,KAAG,GAAED,IAAEC,KAAG,CAAC,GAAEE,GAAE,IAAGH,IAAEE,KAAG,GAAEF,IAAEE,KAAG,GAAEF,IAAEE,KAAG,CAAC,GAAEC,GAAE,IAAGH,IAAEG,KAAG,GAAEH,IAAEG,KAAG,GAAEH,IAAEG,KAAG,CAAC,GAAEQ,GAAE,IAAG,IAAG,EAAE,GAAEA,GAAE,IAAG,IAAG,EAAE,GAAEU,GAAEhB,KAAE,IAAG,EAAE,GAAEoB,GAAEpB,KAAEA,GAAC;AAAC;AAAC,IAAM,KAAGG,GAAE;AAAE,SAAS,GAAGR,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEE,KAAE;AAAC,QAAMC,MAAET,IAAE,aAAYkB,MAAET,IAAE,YAAWO,MAAEE,IAAE,QAAOC,MAAE,sBAAoBlB,IAAE;AAAK,MAAIM,MAAE;AAAE,QAAMa,MAAEX,IAAE,gBAAeV,MAAEE,GAAEA,IAAE,GAAEmB,GAAC;AAAE,WAAQV,MAAE,GAAEA,MAAEM,KAAEN,OAAG,GAAE;AAAC,UAAMV,MAAEkB,IAAER,GAAC;AAAE,QAAG,CAACT,IAAED,GAAC,EAAE;AAAS,UAAMC,MAAED,IAAE,oBAAoBC,IAAG,QAAQ,EAAE,MAAKU,MAAEL,IAAEI,MAAE,CAAC,GAAEM,MAAE,IAAId,IAAEF,IAAE,YAAY,GAAEiB,MAAEhB,IAAE,SAAO;AAAE,QAAIoB,MAAE,OAAGQ,KAAE;AAAE;AAAC,UAAI7B,MAAE;AAAE,eAAQM,MAAE,GAAEA,MAAEW,KAAEX,OAAI;AAAC,WAAG,CAAC,IAAEL,IAAED,GAAC,GAAE,GAAG,CAAC,IAAEC,IAAED,MAAE,CAAC,GAAE,GAAG,CAAC,IAAEC,IAAED,MAAE,CAAC,GAAEG,IAAEa,KAAE,EAAE,GAAEG,QAAIU,MAAG,GAAG,mBAAkB7B,IAAE,+BAA6BG,GAAE,IAAGa,IAAE,MAAMA,IAAE,MAAM,GAAEA,IAAE,MAAMA,IAAE,SAAO,CAAC,GAAE,GAAG,IAAEL,IAAEX,MAAE,CAAC,CAAC,GAAE,QAAME,OAAGG,IAAE,eAAe,IAAGH,KAAE,EAAE,GAAE0C,GAAE,IAAG,IAAG7C,GAAC,MAAII,GAAE,IAAGF,IAAED,GAAC,GAAEC,IAAED,MAAE,CAAC,GAAEC,IAAED,MAAE,CAAC,CAAC,GAAE4C,GAAE,IAAG,IAAGxB,GAAC,GAAEf,IAAE,YAAY,IAAG,GAAG,IAAEM,IAAEX,MAAE,CAAC,CAAC,GAAE4C,GAAE,IAAG,IAAG7C,GAAC,IAAGE,IAAED,GAAC,IAAE,GAAG,CAAC,GAAEC,IAAED,MAAE,CAAC,IAAE,GAAG,CAAC,GAAEC,IAAED,MAAE,CAAC,IAAE,GAAG,CAAC;AAAE,cAAMM,MAAE,KAAGD,IAAE;AAAa,SAAC,KAAK,IAAI,GAAG,CAAC,IAAEJ,IAAED,GAAC,CAAC,KAAGM,OAAG,KAAK,IAAI,GAAG,CAAC,IAAEL,IAAED,MAAE,CAAC,CAAC,KAAGM,OAAG,KAAK,IAAI,GAAG,CAAC,IAAEL,IAAED,MAAE,CAAC,CAAC,KAAGM,SAAKe,MAAE,OAAIL,IAAE,UAAQ,GAAEhB,OAAG;AAAA,MAAC;AAAA,IAAC;AAAC,QAAGqB,KAAE;AAAC,YAAMpB,MAAEO,IAAE,IAAIR,GAAC;AAAE,MAAAC,OAAG,GAAGD,KAAEC,KAAEmB,GAAC,GAAEX,IAAE,+BAA+BS,IAAER,GAAC,GAAET,IAAG,gBAAgB,GAAED,IAAE,uBAAuB,GAAES,IAAE,+BAA+BS,IAAER,GAAC,GAAET,IAAG,QAAQ,GAAEiB,IAAER,MAAE,CAAC,EAAE,uBAAuB,GAAED,IAAE,+BAA+BS,IAAER,MAAE,CAAC,GAAET,IAAG,QAAQ;AAAA,IAAC;AAAC,IAAAM,OAAGsB,KAAEZ;AAAA,EAAC;AAAC,SAAOV,MAAES;AAAC;AAAC,SAAS,GAAGhB,KAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAEH,IAAE,oBAAoBC,IAAG,QAAQ,GAAEI,MAAEL,IAAE,oBAAoBC,IAAG,gBAAgB,EAAE,MAAK,EAAC,gBAAeK,KAAE,gBAAeE,KAAE,cAAaC,KAAE,cAAaC,IAAC,IAAET,KAAEU,MAAER,IAAE,MAAKI,MAAEC,KAAEY,MAAEpB,IAAE,WAAW,IAAIC,IAAG,QAAQ,EAAE,SAAQF,MAAEU,MAAEC,KAAEO,MAAEX,MAAEE,KAAEa,MAAErB,GAAE,IAAEO,GAAC;AAAE,WAAQK,MAAE,GAAEA,MAAEL,KAAE,EAAEK,KAAE;AAAC,UAAMZ,MAAE,IAAEY;AAAE,IAAAS,IAAErB,MAAE,CAAC,IAAE,GAAEqB,IAAErB,MAAE,CAAC,IAAE,GAAEqB,IAAErB,MAAE,CAAC,IAAE;AAAA,EAAC;AAAC,QAAM6B,KAAE,IAAGC,MAAE,IAAGN,MAAE,IAAGgB,MAAE,IAAGE,KAAE;AAAG,WAAQD,MAAEhC,KAAEgC,MAAE1C,KAAE,EAAE0C,KAAE;AAAC,UAAMzC,MAAE,IAAEyC;AAAE,aAAQxC,MAAE,GAAEA,MAAE,GAAE,EAAEA,KAAE;AAAC,YAAME,MAAEiB,IAAEpB,MAAEC,GAAC;AAAE,MAAAuC,IAAEvC,GAAC,IAAEE;AAAE,YAAME,MAAE,IAAEF;AAAE,MAAAA,GAAE,IAAGQ,IAAEN,MAAE,CAAC,GAAEM,IAAEN,MAAE,CAAC,GAAEM,IAAEN,MAAE,CAAC,CAAC,GAAEuC,GAAEf,GAAE5B,GAAC,GAAE,IAAGC,GAAC;AAAA,IAAC;AAAC,MAAE4B,KAAED,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAE,EAAEL,KAAEK,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAER,GAAEqB,IAAEZ,KAAEN,GAAC,GAAEC,GAAEiB,IAAEA,EAAC;AAAE,aAAQzC,MAAE,GAAEA,MAAE,GAAE,EAAEA,KAAE;AAAC,YAAMD,MAAE,KAAGwC,IAAEvC,GAAC,IAAEK;AAAG,MAAAe,IAAErB,MAAE,CAAC,KAAG0C,GAAE,CAAC,GAAErB,IAAErB,MAAE,CAAC,KAAG0C,GAAE,CAAC,GAAErB,IAAErB,MAAE,CAAC,KAAG0C,GAAE,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,WAAQ9B,MAAEN,KAAEM,MAAEK,KAAE,EAAEL,KAAE;AAAC,UAAMZ,MAAE,KAAGY,MAAEN,MAAGL,MAAEoB,IAAErB,MAAE,CAAC,GAAEE,MAAEmB,IAAErB,MAAE,CAAC,GAAEG,MAAEkB,IAAErB,MAAE,CAAC,GAAEQ,MAAE,KAAK,KAAKP,MAAEA,MAAEC,MAAEA,MAAEC,MAAEA,GAAC;AAAE,IAAAF,IAAEI,KAAEO,KAAEX,MAAEO,KAAEN,MAAEM,KAAEL,MAAEK,GAAC;AAAA,EAAC;AAAC;AAAC,SAAS,GAAGR,KAAE;AAAC,SAAO,OAAKA,IAAE,UAAU,OAAO,KAAG;AAAE;AAAC,IAAM,KAAGQ,GAAE;AAAX,IAAa,KAAGA,GAAE;AAAlB,IAAoB,KAAG,IAAI0B;AAA3B,IAA6B,KAAG,CAAC,GAAE,GAAE,CAAC;AAAtC,IAAwC,KAAG,CAAC,GAAE,GAAE,CAAC;AAAjD,IAAmD,KAAG;AAAtD,IAA0D,KAAG,CAAC1B,GAAE,GAAEA,GAAE,GAAEA,GAAE,CAAC;AAAzE,IAA2E,KAAGA,GAAE;AAAhF,IAAkF,KAAGA,GAAE;AAAvF,IAAyF,KAAG,CAAC,GAAE,GAAE,CAAC;AAAE,IAAIO;AAAG,CAAC,SAASf,KAAE;AAAC,EAAAA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE;AAAQ,EAAEe,QAAKA,MAAG,CAAC,EAAE;AAAE,IAAM,KAAN,MAAQ;AAAA,EAAC,YAAYf,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,YAAUH,KAAE,KAAK,YAAUC,KAAE,KAAK,UAAQC,KAAE,KAAK,UAAQC;AAAA,EAAC;AAAC;AAAC,IAAM,KAAN,MAAQ;AAAA,EAAC,YAAYH,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,iBAAeH,KAAE,KAAK,iBAAeC,KAAE,KAAK,eAAaC,KAAE,KAAK,eAAaC;AAAA,EAAC;AAAC;;;ACAh7X,IAAM0C,MAAE;AAAR,IAAYC,MAAE;AAAI,SAASC,IAAEA,KAAEC,KAAE;AAAC,MAAGD,IAAE,SAAOC,KAAE;AAAA,IAAC,KAAI,UAAS;AAAC,YAAMH,OAAGE,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,KAAG;AAAE,aAAM,CAACF,MAAEC,OAAG,IAAEA,MAAGD,MAAEC,OAAG,IAAEA,MAAGD,MAAEC,OAAG,IAAEA,MAAGC,IAAE,CAAC,IAAED,GAAC;AAAA,IAAC;AAAA,IAAC,KAAI;AAAO,aAAM,CAACC,IAAE,CAAC,IAAEF,KAAEE,IAAE,CAAC,IAAEF,KAAEE,IAAE,CAAC,IAAEF,KAAEE,IAAE,CAAC,IAAEF,GAAC;AAAA,EAAC;AAAC;;;ACA8X,IAAMI,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,wBAAsBH,KAAE,KAAK,mBAAiBC,KAAE,KAAK,cAAYC,KAAE,KAAK,uBAAqBC,KAAE,KAAK,OAAK,UAAS,KAAK,WAAS,OAAG,KAAK,gBAAc,OAAG,KAAK,oBAAkB;AAAA,EAAE;AAAA,EAAC,WAAWH,KAAE;AAAC,SAAK,QAAMA,IAAE;AAAA,EAAK;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,sBAAsB;AAAA,EAAU;AAAA,EAAC,cAAcA,KAAE;AAAC,QAAG,QAAM,KAAK,SAAO,KAAK,aAAWA,KAAE;AAAC,UAAG,KAAK,WAASA,KAAEA,OAAG,CAAC,KAAK,cAAc,QAAO,KAAK,gBAAc,MAAG,KAAK,KAAK,qBAAqB,cAAc,KAAK,kBAAiBI,IAAE,GAAG;AAAE,UAAGJ,OAAG,KAAK,eAAc;AAAC,mBAAUA,OAAK,KAAK,iBAAiB,CAAAA,IAAE,UAAQ,KAAK;AAAS,aAAK,qBAAqB,iBAAiB,KAAK,kBAAiBK,GAAE,UAAU;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,SAAO,KAAK,iBAAe,KAAK,qBAAqB,iBAAiB,KAAK,kBAAiBD,IAAE,MAAM,GAAE,KAAK,gBAAc,OAAG,KAAK,WAAS,OAAG,KAAK,QAAM;AAAA,EAAI;AAAA,EAAC,qBAAqBF,MAAEI,GAAE,GAAE;AAAC,WAAOC,GAAEL,KAAE,GAAE,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BF,MAAEQ,GAAE,GAAE;AAAC,WAAO,EAAER,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,IAAAA,IAAE,cAAYC,GAAE,cAAY,KAAK,iBAAiB,QAAS,CAAAA,QAAG;AAAC,YAAMC,MAAED,IAAE,SAAS,uBAAuBD,IAAE,aAAa;AAAE,MAAAA,IAAE,kBAAkBC,KAAEC,KAAE,IAAI;AAAA,IAAC,CAAE,GAAE,KAAK,iBAAe,KAAK,qBAAqB,iBAAiB,KAAK,kBAAiBG,GAAE,SAAS;AAAA,EAAE;AAAA,EAAC,kBAAkBL,KAAE;AAAC,SAAK,iBAAiB,QAAS,CAAAC,QAAGD,IAAE,eAAeC,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAE;AAAA,EAAC;AAAA,EAAC,gCAAgCA,KAAEC,KAAE;AAAC,IAAAA,IAAE,YAAUA,GAAE,cAAYD,IAAE,SAAS,gBAAgBC,GAAC,GAAE,KAAK,iBAAe,KAAK,qBAAqB,iBAAiB,CAACD,GAAC,GAAEK,GAAE,SAAS;AAAA,EAAE;AAAA,EAAC,wBAAwBL,KAAE;AAAC,eAAUC,OAAK,KAAK,iBAAiB,CAAAA,IAAE,SAAS,wBAAwBQ,EAAC,MAAIT,IAAE,OAAO,OAAO,CAAC,KAAGS,GAAE,CAAC,GAAET,IAAE,OAAO,OAAO,CAAC,KAAGS,GAAE,CAAC,GAAET,IAAE,OAAO;AAAA,EAAM;AAAA,EAAC,MAAM,wBAAwBA,KAAEC,KAAEC,KAAEQ,KAAEJ,KAAE;AAAC,MAAEA,GAAC;AAAE,aAAQH,MAAE,GAAEA,MAAE,KAAK,iBAAiB,QAAOA,OAAI;AAAC,YAAMF,MAAE,KAAK,iBAAiBE,GAAC;AAAE,WAAK,wCAAwCF,KAAED,KAAEQ,KAAEN,GAAC,GAAE,EAAEI,KAAEE,GAAC;AAAA,IAAC;AAAC,QAAGP,KAAE;AAAC,UAAID;AAAE,MAAAW,GAAEL,KAAEG,EAAC;AAAE,YAAMP,MAAEE,GAAEE,KAAEL,IAAE,QAAQ,kBAAiBA,GAAC;AAAE,UAAG;AAAC,QAAAD,MAAE,MAAMC,IAAE,QAAQ,eAAeQ,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEC,KAAER,KAAE,QAAQ;AAAA,MAAC,SAAOU,KAAE;AAAA,MAAC;AAAC,cAAMZ,QAAIM,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEN,GAAC,GAAEM,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEN,GAAC;AAAA,IAAE;AAAC,WAAOM;AAAA,EAAC;AAAA,EAAC,wCAAwCN,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAG,KAAK,YAAY,GAAEU,KAAE,KAAK,WAAW;AAAA,SAAM;AAAC,YAAMZ,MAAED,IAAE,gBAAeE,MAAED,IAAE,CAAC;AAAE,MAAAY,IAAE,CAAC,IAAEZ,IAAE,CAAC,IAAEC,KAAEW,IAAE,CAAC,IAAEZ,IAAE,CAAC,IAAEC,KAAEW,IAAE,CAAC,IAAEZ,IAAE,CAAC,IAAEC,KAAEW,IAAE,CAAC,IAAEZ,IAAE,CAAC,IAAEC,KAAEW,IAAE,CAAC,IAAEZ,IAAE,CAAC,IAAEC,KAAEW,IAAE,CAAC,IAAEZ,IAAE,CAAC,IAAEC;AAAA,IAAC;AAAC,WAAOD,IAAEY,KAAE,GAAE,CAAC,GAAE,KAAK,iCAA+BV,IAAE,KAAK,EAAC,UAASQ,GAAEE,GAAC,GAAE,yBAAwB,KAAK,8BAA8B,EAAC,CAAC,GAAE,EAAEA,KAAEX,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMM,MAAEA,GAAE;AAAV,IAAYK,MAAEL,GAAE;AAAhB,IAAkBC,KAAEH,GAAE;;;ACAqT,IAAM,KAAGQ,GAAE,GAAE,GAAE,CAAC;AAAhB,IAAkB,KAAG;AAArB,IAAwB,KAAG;AAA3B,IAA+B,KAAG,CAACC,MAAGC,KAAGD,MAAGC,GAAE;AAAE,IAAM,MAAN,MAAM,YAAWC,GAAC;AAAA,EAA+B,gBAAe;AAAC,WAAM,EAAC,MAAK,KAAK,aAAa,EAAC;AAAA,EAAC;AAAA,EAAsH,YAAYC,KAAEC,KAAEL,KAAEM,KAAE;AAAC,UAAMF,KAAEC,KAAEL,KAAEM,KAAE,GAAGD,GAAC,CAAC,GAAE,KAAK,WAAS,MAAK,KAAK,uBAAqB,MAAK,KAAK,cAAY,MAAK,KAAK,sBAAoB,oBAAI,OAAI,KAAK,qBAAmB,oBAAI,OAAI,KAAK,6BAA2B,MAAK,KAAK,4BAA0B,MAAK,KAAK,QAAM,MAAK,KAAK,sBAAoB,GAAE,KAAK,eAAa,GAAE,KAAK,iBAAe,MAAK,KAAK,aAAW,MAAK,KAAK,oBAAkB,EAAC,0BAAyB,MAAG,qBAAoB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,OAAOD,KAAE;AAAC,SAAK,iBAAiB;AAAE,UAAMC,MAAE,KAAK,2BAA2B,GAAEL,MAAE,KAAK,cAAc;AAAE,QAAG,QAAMA,IAAE,MAAK,2BAA2BK,KAAEL,GAAC;AAAA,SAAM;AAAC,YAAMA,MAAEO,GAAE,KAAK,WAAW,GAAED,MAAE,GAAGN,GAAC;AAAE,cAAMM,MAAE,MAAM,KAAK,qBAAqBD,KAAE,KAAK,MAAMC,GAAC,GAAEF,GAAC,IAAE,MAAM,KAAK,sBAAsBC,KAAEL,KAAEI,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,QAAG,KAAK,kBAAkB,KAAK;AAAO,UAAMA,MAAEI,GAAE,KAAK,aAAa,CAAC;AAAE,QAAGJ,IAAE,OAAM,IAAI,EAAE,0CAAyCA,GAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,UAAMA,MAAE,KAAK,aAAYC,MAAE,KAAK,MAAM,QAAMD,IAAE,OAAKK,GAAEL,IAAE,IAAI,IAAE,EAAE;AAAE,WAAO,KAAK,kBAAkB,OAAK,KAAK,IAAIC,KAAE,EAAE,IAAEA;AAAA,EAAC;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,UAAML,MAAE,KAAK;AAAqB,QAAIM,MAAE,KAAK;AAAS,QAAGN,OAAGM,OAAGA,IAAE,UAAQ,KAAK,OAAO,MAAM,6CAA6C,GAAEA,IAAE,oBAAmB;AAAC,MAAAA,MAAE,EAAEA,GAAC;AAAE,YAAMJ,MAAEI,IAAE;AAAmB,MAAAN,IAAE,kBAAkBE,KAAEE,KAAE,KAAK,YAAY,cAAa,MAAK,MAAKC,IAAE,MAAM,WAAW,GAAEL,IAAE,eAAeM,IAAE,QAAOJ,GAAC;AAAA,IAAC;AAAC,UAAMA,MAAE,EAAE,KAAK,UAAUI,GAAC,CAAC;AAAE,QAAIL,MAAE,KAAK,mBAAmB,IAAIC,GAAC;AAAE,QAAGD,IAAE,QAAOA;AAAE,UAAMS,MAAE,KAAK,SAAS,gBAAgB,qBAAoBC,MAAE,KAAK,SAAS,YAAU,iBAAe,KAAK,SAAS,SAAS,OAAK,KAAK,SAAS,SAAS,WAAS;AAAK,IAAAA,OAAGX,IAAE,6BAA6BM,IAAE,QAAOF,KAAEO,KAAE,IAAI;AAAE,UAAMC,MAAE,QAAM,KAAK,4BAA0BF,GAAE,KAAK,2BAA0BN,GAAC,IAAE;AAAE,UAAIQ,OAAGN,IAAE,UAAQO,GAAEP,IAAE,QAAOM,KAAE,IAAE;AAAE,UAAME,MAAEC,IAAE,YAAYT,KAAE,MAAKI,IAAE,eAAe;AAAE,QAAGI,KAAG,SAAOA,IAAE,QAAO;AAAC,YAAMV,MAAEU,IAAE,IAAEA,IAAE,QAAM,GAAET,MAAES,IAAE,IAAEA,IAAE,SAAO,GAAEd,MAAEU,IAAE,UAAU,EAAC,MAAK,OAAM,MAAKJ,IAAC,GAAEQ,IAAE,OAAMA,IAAE,QAAOV,KAAEC,KAAE,GAAE,qBAAoB,GAAE,MAAK,KAAK,SAAS,kBAAkB,KAAK,MAAM,gBAAgB,GAAEW,MAAE,IAAIC,GAAE,EAAC,GAAE,CAACH,IAAE,IAAEA,IAAE,QAAM,KAAG,IAAGA,IAAE,SAAOA,IAAE,KAAGA,IAAE,SAAO,IAAE,CAAC;AAAE,WAAK,2BAA2B,iBAAe,GAAG,YAAWE,GAAC,GAAEf,MAAE,IAAIiB,GAAGlB,KAAE,EAAC,OAAMA,KAAG,SAAO,GAAE,QAAOA,KAAG,UAAQ,GAAE,YAAW,KAAE,CAAC;AAAA,IAAC,MAAM,CAAAC,MAAE,IAAIiB,GAAG,IAAI,UAAU,GAAE,CAAC,GAAE,EAAC,OAAM,GAAE,QAAO,GAAE,YAAW,KAAE,CAAC;AAAE,WAAO,KAAK,mBAAmB,IAAIhB,KAAED,GAAC,GAAE,KAAK,SAAS,MAAM,WAAWA,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,6BAA4B;AAAC,UAAMG,MAAE,EAAC,gBAAe,GAAG,KAAK,YAAY,QAAO,KAAK,YAAY,cAAc,GAAE,UAAS,KAAK,YAAY,MAAK,GAAEC,MAAE,KAAK;AAAO,QAAG,GAAGA,GAAC,GAAE;AAAC,YAAK,EAAC,cAAaL,KAAE,gBAAeM,KAAE,gBAAeU,IAAC,IAAEX,IAAE;AAAe,MAAAD,IAAE,iBAAe,EAAC,cAAaK,GAAET,GAAC,GAAE,gBAAeM,OAAG,GAAE,gBAAe,QAAMU,MAAEA,MAAE,IAAE,EAAC;AAAA,IAAC;AAAC,SAAK,SAAS,iCAA+BZ,IAAE,wBAAsB,KAAK,SAAS,gBAAgB,iCAAgC,MAAIA,IAAE,YAAU,KAAK,kBAAkB,cAAYA,IAAE,cAAY;AAAI,UAAMJ,MAAE,CAAC,CAAC,IAAI,iCAAiC;AAAE,WAAOI,IAAE,gBAAc,CAACJ,KAAEI,IAAE,uBAAqBJ,KAAEI,IAAE,wBAAsBJ,OAAG,KAAK,SAAS,WAAUI,IAAE,gBAAc,KAAK,SAAS,mBAAkBA;AAAA,EAAC;AAAA,EAAC,2BAA2BA,KAAEC,KAAE;AAAC,UAAML,MAAE,KAAK,gBAAgB;AAAE,QAAG,GAAGK,GAAC,KAAG,MAAIL,IAAE,OAAM,IAAI,MAAM,mBAAmB;AAAE,QAAG,KAAK,eAAaA,KAAEI,IAAE,QAAM,KAAK,cAAc,GAAEA,IAAE,eAAa,KAAK,iBAAiB,GAAEA,IAAE,cAAY,KAAK,cAAa,QAAM,KAAK,SAAS,gBAAgB,UAAS;AAAC,YAAMJ,MAAE,KAAK,SAAS,gBAAgB,SAAS,SAAS,GAAGK,GAAC,SAAS,MAAII,IAAEJ,GAAC,CAAE;AAAE,WAAK,iBAAeL,KAAEI,IAAE,YAAUJ,IAAE,QAAQ;AAAA,IAAE;AAAC,IAAAI,IAAE,+BAA6B,MAAGA,IAAE,uCAAqCQ,IAAEP,GAAC,GAAED,IAAE,2BAAyBY;AAAE,UAAMV,MAAE,KAAK,aAAa;AAAE,SAAK,QAAM,CAACA,KAAEA,GAAC,GAAE,KAAK,sBAAoB,IAAEJ,KAAG,KAAK,gBAAgBE,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,sBAAsBA,KAAEJ,KAAEgB,KAAE;AAAC,SAAK,eAAa,KAAK,gBAAgB,GAAEZ,IAAE,QAAM,KAAK,cAAc,GAAEA,IAAE,eAAa,KAAK,iBAAiB,GAAEA,IAAE,cAAY,KAAK,cAAaA,IAAE,+BAA6B;AAAG,UAAMF,MAAE,KAAK,aAAa,GAAED,MAAEC,MAAE,KAAK,SAAS,kBAAkB,KAAK,MAAM;AAAiB,QAAG,QAAM,KAAK,SAAS,gBAAgB,UAAS;AAAC,YAAMS,MAAE,MAAM,EAAE,KAAK,SAAS,gBAAgB,SAAS,QAAQX,KAAEC,KAAE,EAAC,QAAOe,IAAC,CAAC,CAAC;AAAE,UAAG,UAAKL,IAAE,IAAG;AAAC,QAAAV,GAAEU,IAAE,KAAK;AAAE,cAAM,IAAI,EAAE,4CAA2C,qDAAqDX,GAAC,GAAG;AAAA,MAAC;AAAC,WAAK,iBAAeW,IAAE;AAAM,YAAMC,MAAED,IAAE,MAAM;AAAQ,WAAK,QAAM,GAAGC,KAAEV,GAAC,GAAEE,IAAE,YAAUQ,IAAE;AAAA,IAAE;AAAC,SAAK,gBAAgBR,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAqBA,KAAEC,KAAEL,KAAE;AAAC,UAAK,EAAC,gBAAeM,IAAC,IAAE,MAAM,OAAO,8BAA2C;AAAE,QAAG,KAAK,uBAAqBA,KAAE,KAAK,WAASD,KAAE,CAAC,KAAK,SAAS,gBAAgB,qBAAoB;AAAC,YAAMD,OAAG,MAAM,OAAO,mCAAgD,GAAG;AAAoB,MAAAY,GAAEhB,GAAC,GAAE,KAAK,SAAS,gBAAgB,wBAAsB,KAAK,SAAS,gBAAgB,sBAAoB,IAAII,IAAE,KAAK,SAAS,mBAAmB,gBAAgB;AAAA,IAAE;AAAC,UAAMY,MAAE,KAAK,SAAS,gBAAgB,qBAAoBd,MAAE,CAAC,GAAED,MAAEI,KAAEK,MAAET,KAAG;AAAO,IAAAc,IAAE,eAAeL,KAAEM,IAAE,iBAAgBd,KAAEF,GAAC,GAAEe,IAAE,WAAWL,KAAEM,IAAE,iBAAgBd,GAAC;AAAE,UAAMU,MAAE,KAAK,SAAS,MAAM,SAAO,KAAK,SAAS,MAAM,OAAO,IAAK,CAAAR,QAAGA,IAAE,OAAO,CAAE,IAAE,CAAC,GAAEU,MAAE,KAAK,SAAS,mBAAmB;AAAiB,QAAG,KAAK,cAAY,EAAC,kBAAiBA,KAAE,QAAOF,KAAE,cAAa,oBAAmB,GAAEX,KAAG,sBAAoBC,IAAE,KAAKI,IAAE,wBAAwBL,IAAE,oBAAmB,KAAK,WAAW,CAAC,GAAEC,IAAE,SAAO,MAAI,MAAM,QAAQ,IAAIA,GAAC,GAAEc,GAAEhB,GAAC,IAAG,KAAK,SAAS,YAAU,iBAAe,KAAK,SAAS,SAAS,QAAM,KAAK,SAAS,SAAS,iBAAgB;AAAC,YAAMI,MAAE,KAAK,SAAS;AAAS,UAAGA,IAAE,iBAAgB;AAAC,cAAMC,MAAED,IAAE,iBAAgBJ,MAAE,MAAMc,GAAET,KAAE,KAAK,SAAS,MAAM,gBAAgB,GAAE,EAAC,SAAQC,IAAC,IAAE,MAAM,OAAO,yCAAiD,GAAEU,MAAE,IAAIG,GAAEP,GAAC;AAAE,aAAK,4BAA0B,CAACR,KAAEC,KAAEH,QAAI;AAAC,gBAAMD,MAAEK,IAAEN,KAAEI,KAAE,EAAC,OAAMF,IAAC,GAAE,qBAAoBc,KAAEX,GAAC;AAAE,iBAAO,SAAOJ,MAAEA,MAAE;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAC,IAAAe,GAAEhB,GAAC,GAAE,KAAK,6BAA2BI,KAAE,KAAK,2BAA2B,QAAM,KAAK,cAAc,GAAE,KAAK,2BAA2B,eAAa,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,2BAA2B,cAAY,GAAE,KAAK,2BAA2B,+BAA6B;AAAA,EAAE;AAAA,EAAC,gBAAe;AAAC,WAAO,GAAG,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,QAAIA,MAAE;AAAE,UAAMC,MAAE,KAAK;AAAY,QAAG,QAAMA,IAAE,SAAS,KAAK,QAAO,KAAK,IAAII,GAAEJ,IAAE,QAAQ,IAAI,GAAE,CAAC;AAAE,WAAOD,MAAE,GAAG,KAAK,cAAc,CAAC,IAAE,KAAG,GAAE,KAAK,IAAIA,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,UAAMC,MAAE,KAAK,iBAAiB,GAAEL,MAAE,KAAK,aAAYM,MAAEN,KAAG,SAAS;AAAM,QAAG,QAAMM,KAAE;AAAC,YAAMN,MAAEW,GAAE,UAAUL,GAAC,GAAEU,MAAEV,IAAE,IAAED;AAAE,aAAM,CAACL,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEgB,GAAC;AAAA,IAAC;AAAC,WAAM,CAAC,GAAE,GAAE,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,QAAG,GAAG,KAAK,cAAc,CAAC,EAAE,QAAOX;AAAE,UAAMD,MAAE,QAAM,KAAK,cAAc,GAAEC,MAAE,KAAK,aAAa,UAAU;AAAM,WAAO,KAAK,4BAA4BA,KAAE,EAAC,mBAAkBD,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMC,MAAE,KAAK,aAAa,UAAU;AAAM,QAAG,QAAMA,KAAE;AAAC,aAAO,QAAM,KAAK,cAAc,IAAEW,KAAEf;AAAA,IAAC;AAAC,WAAOU,GAAE,WAAWN,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,UAAMD,MAAE,KAAK,aAAa,GAAE,EAAC,aAAY,EAAC,MAAKC,IAAC,EAAC,IAAE;AAAK,YAAO,QAAMA,MAAE,KAAK,MAAMI,GAAEJ,GAAC,CAAC,IAAE,MAAID;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS;AAAU,QAAG,KAAK,UAAS;AAAC,WAAK,eAAa;AAAK,UAAIL,MAAEI,IAAE,YAAU,KAAK,oBAAoB,IAAIA,IAAE,SAAS,IAAE;AAAK,aAAOJ,QAAIA,MAAE,IAAI,GAAGI,KAAEC,GAAC,GAAE,KAAK,oBAAoB,IAAID,IAAE,aAAW,GAAEJ,GAAC,IAAGA;AAAA,IAAC;AAAC,SAAK,eAAa,EAAE,KAAK,SAAS,UAAS,KAAK,kCAAkC,CAAC,GAAE,KAAK,iBAAeI,MAAE,EAAC,GAAGA,KAAE,GAAG,KAAK,aAAa,mBAAkB,IAAG,KAAK,WAAW,CAAC,IAAE,IAAI,GAAGA,KAAEC,GAAC,GAAED,IAAE,YAAU;AAAG,UAAMJ,MAAE,KAAK,KAAK,KAAK,WAAW;AAAM,WAAOI,IAAE,QAAMQ,IAAER,IAAE,OAAMJ,GAAC,GAAEI,IAAE,eAAaQ,IAAER,IAAE,cAAaJ,GAAC,GAAE,KAAK,WAAW,CAAC,IAAE,IAAI,GAAGI,KAAEC,GAAC,GAAE,KAAK,WAAW,CAAC;AAAA,EAAC;AAAA,EAAC,yCAAwC;AAAC,SAAK,WAAS,KAAK,iBAAkB,CAAAD,QAAG;AAAC,MAAAA,IAAE,cAAc,EAAC,gBAAe,MAAK,uBAAsB,MAAK,eAAc,OAAG,eAAc,OAAG,qBAAoB,GAAE,QAAO,KAAK,OAAM,CAAC;AAAA,IAAC,CAAE,GAAE,KAAK,oBAAoB;AAAA,EAAE;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,aAAWA,GAAE,KAAK,UAAU,GAAE,KAAK,WAAW,SAAO,GAAE,KAAK,oBAAoB,MAAM,GAAE,KAAK,mBAAmB,QAAS,CAAAA,QAAG,KAAK,SAAS,MAAM,cAAcA,GAAC,CAAE,GAAE,KAAK,mBAAmB,MAAM,GAAE,KAAK,iBAAe,EAAE,KAAK,cAAc;AAAA,EAAC;AAAA,EAAC,gBAAgB,EAAC,MAAKA,IAAC,GAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,kBAAkB,KAAK,QAAO;AAAE,QAAG,QAAMD,IAAE,QAAO,KAAK,iBAAiB;AAAE,UAAK,CAACJ,KAAEM,KAAEU,GAAC,IAAEZ;AAAE,WAAM,mBAAiBJ,MAAE,IAAE,YAAU,OAAOA,OAAG,SAASA,GAAC,IAAES,GAAET,GAAC,IAAEK,MAAE,YAAU,OAAOW,OAAG,SAASA,GAAC,IAAEP,GAAEO,GAAC,IAAEX,MAAE;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAE;AAAC,WAAO,KAAK,kBAAkB,WAASA,IAAE,WAAS,IAAE;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,QAAQ,EAAE,QAAO;AAAK,UAAML,MAAEa,IAAER,IAAE,QAAQ;AAAE,QAAG,QAAML,IAAE,QAAO,KAAK,OAAO,KAAK,8CAA8CK,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,QAAIC,KAAEU,MAAE,CAAC,GAAE,CAAC;AAAE,UAAMd,MAAE,KAAK,KAAK,gBAAgB,iBAAiBF,GAAC,KAAG;AAAG,QAAG,KAAK,UAAS;AAAC,UAAG,CAAC,KAAK,SAAS,OAAO,QAAO;AAAK,YAAMA,MAAE,KAAK,oBAAoBK,KAAED,GAAC,GAAEH,MAAE,EAAC,WAAUD,IAAE,IAAG,WAAUE,KAAE,GAAG,KAAK,2BAA0B;AAAE,MAAAI,MAAE,KAAK,gBAAgBL,GAAC;AAAE,YAAMS,MAAE,KAAK,SAAS,kBAAkB,KAAK,MAAM;AAAiB,MAAAM,MAAE,CAAChB,IAAE,WAAW,QAAMU,KAAEV,IAAE,WAAW,SAAOU,GAAC;AAAA,IAAC,MAAM,CAAAM,MAAE,KAAK,OAAMV,MAAEJ,MAAE,KAAK,WAAW,CAAC,IAAE,KAAK,WAAW,CAAC;AAAE,QAAG,QAAMF,IAAE,QAAO,KAAK,OAAO,KAAK,8CAA8CK,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAMJ,MAAEG,IAAE,eAAcM,MAAE,KAAK,0BAA0BT,KAAE,KAAK,4BAA4B,CAAC,GAAEU,MAAE,KAAK,mBAAmBV,GAAC;AAAE,QAAIW,MAAE;AAAE,QAAG,CAAC,KAAK,cAAc,gBAAgB,MAAK;AAAC,YAAMR,MAAEY,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC;AAAE,MAAAJ,MAAE,KAAK,gBAAgBX,KAAEG,GAAC;AAAA,IAAC;AAAC,IAAAQ,OAAG,KAAK;AAAoB,UAAME,MAAEd,GAAEgB,IAAE,CAAC,IAAEJ,KAAEI,IAAE,CAAC,IAAEJ,GAAC,GAAEH,MAAE,KAAK,2BAA2BJ,GAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBI,IAAE,IAAI,KAAG,KAAK,uCAAuC,GAAE,KAAK,SAAO,KAAK,iBAAiBJ,KAAEL,KAAEM,KAAEI,KAAEC,KAAEG,GAAC,IAAE,KAAK,iBAAiBT,KAAEL,KAAEM,KAAEI,KAAEC,KAAEG,KAAEL,KAAEJ,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,UAAMD,MAAE,KAAK,cAAc,GAAEC,MAAE,KAAK,iBAAiB;AAAE,SAAK,iBAAkB,CAAAL,QAAG;AAAC,MAAAA,IAAE,cAAc,EAAC,OAAMI,IAAC,CAAC,GAAEJ,IAAE,cAAc,EAAC,cAAaK,IAAC,CAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,eAAeD,KAAEC,KAAE;AAAC,QAAG,KAAK,UAAQ,CAAC,KAAK,kBAAkBA,GAAC,EAAE,QAAM;AAAG,UAAK,EAAC,kBAAiBL,KAAE,aAAYM,IAAC,IAAEF;AAAE,QAAGJ,IAAE,SAAO,KAAK,yBAAyBK,GAAC,EAAE,QAAM;AAAG,UAAMW,MAAEH,IAAER,GAAC;AAAE,QAAG,CAACW,IAAE,QAAM;AAAG,UAAMd,MAAEe,IAAEX,KAAE,KAAK,UAASU,KAAEhB,GAAC;AAAE,QAAG,QAAME,IAAE,QAAM;AAAG,UAAMD,MAAEmB,GAAE,KAAK,UAASJ,GAAC;AAAE,WAAOV,IAAE,WAAW,CAAC,EAAE,gBAAcL,QAAIG,IAAE,0BAAwBF,KAAEmB,IAAEjB,KAAEY,KAAE,KAAK,SAAS,iBAAiB,GAAE;AAAA,EAAG;AAAA,EAAC,0BAA0BZ,KAAEC,KAAEL,KAAE;AAAC,UAAMM,MAAE,KAAK,kBAAkB,MAAKU,MAAEK,IAAE,IAAG,0BAAyBrB,KAAEM,GAAC;AAAE,QAAGU,QAAIT,GAAE,OAAO,QAAOS;AAAE,UAAMd,MAAEkB,GAAEd,GAAC,KAAG,sBAAoBA;AAAE,WAAO,KAAK,qCAAqCF,KAAEC,KAAG,MAAIH,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,WAAO,KAAK,UAAQ,KAAK,iBAAkB,CAAAE,QAAG;AAAC,MAAAA,IAAE,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAA,IAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,QAAM,KAAK,cAAc;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAEC,KAAE;AAAC,eAAUL,OAAKI,IAAE,MAAK;AAAC,UAAG,sBAAoBJ,IAAE,QAAOI,IAAE;AAAe,UAAG,CAAC,EAAE,KAAK,cAAaC,KAAE,KAAK,kCAAkC,CAAC,EAAE,QAAOD,IAAE;AAAe,WAAK,WAAW,CAAC,GAAG,cAAc,KAAK,aAAa,kBAAkB;AAAA,IAAC;AAAC,WAAOA,IAAE;AAAA,EAAU;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,IAAAA,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAML,MAAEa,IAAER,IAAE,QAAQ,QAAQ;AAAE,UAAG,QAAML,IAAE,QAAO,KAAK,KAAK,OAAO,KAAK,8CAA8CK,IAAE,QAAQ,SAAS,IAAI,EAAE;AAAE,YAAMC,MAAE,KAAK,KAAK,gBAAgB,iBAAiBN,GAAC,KAAG;AAAG,MAAAK,IAAE,OAAO,QAAS,CAAAL,QAAG;AAAC,YAAGA,KAAG,0BAAwB,QAAMA,IAAE,aAAY;AAAC,UAAAA,IAAE,YAAY,WAAW,KAAM,CAAAI,QAAGA,IAAE,SAAS,WAAW,cAAYE,GAAE,KAAGF,IAAEC,GAAC;AAAA,QAAC;AAAA,MAAC,CAAE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAE;AAAC,QAAG,KAAK,YAAY,MAAM,GAAE,cAAYA,IAAE,KAAK,KAAK;AAAO,UAAMC,MAAED,IAAE,KAAK;AAAK,SAAK,sBAAsBA,KAAEC,GAAC,GAAE,KAAK,sBAAsBD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBD,KAAEY,KAAE;AAAC,QAAG,CAACA,IAAE,YAAU,cAAYA,IAAE,SAAS,KAAK;AAAO,UAAMJ,MAAEI,IAAE,SAAS;AAAK,QAAG,eAAaJ,KAAG,MAAM,KAAK;AAAO,UAAME,MAAEF,IAAE,KAAK,UAAS,EAAC,UAASH,IAAC,IAAE,KAAK,SAAS;AAAgB,QAAG,QAAMK,OAAG,QAAML,OAAG,QAAM,GAAGK,GAAC,EAAE;AAAO,UAAMO,MAAE,KAAK,aAAa,GAAED,MAAEC,MAAE,KAAK,SAAS,kBAAkB,KAAK,MAAM;AAAW,IAAAjB,IAAE,wBAAwB,KAAM,MAAI;AAAC,WAAK,aAAWA,GAAE,KAAK,UAAU,GAAE,KAAK,aAAW,EAAG,CAAAA,QAAG,KAAK,SAAS,SAAU,OAAMA,KAAEJ,QAAI;AAAC,cAAMgB,MAAE,MAAM,EAAEP,IAAE,QAAQK,KAAEM,KAAE,EAAC,QAAOpB,IAAC,CAAC,CAAC;AAAE,QAAAgB,GAAEhB,GAAC;AAAE,cAAME,MAAE,CAACc,IAAE;AAAG,YAAGd,OAAGD,GAAEe,IAAE,KAAK,GAAE,KAAK,iBAAe,EAAE,KAAK,cAAc,GAAE,KAAK,aAAW,MAAKd,KAAE;AAAC,eAAK,iBAAkB,CAAAE,QAAG;AAAC,YAAAA,IAAE,UAAQ,OAAGA,IAAE,cAAc,EAAC,WAAU,KAAI,CAAC;AAAA,UAAC,CAAE;AAAE,gBAAMA,MAAE,qDAAqDU,GAAC;AAAI,iBAAO,KAAK,KAAK,OAAO,MAAM,IAAI,EAAE,4CAA2CV,GAAC,CAAC;AAAA,QAAC;AAAC,aAAK,iBAAeY,IAAE;AAAM,cAAMJ,MAAEI,IAAE,MAAM;AAAQ,aAAK,QAAM,GAAGJ,KAAES,GAAC,GAAE,KAAK,iBAAkB,CAAAjB,QAAG;AAAC,UAAAA,IAAE,cAAc,EAAC,WAAUQ,IAAE,GAAE,CAAC,GAAER,IAAE,UAAQ;AAAA,QAAE,CAAE;AAAA,MAAC,GAAGA,GAAC,CAAE;AAAA,IAAC,CAAE,GAAE,OAAOQ,IAAE;AAAA,EAAI;AAAA,EAAC,sBAAsBR,KAAEC,KAAE;AAAC,QAAG,CAACA,IAAE,SAAO,eAAaA,IAAE,MAAM,KAAK;AAAO,UAAML,MAAEK,IAAE,MAAM,YAAU,GAAEC,MAAE,MAAIN,OAAG,KAAK,kBAAkB;AAAS,IAAAI,IAAE,wBAAwB,KAAM,MAAI;AAAC,WAAK,iBAAkB,CAAAA,QAAGA,IAAE,cAAc,EAAC,UAASJ,KAAE,aAAYM,IAAC,CAAC,CAAE;AAAA,IAAC,CAAE,GAAE,OAAOD,IAAE;AAAA,EAAK;AAAA,EAAC,2BAA0B;AAAC,WAAO;AAAA,EAAE;AAAA,EAAC,iBAAiBD,KAAEC,KAAEL,KAAEM,KAAEU,KAAEd,KAAED,KAAES,KAAE;AAAC,UAAMC,MAAE,KAAK,wBAAwBP,GAAC,GAAEQ,MAAE,KAAK,SAAS,cAAaE,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWJ,KAAE,cAAaE,IAAC,CAAC,GAAEH,MAAE,GAAGT,KAAE,EAAC,QAAO,IAAG,OAAMM,KAAE,UAASU,KAAE,MAAKd,KAAE,yBAAwB,IAAG,kBAAiBS,KAAE,uBAAsBG,IAAC,CAAC,GAAEO,MAAEpB,IAAE,KAAK,UAASI,KAAEI,KAAER,KAAES,GAAC;AAAE,QAAG,QAAMW,IAAE,QAAO;AAAK,UAAMD,MAAE,IAAIH,IAAE,MAAKI,IAAE,QAAO,MAAKJ,KAAEhB,GAAC;AAAE,WAAOmB,IAAE,0BAAwBC,IAAE,kBAAiBD,IAAE,wBAAsBA,GAAEnB,IAAE,IAAI,KAAG,sBAAoBA,IAAE,MAAKmB,IAAE,gBAAc,KAAK,wBAAwBlB,KAAES,GAAC,GAAES,IAAE,gCAA8B,CAAAhB,QAAGJ,IAAE,8BAA8BoB,IAAE,cAAc,GAAE,GAAEhB,GAAC,GAAEiB,IAAED,KAAEf,KAAE,KAAK,SAAS,iBAAiB,GAAEe;AAAA,EAAC;AAAA,EAAC,iBAAiBhB,KAAEC,KAAEL,KAAEM,KAAEU,KAAEd,KAAE;AAAC,IAAAF,IAAE,iBAAe,KAAK;AAAgB,UAAMC,MAAES,GAAE;AAAE,IAAAJ,GAAED,KAAEJ,KAAE,KAAK,SAAS,SAAS,GAAEA,IAAE,CAAC,IAAEc;AAAG,UAAML,MAAE,KAAK,SAAS;AAAe,QAAG,QAAMA,OAAG,CAACY,GAAEZ,KAAET,GAAC,EAAE,QAAO;AAAK,UAAMU,MAAE,KAAK,wBAAwBP,GAAC,GAAEQ,MAAER,IAAE,KAAIU,MAAE,KAAK,SAAS,cAAaL,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWG,KAAE,cAAaE,IAAC,CAAC,GAAEO,MAAE,GAAGrB,KAAE,EAAC,QAAO,IAAG,UAASC,KAAE,OAAMK,KAAE,UAASU,KAAE,MAAKd,KAAE,kBAAiBS,KAAE,uBAAsBF,IAAC,CAAC,GAAEW,MAAE,IAAIG,GAAGF,KAAE,EAAC,cAAaP,KAAE,YAAWF,IAAC,CAAC,GAAEK,MAAE,IAAIN,IAAE,MAAK,CAACS,GAAC,GAAE,MAAK,KAAK,SAAS,mBAAmB;AAAE,WAAOH,IAAE,gBAAc,KAAK,wBAAwBf,KAAES,GAAC,GAAEM,IAAE,gCAA8B,CAAAb,QAAGJ,IAAE,8BAA8BiB,IAAE,cAAc,GAAE,GAAEb,GAAC,GAAEa;AAAA,EAAC;AAAA,EAAC,wBAAwBb,KAAEC,KAAE;AAAC,UAAML,MAAE,KAAK,eAAa;AAAE,QAAG,KAAK,gBAAcK,KAAE;AAAC,YAAMC,MAAEF,IAAE,CAAC,IAAE,KAAK,qBAAoBY,MAAEZ,IAAE,CAAC,IAAE,KAAK;AAAoB,aAAM,CAACA,MAAEM,GAAE,MAAI;AAAC,cAAK,CAACR,KAAED,GAAC,IAAE,GAAE,IAAG,KAAK,aAAa,oBAAmBI,GAAC;AAAE,eAAOD,IAAE,CAAC,IAAEF,MAAEI,MAAEN,KAAEI,IAAE,CAAC,IAAEH,MAAEe,MAAEhB,KAAEI;AAAA,MAAC;AAAA,IAAC;AAAC,UAAME,MAAEF,IAAE,CAAC,IAAE,KAAK,sBAAoBJ,KAAEgB,MAAEZ,IAAE,CAAC,IAAE,KAAK,sBAAoBJ;AAAE,WAAM,CAACI,MAAEM,GAAE,OAAKN,IAAE,CAAC,IAAEE,KAAEF,IAAE,CAAC,IAAEY,KAAEZ;AAAA,EAAE;AAAA,EAAC,oCAAmC;AAAC,UAAMA,MAAE,KAAK,IAAI,KAAK,MAAM,CAAC,GAAE,KAAK,MAAM,CAAC,CAAC,GAAEC,MAAEL,GAAEI,KAAEA,KAAEA,GAAC,GAAEJ,MAAEI,GAAE,CAAC,GAAEE,MAAEF,MAAEJ,KAAEgB,MAAEhB,GAAEM,KAAEA,KAAEA,GAAC,GAAEJ,MAAE,KAAK,iBAAiB;AAAE,WAAO,IAAIsB,GAAE,EAAC,UAAS,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,MAAG,SAAQ,MAAE,GAAE,WAAUnB,KAAE,YAAWW,KAAE,cAAahB,KAAE,eAAc,KAAK,4BAA4B,GAAE,cAAaA,GAAEE,KAAEA,KAAEA,GAAC,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBE,KAAE;AAAC,SAAK,WAAW,QAAQA,GAAC,GAAE,KAAK,oBAAoB,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,UAAS,KAAK,WAAW,CAAC,EAAC;AAAA,EAAC;AAAC;AAAz0d,IAAK,iBAAe;AAA2D,IAAK,2BAAyB,EAAC,gBAAeG,GAAE,QAAO,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ;AAArN,IAAMkB,MAAN;AAAo2d,SAAS,GAAGrB,KAAE;AAAC,SAAOA,OAAG,eAAaA,IAAE,QAAMA,IAAE,yBAAyB;AAAC;AAAC,SAAS,GAAGA,KAAE;AAAC,SAAO,QAAMA,QAAI,YAAUA,OAAG,QAAMA;AAAE;AAAC,SAAS,GAAGA,KAAE;AAAC,QAAMC,MAAE,GAAED,GAAC;AAAE,SAAM,uBAAqBC,KAAG,YAAUA,IAAE,OAAK;AAAM;AAAC,SAAS,GAAGD,KAAEC,KAAE;AAAC,SAAM,eAAaD,MAAEJ,IAAGK,IAAE,KAAG,KAAG,KAAG,OAAIA,IAAE,KAAG,EAAE,IAAED,OAAKY,MAAEA,IAAEZ,GAAC,IAAEY,IAAE;AAAM;AAAC,SAAS,GAAG,EAAC,YAAWZ,IAAC,GAAEC,KAAE;AAAC,QAAML,OAAGI,IAAE,SAAO,MAAIA,IAAE,UAAQ;AAAG,SAAOJ,MAAE,IAAE,CAACK,KAAE,KAAK,MAAMA,MAAEL,GAAC,CAAC,IAAE,CAAC,KAAK,MAAMK,MAAEL,GAAC,GAAEK,GAAC;AAAC;AAAC,SAAS,GAAGD,KAAE;AAAC,SAAOA,IAAE,UAAU,OAAK,OAAKA,IAAE,UAAU,aAAW;AAAC;AAAC,SAAS,GAAGA,KAAE;AAAC,SAAO,OAAKA,IAAE,UAAU,OAAO,KAAG,MAAI,QAAM,GAAGA,GAAC;AAAC;AAAC,IAAM,KAAG,EAAC,MAAK,sBAAqB,QAAO,EAAC;AAA5C,IAA8C,KAAGJ,GAAE,GAAE,GAAE,GAAE,CAAC;AAA1D,IAA4D,KAAGU,GAAE;;;ACA9klB,SAASgB,IAAEA,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAO,aAAOC,IAAE;AAAA,IAAK,KAAI;AAAS,aAAOA,IAAE;AAAA,IAAO,KAAI;AAAQ,aAAOA,IAAE;AAAA,IAAM;AAAQ,aAAO;AAAA,EAAI;AAAC;AAAC,SAASC,IAAEC,KAAE;AAAC,SAAM,cAAYA,MAAE,SAAOA;AAAC;;;ACAivB,IAAMC,KAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMD,KAAEC,KAAE,IAAIA,IAAEC,IAAG,MAAI,OAAO,+BAAsB,CAAE,GAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBC,KAAEH,KAAE;AAAC,UAAK,EAAC,QAAOI,KAAE,SAAQC,KAAE,OAAMC,IAAE,cAAaC,IAAC,IAAEJ;AAAE,WAAOK,GAAE,EAAC,UAASC,IAAEL,GAAC,IAAEA,IAAEC,GAAC,IAAE,MAAK,WAAUC,OAAII,IAAE,SAAO,OAAK,EAAC,MAAKC,GAAEN,GAAC,EAAC,GAAE,YAAWO,GAAET,GAAC,GAAE,aAAYI,IAAEH,KAAES,GAAER,KAAED,GAAC,CAAC,GAAE,YAAWN,IAAE,cAAaS,MAAER,MAAE,MAAK,aAAYQ,MAAEP,MAAEc,MAAEC,KAAE,MAAK,eAAc,EAAC,QAAO,GAAE,OAAM,IAAG,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBhB,KAAE;AAAC,WAAOA,IAAE,YAAU,KAAK,+BAA6BS,GAAE,EAAC,UAASQ,IAAE,WAAUN,KAAE,YAAW,MAAK,YAAWZ,IAAE,cAAa,MAAK,aAAYmB,IAAC,CAAC,GAAE,KAAK,0BAAwBT,GAAE,EAAC,UAASQ,IAAE,WAAUN,KAAE,YAAW,MAAK,YAAWZ,IAAE,cAAaoB,KAAE,aAAYC,GAAC,CAAC,GAAE,KAAK,6BAA2BX,GAAE,EAAC,UAAS,MAAK,WAAUL,KAAE,YAAW,MAAK,YAAW,MAAK,cAAaJ,KAAE,aAAYe,IAAC,CAAC,KAAG,KAAK,+BAA6B,KAAK,0BAAwB,KAAK,6BAA2B,MAAK,KAAK,yBAAuB,KAAK,mBAAmBf,KAAE,IAAE,GAAE,KAAK,mBAAmBA,KAAE,KAAE;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAEI,KAAE;AAAC,WAAOJ,MAAE,KAAK,yBAAuBI,QAAIiB,GAAE,gCAA8B,KAAK,gCAA8B,MAAM,YAAY,IAAEjB,QAAIiB,GAAE,oBAAkB,KAAK,2BAAyB,MAAM,YAAY,IAAE,KAAK,8BAA4B,MAAM,YAAY;AAAA,EAAC;AAAC;AAAC,IAAMlB,KAAE,oBAAI,IAAI,CAAC,CAACH,IAAE,UAAS,CAAC,GAAE,CAACA,IAAE,eAAc,CAAC,GAAE,CAACA,IAAE,KAAI,CAAC,GAAE,CAACA,IAAE,OAAM,CAAC,GAAE,CAACA,IAAE,uBAAsB,CAAC,GAAE,CAACA,IAAE,yBAAwB,CAAC,GAAE,CAACA,IAAE,MAAK,CAAC,GAAE,CAACA,IAAE,sBAAqB,CAAC,GAAE,CAACA,IAAE,QAAO,CAAC,CAAC,CAAC;;;ACA1vC,IAAMsB,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,KAAEC,EAAC,GAAE,KAAK,iBAAe,IAAIC,OAAE,KAAK,2BAAyBC,IAAE,KAAK,WAAS,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAgB,CAAAJ,QAAGA,QAAID,IAAE,aAAWM,GAAEL,GAAC,KAAG,KAAK,WAAW,mBAAiBM,IAAE,4BAA4B,GAAE,CAACF,GAAE,iCAAgC,CAAAJ,QAAGO,GAAEP,GAAC,CAAC,GAAE,CAACI,GAAE,mBAAkB,CAAAJ,QAAGQ,GAAER,GAAC,KAAG,KAAK,WAAW,mBAAiBM,IAAE,4BAA4B,GAAE,CAACF,GAAE,+BAA8B,CAAAJ,QAAGQ,GAAER,GAAC,KAAG,KAAK,WAAW,mBAAiBM,IAAE,4BAA4B,GAAE,CAACF,GAAE,sBAAqB,CAAAJ,QAAGK,GAAEL,GAAC,KAAG,KAAK,WAAW,UAAU,GAAE,CAACI,GAAE,oCAAmC,CAAAJ,QAAGK,GAAEL,GAAC,KAAG,CAAC,KAAK,WAAW,UAAU,GAAE,CAACI,GAAE,iBAAgB,CAAAJ,QAAGS,IAAET,GAAC,KAAGA,QAAID,IAAE,SAAS,CAAC,CAAC,GAAE,KAAK,kBAAgB,QAAO,KAAK,UAAQ,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,iBAAiBC,KAAEU,KAAE;AAAC,WAAO,MAAM,iBAAiBV,KAAEU,KAAE,KAAK,cAAc,GAAE,KAAK,eAAe,QAAMA,IAAE,SAAON,GAAE,kBAAgBO,IAAE,SAAO,KAAK,WAAW,aAAWA,IAAE,QAAMA,IAAE,QAAO,KAAK,eAAe,sBAAoB,KAAK,WAAW,qBAAoB,KAAK,eAAe,SAAO,KAAK,WAAW,QAAMA,IAAE,MAAK,KAAK,eAAe,SAAO,KAAK,WAAW,QAAO,KAAK,eAAe,SAAO,KAAK,WAAW,QAAO,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,eAAaD,IAAE,cAAa,KAAK,eAAe,aAAW,KAAK,WAAW,YAAW,KAAK,eAAe,SAAO,CAAC,CAAC,KAAK,WAAW,QAAO,KAAK,eAAe,UAAQ,CAAC,CAAC,KAAK,WAAW,SAAQ,KAAK,eAAe,YAAU,CAAC,CAAC,KAAK,WAAW,WAAU,KAAK,eAAe,WAAS,KAAK,WAAW,mBAAiBJ,IAAE,8BAA6B,KAAK,eAAe,UAAQI,IAAE,SAAQ,KAAK,eAAe,mBAAiBA,IAAE,oBAAkBD,IAAET,GAAC,GAAE,KAAK,eAAe,mBAAiBU,IAAE,kBAAiB,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,WAAW,MAAM,CAAC,KAAGJ;AAAA,EAAC;AAAA,EAAC,YAAW;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,UAAMN,MAAEY,GAAE,EAAE,MAAMZ,IAAE,QAAQ,EAAE,QAAQA,IAAE,aAAa,EAAE,QAAQA,IAAE,GAAG;AAAE,WAAO,KAAK,WAAW,UAAQA,IAAE,IAAIA,IAAE,qBAAqB,IAAEA,IAAE,OAAOA,IAAE,OAAM,EAAC,cAAa,KAAE,CAAC,GAAE,KAAK,WAAW,aAAWA,IAAE,IAAIA,IAAE,uBAAuB,GAAE,KAAK,WAAW,SAAOA,IAAE,IAAIA,IAAE,oBAAoB,IAAEA,IAAE,IAAIA,IAAE,IAAI,GAAE,KAAK,WAAW,cAAYA,IAAE,QAAQA,IAAE,MAAM,GAAEA;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,IAAIa,GAAE,KAAK,SAAQ,KAAK,UAAU;AAAA,EAAC;AAAA,EAAC,iBAAiBb,KAAE;AAAC,WAAO,IAAIc,GAAEd,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMc,KAAN,cAAgBd,IAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,gBAAgB,QAAQ,KAAK,gBAAgB,GAAE,KAAK,mBAAiB;AAAA,EAAI;AAAA,EAAC,UAAUA,KAAE;AAAC,UAAMU,MAAE,KAAK,UAAU,WAAW;AAAgB,WAAOA,QAAI,KAAK,qBAAmB,KAAK,UAAU,cAAc,EAAC,eAAc,KAAK,gBAAgB,KAAKA,KAAE,KAAK,gBAAgB,EAAC,CAAC,GAAE,KAAK,mBAAiBA,MAAG,KAAK,aAAaH,IAAEP,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,cAAgBS,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,QAAM,GAAE,KAAK,QAAM,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,kBAAgB,SAAQ,KAAK,YAAU,OAAM,KAAK,MAAIC,IAAE,MAAK,KAAK,SAAOI,IAAE,QAAO,KAAK,SAAO,OAAG,KAAK,aAAW,OAAG,KAAK,sBAAoB,OAAG,KAAK,aAAW,MAAG,KAAK,gBAAc,OAAG,KAAK,eAAa,OAAG,KAAK,gBAAc;AAAA,EAAI;AAAC;AAAC,IAAMF,KAAN,MAAO;AAAA,EAAC,YAAYb,KAAEU,KAAE;AAAC,SAAK,qBAAmBV,KAAE,KAAK,cAAYU;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,WAAM,gBAAc,KAAK,YAAY,YAAU,KAAG;AAAA,EAAC;AAAA,EAAC,MAAMM,KAAEL,KAAEZ,KAAEO,KAAED,KAAEY,KAAE;AAAC,UAAMF,MAAEhB,IAAE,IAAIC,IAAE,QAAQ,EAAE,MAAKQ,MAAEO,IAAE,SAAO;AAAE,QAAIG,MAAE,CAAC,GAAE,GAAE,CAAC;AAAE,UAAMT,MAAEV,IAAE,IAAIC,IAAE,MAAM;AAAE,SAAK,YAAY,cAAY,QAAMS,QAAIS,MAAET,IAAE;AAAM,QAAIU,KAAE,GAAEC,MAAE;AAAE,SAAK,YAAY,SAAOA,MAAErB,IAAE,IAAIC,IAAE,oBAAoB,EAAE,KAAK,CAAC,IAAED,IAAE,IAAIC,IAAE,IAAI,MAAImB,KAAEpB,IAAE,IAAIC,IAAE,IAAI,EAAE,KAAK,CAAC;AAAG,QAAII,MAAE,CAAC,GAAE,GAAE,GAAE,CAAC,GAAEiB,MAAE;AAAE,SAAK,YAAY,UAAQA,MAAEtB,IAAE,IAAIC,IAAE,qBAAqB,EAAE,KAAK,CAAC,IAAED,IAAE,IAAIC,IAAE,KAAK,MAAII,MAAEL,IAAE,IAAIC,IAAE,KAAK,EAAE;AAAM,QAAIsB,KAAE;AAAE,SAAK,YAAY,cAAYA,KAAEvB,IAAE,IAAIC,IAAE,uBAAuB,EAAE,KAAK,CAAC;AAAG,UAAMuB,MAAE,IAAI,aAAalB,IAAE,MAAM,GAAEE,MAAEG,GAAEL,IAAE,MAAM,GAAEO,KAAE,IAAI,WAAWP,IAAE,MAAM;AAAE,QAAImB,MAAEP,OAAG,KAAK,mBAAmB,SAAO;AAAG,UAAMnB,MAAEyB,IAAE,oBAAkBhB,IAAE,mBAAkBO,MAAE,IAAEhB,KAAEG,MAAE,CAACD,KAAEU,KAAEe,KAAET,QAAI;AAAC,MAAAO,IAAEC,KAAG,IAAExB,IAAE,CAAC,GAAEuB,IAAEC,KAAG,IAAExB,IAAE,CAAC,GAAEuB,IAAEC,KAAG,IAAExB,IAAE,CAAC,GAAEsB,GAAEZ,KAAEV,KAAEO,KAAEiB,MAAE1B,GAAC,GAAE0B,OAAGV;AAAE,UAAIZ,MAAEsB,MAAE1B;AAAE,UAAGS,IAAEL,KAAG,IAAEuB,IAAE,CAAC,GAAElB,IAAEL,KAAG,IAAEuB,IAAE,CAAC,GAAED,MAAE,KAAK,KAAKtB,MAAEJ,GAAC,GAAE,KAAK,YAAY,QAAQ,CAAAyB,IAAEC,KAAG,IAAEH;AAAA,WAAM;AAAC,cAAMrB,MAAE,KAAK,IAAI,IAAEgB,KAAEZ,IAAE,SAAO,CAAC,GAAEM,MAAE,IAAEc;AAAI,QAAAZ,GAAEF,GAAC,IAAE,MAAIN,IAAEJ,GAAC,GAAEY,GAAEF,MAAE,CAAC,IAAE,MAAIN,IAAEJ,MAAE,CAAC,GAAEY,GAAEF,MAAE,CAAC,IAAE,MAAIN,IAAEJ,MAAE,CAAC,GAAEY,GAAEF,MAAE,CAAC,IAAE,MAAIN,IAAEJ,MAAE,CAAC;AAAA,MAAC;AAAC,WAAK,YAAY,cAAYuB,IAAEC,KAAG,IAAEF,KAAGpB,MAAEsB,MAAE1B,KAAE,KAAK,YAAY,UAAQyB,IAAEC,KAAG,IAAEJ,KAAElB,OAAG,KAAGK,IAAEL,KAAG,IAAEiB,IAAE,KAAK,YAAY,eAAaZ,IAAEL,KAAG,IAAEgB,IAAE,CAAC,GAAEX,IAAEL,KAAG,IAAEgB,IAAE,CAAC,GAAEX,IAAEL,KAAG,IAAEgB,IAAE,CAAC,IAAGM,MAAE,KAAK,KAAKtB,MAAEJ,GAAC;AAAA,IAAC;AAAE,QAAIe;AAAE,KAAC,SAASb,KAAE;AAAC,MAAAA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,aAAW,EAAE,IAAE;AAAA,IAAY,EAAEa,QAAIA,MAAE,CAAC,EAAE;AAAE,UAAMa,MAAE,CAACxB,KAAES,QAAI;AAAC,YAAMZ,MAAEO,GAAE,GAAES,IAAE,IAAEb,GAAC,GAAEa,IAAE,IAAEb,MAAE,CAAC,GAAEa,IAAE,IAAEb,MAAE,CAAC,CAAC,GAAEI,MAAEqB;AAAE,UAAItB,MAAEH,MAAES;AAAE,SAAE;AAAC,QAAAL,GAAEA,KAAES,IAAE,IAAEV,GAAC,GAAEU,IAAE,IAAEV,MAAE,CAAC,GAAEU,IAAE,IAAEV,MAAE,CAAC,CAAC,GAAEA,OAAGM;AAAA,MAAC,SAAO,EAAEZ,KAAEO,GAAC,KAAGD,OAAG,KAAGA,MAAEG;AAAG,MAAAQ,QAAIY,GAAE7B,KAAEA,KAAEiB,GAAC,GAAEY,GAAEtB,KAAEA,KAAEU,GAAC,IAAGf,IAAEF,KAAEO,KAAE,CAAC,IAAG,EAAE,GAAEJ,GAAC,GAAED,IAAEF,KAAEO,KAAE,CAAC,GAAE,EAAE,GAAEJ,GAAC,GAAED,IAAEF,KAAEO,KAAE,CAAC,GAAE,CAAC,GAAEJ,GAAC,GAAED,IAAEF,KAAEO,KAAE,CAAC,IAAG,EAAE,GAAEJ,GAAC,GAAED,IAAEF,KAAEO,KAAE,CAAC,GAAE,CAAC,GAAEJ,GAAC,GAAED,IAAEF,KAAEO,KAAE,CAAC,IAAG,CAAC,GAAEJ,GAAC;AAAA,IAAC,GAAE2B,MAAE,KAAK,YAAY;AAAU,WAAM,YAAUA,OAAG,gBAAcA,OAAGH,IAAE,GAAEb,IAAE,SAAS,GAAE,UAAQgB,OAAG,gBAAcA,OAAGH,IAAElB,MAAE,GAAEK,IAAE,UAAU,GAAE;AAAA,EAAI;AAAC;AAAC,IAAM,IAAEd,GAAE;AAAV,IAAY4B,KAAE5B,GAAE;;;ACA5mH,IAAM,IAAE,CAAC,YAAW,WAAU,QAAQ;AAAE,IAAM,KAAN,MAAM,WAAU+B,GAAC;AAAA,EAAwH,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,KAAEC,GAAEH,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,SAAK,eAAa,EAAE,KAAK,SAAS,UAAS,KAAK,kCAAkC,CAAC;AAAE,UAAMD,MAAE;AAAG,QAAG,KAAK,qBAAmB,EAAE,KAAK,SAAS,UAAS,KAAK,kCAAkCA,GAAC,CAAC,GAAE,CAAC,KAAK,kBAAkB,MAAK;AAAC,WAAI,QAAM,KAAK,YAAY,OAAK,KAAK,YAAY,OAAKA,GAAE,CAAC,KAAG,EAAE,OAAM,IAAI,EAAE,0CAAyC,yCAAyC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBA,KAAEC,MAAE,OAAG;AAAC,UAAMC,MAAE,KAAK,4BAA4BD,OAAG,KAAK,gBAAc,KAAK,cAAc;AAAE,SAAK,qBAAmB,CAACA,QAAIC,IAAE,CAAC,IAAE;AAAG,UAAMC,MAAE,EAAC,OAAM,KAAK,sBAAsB,KAAK,aAAa,IAAI,GAAE,OAAMD,KAAE,kBAAiB,MAAG,MAAK,KAAK,YAAY,QAAM,SAAQ,KAAIG,IAAE,KAAK,YAAY,OAAK,MAAM,GAAE,eAAc,KAAK,SAAS,mBAAkB,UAASL,KAAE,gBAAeK,IAAE,KAAK,YAAY,OAAO,EAAC;AAAE,WAAOJ,OAAG,KAAK,oBAAoB,kBAAgB,EAAC,GAAGE,KAAE,GAAG,KAAK,mBAAmB,mBAAkB,IAAE,KAAK,cAAc,kBAAgB,EAAC,GAAGA,KAAE,GAAG,KAAK,aAAa,mBAAkB,IAAEA;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,YAAY,UAAU;AAAA,EAAK;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,YAAY,QAAQ;AAAA,EAAK;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,QAAM,KAAK,WAAW,EAAE,IAAI,MAAI,KAAK,WAAW,EAAE,IAAI,IAAE,IAAIG,GAAE,KAAK,uBAAuB,KAAE,CAAC,IAAG,KAAK,WAAW,EAAE,IAAI;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,QAAM,KAAK,WAAW,EAAE,IAAI,MAAI,KAAK,WAAW,EAAE,IAAI,IAAE,IAAIA,GAAE,KAAK,uBAAuB,IAAE,CAAC,IAAG,KAAK,WAAW,EAAE,IAAI;AAAA,EAAC;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAO,QAAM,KAAK,WAAW,EAAE,aAAa,MAAI,KAAK,WAAW,EAAE,aAAa,IAAE,IAAIA,GAAE,EAAC,GAAG,KAAK,uBAAuB,KAAE,GAAE,WAAU,KAAE,CAAC,IAAG,KAAK,WAAW,EAAE,aAAa;AAAA,EAAC;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAO,QAAM,KAAK,WAAW,EAAE,aAAa,MAAI,KAAK,WAAW,EAAE,aAAa,IAAE,IAAIA,GAAE,EAAC,GAAG,KAAK,uBAAuB,IAAE,GAAE,WAAU,KAAE,CAAC,IAAG,KAAK,WAAW,EAAE,aAAa;AAAA,EAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,QAAM,KAAK,WAAW,EAAE,MAAM,KAAG,QAAM,KAAK,YAAY,WAAS,KAAK,WAAW,EAAE,MAAM,IAAE,IAAIC,GAAE,EAAC,GAAG,KAAK,uBAAuB,OAAG,IAAE,GAAE,WAAU,KAAK,YAAY,OAAO,WAAU,iBAAgBL,IAAE,KAAK,YAAY,OAAO,KAAK,EAAC,CAAC,IAAG,KAAK,WAAW,EAAE,MAAM;AAAA,EAAC;AAAA,EAAC,eAAeF,KAAE;AAAC,QAAG,KAAK,kBAAkB,MAAK;AAAC,YAAMC,MAAED,IAAE;AAAK,aAAO,QAAMC,MAAEO,GAAEC,IAAER,GAAC,CAAC,IAAE,KAAK,iBAAiB;AAAA,IAAC;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,gBAAgB,EAAC,OAAMD,KAAE,SAAQC,IAAC,GAAE;AAAC,UAAMC,MAAEA,GAAE,GAAE,GAAE,GAAE,CAAC;AAAE,WAAO,KAAK,kBAAkB,SAAOQ,GAAER,KAAEF,OAAG,KAAK,4BAA4B,CAAC,GAAE,KAAK,kBAAkB,YAAUE,IAAE,CAAC,IAAED,OAAG,KAAK,oBAAoB,IAAGC;AAAA,EAAC;AAAA,EAAC,sBAAsB,EAAC,OAAMF,KAAE,SAAQC,IAAC,GAAE;AAAC,UAAMC,MAAEC,GAAE;AAAE,WAAO,KAAK,kBAAkB,SAAOO,GAAER,KAAEF,OAAG,KAAK,kCAAkC,CAAC,GAAE,KAAK,kBAAkB,YAAUE,IAAE,CAAC,IAAED,OAAG,KAAK,0BAA0B,IAAGC;AAAA,EAAC;AAAA,EAAC,wBAAwBF,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAAS,GAAE,KAAK,YAAY,IAAI,EAAE,QAAO;AAAK,UAAMC,MAAE,KAAK,2BAA2BD,GAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBC,IAAE,IAAI,GAAE,KAAK,SAAO,KAAK,iBAAiBF,GAAC,IAAE,KAAK,iBAAiBA,KAAEE,KAAED,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,kBAAkBD,KAAEC,KAAE;AAAC,eAAUC,OAAKF,IAAE,MAAK;AAAC,UAAG,sBAAoBE,IAAE,QAAOF,IAAE;AAAe;AAAC,cAAMA,MAAE,KAAK;AAAa,YAAG,CAAC,EAAEA,KAAEC,KAAE,KAAK,kCAAkC,CAAC,EAAE,QAAOD,IAAE;AAAe,mBAAUC,OAAK,KAAK,WAAW,CAAAA,eAAaK,MAAGL,IAAE,cAAcD,IAAE,kBAAkB;AAAE,cAAME,MAAE,KAAK,oBAAmBC,MAAE;AAAG,YAAG,CAAC,EAAED,KAAED,KAAE,KAAK,kCAAkCE,GAAC,CAAC,EAAE,QAAOH,IAAE;AAAe,mBAAUC,OAAK,KAAK,WAAW,CAAAA,eAAaM,MAAGN,IAAE,cAAcC,IAAE,kBAAkB;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOF,IAAE;AAAA,EAAU;AAAA,EAAC,wBAAwBA,KAAE;AAAC,QAAG,cAAYA,IAAE,KAAK,KAAK;AAAO,UAAMC,MAAED,IAAE,KAAK,MAAKE,MAAE,CAAC;AAAE,mBAAaD,IAAE,MAAM,SAAOC,IAAE,QAAM,KAAK,sBAAsBD,IAAE,KAAK,QAAQ,GAAE,OAAOA,IAAE,OAAM,eAAaA,IAAE,KAAK,SAAOC,IAAE,MAAIG,IAAEJ,IAAE,IAAI,YAAU,MAAM,GAAE,OAAOA,IAAE;AAAK,UAAME,MAAE,KAAK,oBAAoBH,KAAEC,GAAC;AAAE,SAAK,sBAAsBD,KAAEC,KAAEE,GAAC,GAAEH,IAAE,wBAAwB,KAAM,MAAI;AAAC,iBAAUA,OAAK,KAAK,WAAW,CAAAA,KAAG,cAAcE,GAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,eAAUF,OAAK,KAAK,WAAW,MAAK,4BAA4BA,KAAEA,eAAaO,EAAC;AAAA,EAAC;AAAA,EAAC,4BAA4BP,KAAEC,MAAE,OAAG;AAAC,QAAG,QAAMD,IAAE;AAAO,UAAME,MAAEF,IAAE,WAAW,OAAMG,MAAE,KAAK,aAAa,UAAU,OAAMO,MAAE,KAAK,qBAAmB,CAACT,MAAE,IAAE,KAAK,oBAAoBE,GAAC,GAAEM,MAAEP,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEQ,GAAC;AAAE,IAAAV,IAAE,cAAc,EAAC,OAAMS,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BT,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkB,MAAKO,MAAEC,IAAE,GAAE,0BAAyBT,KAAEC,GAAC;AAAE,QAAGO,QAAIE,GAAE,OAAO,QAAOF;AAAE,UAAMD,MAAEI,GAAEV,GAAC;AAAE,WAAO,KAAK,qCAAqCH,KAAEC,KAAG,MAAIQ,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,UAAMT,MAAE,EAAC,eAAc,KAAK,SAAS,kBAAiB;AAAE,eAAUC,OAAK,KAAK,WAAW,CAAAA,KAAG,cAAcD,GAAC;AAAE,WAAM;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAEW,GAAEd,IAAE,QAAQ,QAAQ,GAAEU,MAAE,cAAYP,IAAE,OAAKA,IAAE,QAAMA,IAAE,OAAMM,MAAE,IAAI,SAAMM,MAAEP,GAAE,GAAEH,MAAEW,IAAEb,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBF,GAAC,GAAEgB,MAAE,cAAYd,IAAE,OAAK,UAAQ;AAAQ,SAAK,6BAA6BE,KAAEK,KAAEO,KAAE,mBAAmB;AAAE,aAAQC,MAAE,GAAEA,MAAEb,IAAE,MAAM,QAAOa,OAAI;AAAC,YAAMjB,MAAEI,IAAE,MAAMa,GAAC,GAAER,MAAET,IAAE,UAASgB,MAAEhB,IAAE;AAAa,UAAG,QAAM,KAAK,SAAS,mBAAiBU,GAAEM,KAAEF,GAAC,GAAE,CAAC,EAAEA,KAAE,KAAK,SAAS,cAAc,GAAG;AAAS,YAAMI,MAAE,KAAK,gBAAgB,cAAYhB,IAAE,OAAK,KAAK,gBAAc,KAAK,eAAcH,KAAEU,KAAEO,KAAEd,IAAE,MAAK,EAAE,UAASD,GAAC;AAAE,UAAGO,IAAE,KAAKU,GAAC,GAAElB,IAAE,mBAAiBQ,IAAE,KAAKU,IAAE,YAAY,EAAC,UAAS,cAAYhB,IAAE,OAAK,KAAK,yBAAuB,KAAK,uBAAsB,CAAC,CAAC,GAAE,QAAM,KAAK,iBAAgB;AAAC,cAAMF,MAAEkB,IAAE,YAAY,EAAC,UAAS,KAAK,gBAAe,CAAC;AAAE,QAAAlB,IAAE,iBAAiBD,IAAE,OAAM,KAAK,sBAAsBA,IAAE,aAAa,CAAC,GAAES,IAAE,KAAKR,GAAC;AAAA,MAAC;AAAA,IAAC;AAAC,QAAG,MAAIQ,IAAE,OAAO,QAAO;AAAK,UAAMU,MAAE,KAAK,SAAS,cAAaH,MAAE,IAAII,GAAE,EAAC,YAAWX,KAAE,YAAW,OAAG,cAAaU,KAAE,YAAWjB,IAAC,CAAC,GAAES,MAAE,IAAIK,IAAE,MAAKA,KAAE,MAAKT,IAAEN,GAAC;AAAE,WAAOU,IAAE,0BAAwBN,IAAE,kBAAiBM,IAAE,wBAAsBE,GAAEZ,IAAE,IAAI,GAAEU;AAAA,EAAC;AAAA,EAAC,gBAAgBX,KAAEC,KAAEC,KAAEC,KAAEO,KAAED,KAAEM,KAAE;AAAC,UAAMV,MAAEI,QAAI,EAAE,SAAO,EAAC,kBAAiB,KAAK,SAAS,WAAU,oBAAmB,KAAK,SAAS,mBAAkB,IAAE,MAAKQ,MAAE,cAAYP,KAAES,MAAE,KAAK,cAAc,gBAAgB,OAAMH,MAAE,KAAK,cAAc,gBAAgB,MAAKL,MAAE,KAAK,cAAc,gBAAgB,SAAQO,MAAE,KAAK,SAAS,cAAanB,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWgB,KAAE,cAAaG,IAAC,CAAC,GAAEV,MAAE,EAAC,UAASN,KAAE,MAAKc,MAAE,OAAK,KAAK,eAAef,IAAE,aAAa,GAAE,OAAMkB,MAAE,OAAK,KAAK,gBAAgBlB,IAAE,aAAa,GAAE,aAAYe,MAAE,GAAEA,IAAE,OAAMf,IAAE,OAAO,IAAE,MAAK,cAAakB,MAAE,GAAEA,IAAE,OAAMlB,IAAE,OAAO,IAAE,MAAK,gBAAeU,MAAE,GAAEA,IAAE,OAAMV,IAAE,OAAO,IAAE,KAAI;AAAE,WAAOW,GAAEZ,KAAE,EAAC,aAAYK,KAAE,yBAAwBY,KAAE,cAAad,KAAE,eAAcK,IAAC,GAAET,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBC,KAAE;AAAC,UAAMC,MAAED,IAAE,SAAQE,MAAEY,GAAEb,IAAE,QAAQ,GAAEE,MAAE,cAAYD,IAAE,OAAKA,IAAE,QAAMA,IAAE,OAAMQ,MAAE,cAAYR,IAAE,OAAK,KAAK,gBAAc,KAAK;AAAc,IAAAQ,IAAE,iBAAe,KAAK;AAAgB,UAAMD,MAAER,IAAE,kBAAgB,cAAYC,IAAE,OAAK,KAAK,yBAAuB,KAAK,yBAAuB,MAAKa,MAAE,KAAK;AAAgB,YAAMN,QAAIA,IAAE,iBAAe,KAAK,kBAAgB,OAAM,QAAMM,QAAIA,IAAE,iBAAe,KAAK,kBAAgB;AAAM,UAAMV,MAAE,IAAI,SAAMY,MAAET,GAAE,GAAEW,MAAE,EAAE,GAAEH,MAAEC,IAAEf,KAAE,KAAK,SAAS,SAAS,GAAES,MAAE,cAAYT,IAAE,OAAK,UAAQ;AAAQ,SAAK,6BAA6Bc,KAAEb,KAAEQ,KAAE,mBAAmB;AAAE,eAAUO,OAAKF,IAAE,OAAM;AAAC,UAAGL,GAAEO,IAAE,UAASD,GAAC,GAAE,CAAC,EAAEA,KAAE,KAAK,SAAS,cAAc,EAAE;AAAS,QAAEE,KAAEF,GAAC;AAAE,YAAMd,MAAE,CAAAA,QAAG;AAAC,cAAMO,MAAE,KAAK,gBAAgBP,KAAEH,KAAEkB,IAAE,UAAS,QAAOhB,IAAE,MAAK,EAAE,QAAOD,IAAE,GAAG,GAAEQ,MAAE,KAAK,SAAS,cAAaM,MAAE,IAAIM,GAAEX,KAAE,EAAC,cAAaD,KAAE,YAAWR,IAAE,IAAG,CAAC;AAAE,QAAAI,IAAE,KAAKU,GAAC;AAAA,MAAC;AAAE,UAAG,QAAMA,KAAE;AAAC,QAAAZ,IAAEY,GAAC;AAAE,cAAMf,MAAE,KAAK,YAAY,OAAO;AAAU,oBAAUA,OAAG,gBAAcA,OAAGS,GAAEQ,KAAEC,IAAE,UAAS,GAAE,CAAC,GAAE,UAAQlB,OAAG,gBAAcA,OAAGS,GAAEQ,KAAEC,IAAE,UAASA,IAAE,SAAS,SAAO,GAAE,CAAC;AAAA,MAAC;AAAC,MAAAf,IAAEO,GAAC,GAAET,IAAE,mBAAiBE,IAAEM,GAAC;AAAA,IAAC;AAAC,WAAO,IAAIQ,IAAE,MAAKZ,KAAEc,KAAE,KAAK,SAAS,mBAAmB;AAAA,EAAC;AAAA,EAAC,IAAI,oBAAmB;AAAC,UAAMnB,MAAE,KAAK,YAAY;AAAQ,WAAO,QAAMA,OAAG,YAAUA,IAAE,QAAM,WAASA,IAAE;AAAA,EAAK;AAAA,EAAC,sBAAsBA,KAAE;AAAC,WAAOA,MAAEA,OAAGA,GAAE,CAAC,GAAE,KAAK,kBAAkB,OAAK,KAAK,cAAc,gBAAgB,OAAKQ,GAAE,CAAC,IAAE,IAAEA,GAAER,GAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE;AAAS,QAAG,QAAME,IAAE,QAAO,MAAKD,IAAE,WAASA,IAAE,oBAAkBI,GAAE,KAAK,4BAA4B,KAAK,cAAc,GAAE,KAAK,WAAW,EAAE,MAAM,GAAEN,GAAC;AAAG,QAAG,iBAAeG,IAAE,KAAK;AAAO,UAAMO,MAAE,eAAaP,IAAE,OAAKA,IAAE,UAAU,QAAM,eAAaA,IAAE,KAAK,OAAO,OAAKA,IAAE,KAAK,MAAM,WAAS,MAAKM,MAAE,KAAK,4BAA4BC,GAAC;AAAE,IAAAR,IAAE,oBAAkBI,GAAEL,GAAEQ,GAAC,GAAE,KAAK,WAAW,EAAE,MAAM,GAAET,GAAC,GAAE,KAAK,sBAAoBS,IAAE,CAAC,IAAE,IAAGH,GAAEG,KAAE,KAAK,WAAW,EAAE,IAAI,GAAET,GAAC,GAAE,OAAOC,IAAE;AAAA,EAAQ;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,QAAOE,MAAE,KAAK;AAAgB,QAAG,QAAMD,OAAG,cAAYA,IAAE,QAAM,QAAMA,IAAE,QAAM,QAAMA,IAAE,KAAK,aAAW,QAAMA,IAAE,KAAK,SAAO,eAAaA,IAAE,KAAK,MAAM,QAAM,QAAMA,IAAE,KAAK,SAAO,eAAaA,IAAE,KAAK,MAAM,QAAM,QAAMC,IAAE,QAAM,EAAC,SAAQ,OAAG,kBAAiB,QAAM,KAAK,aAAY;AAAE,UAAMO,MAAER,IAAE,KAAK,OAAMO,MAAE,QAAMC,KAAEK,MAAEN,MAAEC,IAAE,WAAS,MAAKL,MAAE,QAAMU,OAAG,QAAM,KAAK;AAAa,IAAAA,OAAGT,GAAE,KAAK,4BAA4BS,GAAC,GAAEZ,KAAEH,GAAC;AAAE,UAAMiB,MAAEf,IAAE,KAAK,OAAO;AAAS,WAAOe,OAAGjB,IAAE,wBAAwB,KAAM,MAAIG,IAAE,cAAc,EAAC,iBAAgBD,IAAEe,GAAC,EAAC,CAAC,CAAE,GAAE,OAAOhB,IAAE,QAAO,EAAC,SAAQQ,KAAE,kBAAiBJ,IAAC;AAAA,EAAC;AAAA,EAAC,kCAAkCL,MAAE,OAAG;AAAC,UAAMC,MAAE,KAAK,iBAAiB;AAAE,WAAO,IAAIG,GAAE,EAAC,UAAS,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,OAAG,SAAQ,KAAE,GAAE,eAAcJ,MAAE,KAAK,kCAAkC,IAAE,KAAK,4BAA4B,GAAE,cAAaE,GAAED,KAAEA,KAAEA,GAAC,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMA,MAAE,KAAK,aAAa,UAAU;AAAM,WAAOgB,GAAE,WAAWhB,GAAC,KAAGS;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,WAAO,KAAK,aAAa,UAAU,OAAO,KAAG;AAAA,EAAC;AAAA,EAAC,oCAAmC;AAAC,UAAMT,MAAE,KAAK,aAAa,QAAQ;AAAM,WAAOgB,GAAE,WAAWhB,GAAC,KAAGS;AAAA,EAAC;AAAA,EAAC,4BAA2B;AAAC,WAAO,KAAK,aAAa,QAAQ,OAAO,KAAG;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,UAAMV,MAAE,KAAK,aAAa;AAAK,WAAO,QAAMA,MAAEQ,GAAER,GAAC,IAAE;AAAA,EAAC;AAAC;AAAv+S,GAAK,2BAAyB,EAAC,gBAAeY,GAAE,UAAS,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ;AAAvI,IAAMU,KAAN;AAAigT,SAASR,GAAEd,KAAE;AAAC,UAAOA,IAAE,MAAK;AAAA,IAAC,KAAI;AAAS,UAAGA,eAAa,EAAE,QAAO,EAAE,WAAWA,GAAC;AAAE;AAAA,IAAM,KAAI;AAAA,IAAU,KAAI;AAAW,aAAOA;AAAA,EAAC;AAAC,SAAO;AAAI;AAAC,SAASM,GAAEN,KAAEC,KAAEC,KAAE;AAAC,UAAMD,OAAGC,IAAE,wBAAwB,KAAM,MAAID,IAAE,cAAc,EAAC,OAAMD,IAAC,CAAC,CAAE;AAAC;AAAC,SAASI,GAAEJ,KAAE;AAAC,SAAO,OAAKA,IAAE,UAAU,OAAO,KAAG,MAAI,OAAKA,IAAE,QAAQ,OAAO,KAAG;AAAE;AAAC,IAAI;AAAJ,IAAM;AAAE,CAAC,SAASA,KAAE;AAAC,EAAAA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,WAAS,CAAC,IAAE;AAAU,EAAE,MAAI,IAAE,CAAC,EAAE,GAAE,SAASA,KAAE;AAAC,EAAAA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,gBAAc,CAAC,IAAE,iBAAgBA,IAAEA,IAAE,gBAAc,CAAC,IAAE,iBAAgBA,IAAEA,IAAE,SAAO,CAAC,IAAE;AAAQ,EAAE,MAAI,IAAE,CAAC,EAAE;;;ACA5tY,IAAMuB,MAAE,EAAC,gBAAe,IAAG;;;ACAmsB,IAAMC,MAAN,cAAgBA,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,8BAA4B,OAAG,KAAK,sBAAoB,CAAC,GAAE,KAAK,+BAA6B,OAAG,KAAK,mCAAiC;AAAA,EAAC;AAAA,EAAC,IAAI,8BAA6B;AAAC,WAAO,KAAK;AAAA,EAA4B;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,8BAA8B;AAAA,EAAC;AAAA,EAAC,2BAA2BC,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,+BAA6B,KAAK,6BAA6B;AAAO,SAAK,8BAA8B,GAAE,KAAK,+BAA6B;AAAG,UAAK,EAAC,aAAYC,IAAC,IAAE,MAAKC,MAAED,IAAE,WAAW,MAAM;AAAE,IAAAA,IAAE,oBAAoB;AAAE,UAAME,MAAEC,GAAEC,KAAEJ,IAAE,cAAc,GAAEK,MAAEN,IAAE,UAAUG,GAAC;AAAE,eAAUI,OAAKL,KAAE;AAAC,YAAMF,MAAED,IAAEQ,IAAE,QAAQ,GAAEL,MAAEK,IAAE,YAAY,EAAC,UAASP,IAAC,CAAC;AAAE,MAAAE,IAAE,cAAYI,KAAEL,IAAE,YAAYC,GAAC;AAAA,IAAC;AAAC,SAAK,sBAAoBA;AAAA,EAAC;AAAA,EAAC,gCAAgCK,KAAE;AAAC,SAAK,8BAA8B,GAAE,KAAK,mCAAiC,WAAY,MAAI;AAAC,WAAK,mCAAiC,GAAEA,IAAE;AAAA,IAAC,GAAGR,IAAE,cAAc;AAAA,EAAC;AAAA,EAAC,sCAAsCQ,KAAE;AAAC,SAAK,oCAAkC,KAAK,gCAAgCA,GAAC;AAAA,EAAC;AAAA,EAAC,gCAA+B;AAAC,iBAAa,KAAK,gCAAgC,GAAE,KAAK,mCAAiC;AAAA,EAAC;AAAA,EAAC,4BAA4BA,KAAE;AAAC,QAAG,CAAC,KAAK,6BAA6B;AAAO,SAAK,8BAA8B,GAAE,KAAK,+BAA6B;AAAG,UAAK,EAAC,aAAYR,IAAC,IAAE,MAAKC,MAAED,IAAE,WAAW,IAAK,CAAAA,QAAGQ,IAAER,IAAE,QAAQ,CAAE;AAAE,IAAAA,IAAE,oBAAoB;AAAE,aAAQE,MAAE,GAAEA,MAAE,KAAK,oBAAoB,QAAOA,OAAI;AAAC,YAAMM,MAAE,KAAK,oBAAoBN,GAAC,GAAEC,MAAEF,IAAEC,GAAC;AAAE,MAAAC,IAAE,cAAc,EAAC,qBAAoB,KAAI,CAAC,GAAEA,QAAIK,IAAE,WAASR,IAAE,YAAYQ,GAAC,IAAER,IAAE,YAAYQ,IAAE,YAAY,EAAC,UAASL,IAAC,CAAC,CAAC;AAAA,IAAC;AAAC,SAAK,oBAAoB,SAAO;AAAA,EAAC;AAAA,EAAC,sBAAsBH,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,6BAA6B;AAAO,UAAK,EAAC,aAAYC,IAAC,IAAE;AAAK,QAAG,MAAIA,IAAE,WAAW,OAAO;AAAO,UAAMI,MAAEJ,IAAE,WAAW,CAAC,EAAE,aAAYM,MAAEJ,GAAEC,KAAEN,GAAC,GAAEU,MAAER,IAAE,UAAUO,GAAC;AAAE,QAAGC,QAAIH,IAAE;AAAO,UAAMI,MAAEV,KAAG,eAAaE;AAAE,IAAAA,IAAE,uBAAqB,MAAKA,IAAE,iBAAeH,KAAEG,IAAE,WAAW,QAAS,CAAAK,QAAG;AAAC,MAAAA,IAAE,iBAAeG,KAAEH,IAAE,cAAYE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,gBAAgBF,KAAEN,KAAEC,KAAE;AAAC,UAAK,EAAC,aAAYI,IAAC,IAAE,MAAKE,MAAEP,KAAG,eAAaC;AAAE,QAAG,CAAC,KAAK,6BAA6B,QAAOI,IAAE,uBAAqB,MAAKA,IAAE,iBAAeC,KAAED,IAAE,WAAW,QAAS,CAAAC,QAAGA,IAAE,iBAAeC,GAAE,GAAE,KAAK,KAAK,qBAAqBN,GAAC;AAAE,UAAMO,MAAEH,IAAE,gBAAeI,MAAEJ,IAAE,WAAW,CAAC,EAAE,gBAAeK,MAAEJ,KAAEK,MAAEJ,KAAEK,MAAEA,GAAEC,KAAEL,KAAEC,GAAC,GAAEK,MAAEF,GAAEG,IAAEL,KAAEC,GAAC,GAAEd,MAAEe,GAAEI,IAAEF,KAAEA,GAAEE,IAAEP,GAAC,CAAC;AAAE,IAAAJ,IAAE,uBAAqBR,KAAE,KAAK,+BAA+B,EAAC,MAAKe,KAAE,MAAKE,IAAC,CAAC,GAAE,KAAK,qBAAqBb,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBK,KAAEP,KAAEE,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,6BAA6B,QAAO,KAAK,MAAM,mBAAmBI,KAAEP,KAAEE,KAAEC,GAAC;AAAE,YAAMD,OAAGQ,IAAE,KAAK,iBAAiB,8BAA6BR,GAAC;AAAE,UAAMI,MAAE,CAACP,KAAEE,QAAIY,IAAEd,KAAEQ,KAAE,KAAK,kBAAiBP,KAAEC,GAAC,GAAE,EAAC,aAAYO,IAAC,IAAE;AAAK,QAAG,CAACA,IAAE,WAAW,CAAC,EAAE,SAAS,WAAW,oBAAoB;AAAO,UAAMC,MAAED,IAAE,gBAAeK,MAAEL,IAAE,WAAW,CAAC,EAAE,gBAAeO,MAAEF,GAAEC,KAAEL,KAAEI,GAAC,GAAEf,MAAEU,IAAE,yBAAwBH,MAAEG,GAAEU,KAAEpB,GAAC;AAAE,SAAK,0BAAwBA,IAAE,MAAK,KAAK,kBAAiBS,IAAE,kBAAiBD,KAAEN,KAAEK,GAAC,GAAEG,IAAE,uBAAqBH;AAAE,UAAMY,MAAET,IAAE,WAAW,CAAC,EAAE,gBAAeW,MAAEN,GAAEG,IAAEX,KAAEY,GAAC;AAAE,SAAK,+BAA+B,EAAC,MAAKF,KAAE,MAAKI,IAAC,CAAC,GAAE,KAAK,qBAAqBhB,GAAC;AAAA,EAAC;AAAA,EAAC,+BAA+B,EAAC,MAAKI,KAAE,MAAKN,IAAC,GAAE;AAAC,UAAK,EAAC,aAAYE,IAAC,IAAE;AAAK,QAAG,MAAIA,IAAE,WAAW,OAAO;AAAO,UAAMG,MAAEH,IAAE,WAAW,CAAC,EAAE,aAAYM,MAAEW,GAAEC,IAAEhB,GAAEA,KAAEC,IAAE,MAAK,EAAE,CAAC,GAAEI,MAAEG,GAAEM,IAAEV,KAAEF,GAAC,GAAEI,MAAEE,GAAES,KAAEb,KAAER,GAAC,GAAEW,MAAEG,GAAEI,IAAET,GAAC,GAAEG,MAAEA,GAAES,KAAEX,KAAEC,GAAC;AAAE,eAAUb,OAAKI,IAAE,WAAW,CAAAJ,IAAE,SAAS,cAAc,EAAC,qBAAoBc,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBN,KAAE;AAAC,UAAK,EAAC,aAAYR,KAAE,aAAYC,IAAC,IAAE;AAAK,IAAAA,IAAE,MAAM,SAAS,aAAc,CAAAA,QAAG;AAAC,MAAAA,IAAE,iCAAiCD,GAAC,KAAG,KAAK,gBAAgBQ,GAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAC;AAAC,IAAMF,MAAEG,GAAE;AAAV,IAAYM,MAAEf,IAAE;AAAhB,IAAkBiB,KAAEjB,IAAE;AAAtB,IAAwBmB,MAAEnB,IAAE;AAA5B,IAA8BkB,KAAElB,IAAE;AAAlC,IAAoCoB,KAAEpB,IAAE;AAAxC,IAA0CuB,MAAEvB,IAAE;AAA9C,IAAgDsB,KAAEtB,IAAE;;;ACAhtI,IAAMwB,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,kCAAgC,oBAAI,OAAI,KAAK,gCAA8B,oBAAI,OAAI,KAAK,yBAAuB;AAAA,EAAC;AAAA,EAAC,OAAOA,KAAEC,KAAEC,KAAE;AAAC,IAAAF,IAAE,2BAA4B,CAAAA,QAAG;AAAC,UAAG,KAAK,0BAAwB,GAAE;AAAC,YAAG,KAAK,gCAAgC,IAAIA,GAAC,EAAE,QAAOA;AAAE,cAAMG,MAAEF,IAAE,WAAWD,GAAC;AAAE,eAAO,KAAK,gCAAgC,IAAIA,KAAEG,GAAC,GAAEF,IAAE,OAAOD,GAAC,GAAEA;AAAA,MAAC;AAAC,YAAMI,MAAE,IAAIC,GAAEL,IAAE,YAAWE,GAAC;AAAE,aAAO,KAAK,8BAA8B,IAAIE,KAAEJ,GAAC,GAAEI;AAAA,IAAC,GAAGF,IAAE,kBAAkB;AAAA,EAAC;AAAA,EAAC,QAAQC,KAAEH,KAAE;AAAC,UAAMC,MAAE,oBAAI,OAAIC,MAAE,oBAAI;AAAI,IAAAC,IAAE,4BAA6B,CAAAA,QAAG;AAAC,UAAG,CAAC,KAAK,8BAA8B,IAAIA,GAAC,GAAE;AAAC,cAAMC,MAAED,KAAEG,MAAE,KAAK,gCAAgC,IAAIF,GAAC;AAAE,eAAOJ,IAAE,IAAIM,IAAE,GAAG,KAAGL,IAAE,IAAIG,GAAC,GAAEJ,IAAE,MAAMM,IAAE,GAAG,EAAE,aAAWJ,IAAE,IAAIE,GAAC,GAAEE,IAAE;AAAA,MAAS;AAAC,YAAMF,MAAED,KAAEG,MAAE,KAAK,8BAA8B,IAAIF,GAAC;AAAE,aAAO,KAAK,8BAA8B,OAAOA,GAAC,GAAEE;AAAA,IAAC,CAAE;AAAE,eAAUF,OAAKH,IAAE,MAAK,gCAAgC,OAAOG,GAAC;AAAE,eAAUA,OAAKF,KAAE;AAAC,YAAMC,MAAE,KAAK,gCAAgC,IAAIC,GAAC;AAAE,WAAK,gCAAgC,OAAOA,GAAC,GAAEJ,IAAE,IAAIG,IAAE,KAAIA,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,SAAK;AAAA,EAAwB;AAAA,EAAC,gBAAgBA,KAAEH,KAAE;AAAC,SAAK,0BAAyB,KAAK,QAAQG,KAAEH,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBG,KAAE;AAAC,SAAK,gCAAgC,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBA,KAAE;AAAC,SAAK,8BAA8B,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,8BAA8B,MAAM,GAAE,KAAK,gCAAgC,MAAM;AAAA,EAAC;AAAC;AAAC,IAAMF,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,SAAO,oBAAI,OAAI,KAAK,cAAY,oBAAI;AAAA,EAAG;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,MAAM,KAAK,KAAK,OAAO,OAAO,GAAG,CAAAE,QAAGA,IAAE,QAAS;AAAA,EAAC;AAAA,EAAC,MAAMA,KAAE;AAAC,WAAO,KAAK,OAAO,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,WAAO,KAAK,YAAY,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAIA,KAAEH,KAAE;AAAC,SAAK,OAAO,IAAIG,KAAEH,GAAC,GAAE,KAAK,YAAY,IAAIA,IAAE,UAASA,GAAC;AAAA,EAAC;AAAA,EAAC,OAAOG,KAAE;AAAC,UAAMH,MAAE,KAAK,YAAY,IAAIG,GAAC,GAAG;AAAI,IAAAH,QAAI,KAAK,OAAO,OAAOA,GAAC,GAAE,KAAK,YAAY,OAAOG,GAAC;AAAA,EAAE;AAAA,EAAC,IAAIA,KAAE;AAAC,WAAO,KAAK,OAAO,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,SAAK,OAAO,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,OAAO,MAAM,GAAE,KAAK,YAAY,MAAM;AAAA,EAAC;AAAC;;;ACAlzC,IAAMI,KAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMD,KAAEC,KAAE,IAAIC,IAAEC,KAAG,MAAI,OAAO,+BAAsB,CAAE,CAAC,GAAE,KAAK,gBAAcC,GAAE;AAAA,EAAK;AAAA,EAAC,mBAAmBC,KAAE;AAAC,UAAK,EAAC,cAAaJ,KAAE,QAAOK,KAAE,aAAYC,IAAC,IAAEF,KAAEP,MAAE,CAACE,KAAEK,MAAE,MAAKC,MAAE,SAAOE,GAAE,EAAC,UAASH,KAAE,WAAUA,KAAE,YAAWC,KAAE,YAAWP,IAAE,cAAaE,MAAED,MAAE,MAAK,aAAYC,MAAED,MAAEM,MAAEG,KAAE,KAAI,CAAC;AAAE,WAAOF,IAAED,GAAC,KAAG,KAAK,oBAAkBR,IAAE,MAAGS,MAAEG,KAAE,MAAKP,GAAC,GAAEL,IAAE,OAAGS,MAAEG,KAAE,MAAKP,GAAC,KAAGL,IAAE,KAAE;AAAA,EAAC;AAAA,EAAC,YAAYE,KAAE;AAAC,WAAOA,MAAE,KAAK,oBAAkB,MAAM,YAAY;AAAA,EAAC;AAAC;;;ACAv3B,IAAMW,MAAN,cAAgBC,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,kBAAgB,OAAG,KAAK,cAAY,OAAG,KAAK,eAAa,OAAG,KAAK,SAAO;AAAA,EAAE;AAAC;AAAC,EAAE,CAACC,IAAE,CAAC,GAAEF,IAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACE,IAAE,CAAC,GAAEF,IAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAACE,IAAE,CAAC,GAAEF,IAAE,WAAU,gBAAe,MAAM;;;ACAwhC,IAAMG,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,KAAEC,EAAC,GAAE,KAAK,iBAAe,IAAIC,OAAE,KAAK,WAAS,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAgB,CAAAH,QAAGI,GAAEJ,GAAC,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBA,KAAEK,KAAE;AAAC,WAAO,MAAM,iBAAiBL,KAAEK,KAAE,KAAK,cAAc,GAAE,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,kBAAgB,KAAK,WAAW,iBAAgB,KAAK,eAAe,cAAY,KAAK,WAAW,MAAM,CAAC,IAAE,KAAG,KAAK,WAAW,QAAM,GAAE,KAAK,eAAe,eAAaA,IAAE,cAAa,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,WAAW,MAAM,CAAC,KAAGC;AAAA,EAAC;AAAA,EAAC,UAAUD,KAAEH,KAAEK,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAEJ,IAAE;AAAO,QAAG,CAACA,IAAE,QAAQ,iBAAe,CAACF,IAAE,WAAS,CAACM,IAAE;AAAO,QAAG,CAACC,GAAEV,GAAC,EAAE,QAAO,KAAK,EAAE,UAAU,yDAAyD,EAAE,MAAM,gDAAgD;AAAE,UAAMW,KAAER,IAAE,WAAW,IAAIL,IAAE,QAAQ,EAAE,MAAKc,MAAEC;AAAE,IAAAV,IAAES,KAAEP,IAAE,KAAK;AAAE,UAAMS,KAAE;AAAE,IAAAV,GAAEW,GAAE,CAAC,GAAEH,IAAE,CAAC,IAAEE,IAAEF,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAEV,GAAEW,GAAE,CAAC,GAAEH,IAAE,CAAC,IAAEE,IAAEF,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAEV,GAAEW,GAAE,CAAC,GAAEH,IAAE,CAAC,IAAEE,IAAEF,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAEV,GAAEW,GAAE,CAAC,GAAEH,IAAE,CAAC,IAAEE,IAAEF,IAAE,CAAC,IAAEE,IAAE,CAAC;AAAE,aAAQhB,MAAE,GAAEA,MAAE,GAAEA,MAAI,KAAG,CAACW,IAAE,0BAA0BM,GAAEjB,GAAC,GAAEkB,GAAElB,GAAC,CAAC,EAAE;AAAO,IAAAQ,GAAEG,IAAE,KAAIO,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEC,EAAC,GAAEX,GAAEG,IAAE,KAAIO,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAE,CAAC,GAAEV,GAAEG,IAAE,KAAIO,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAE,EAAE,GAAEV,GAAEG,IAAE,KAAIO,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAE,EAAE;AAAE,QAAIE,MAAE,OAAO,WAAUC,MAAE;AAAE,aAAQrB,MAAE,GAAEA,MAAEa,GAAE,SAAO,GAAEb,OAAG,GAAE;AAAC,UAAGsB,GAAE,CAAC,IAAET,GAAEb,GAAC,IAAEE,IAAE,EAAE,GAAEoB,GAAE,CAAC,IAAET,GAAEb,MAAE,CAAC,IAAEE,IAAE,EAAE,GAAEoB,GAAE,CAAC,IAAET,GAAEb,MAAE,CAAC,IAAEE,IAAE,EAAE,GAAEqB,GAAE,CAAC,IAAEV,GAAEb,MAAE,CAAC,IAAEE,IAAE,EAAE,GAAEqB,GAAE,CAAC,IAAEV,GAAEb,MAAE,CAAC,IAAEE,IAAE,EAAE,GAAEqB,GAAE,CAAC,IAAEV,GAAEb,MAAE,CAAC,IAAEE,IAAE,EAAE,GAAEsB,GAAEL,IAAEG,EAAC,IAAE,KAAGE,GAAEL,IAAEI,EAAC,IAAE,KAAGC,GAAE,GAAEF,EAAC,IAAE,KAAGE,GAAE,GAAED,EAAC,IAAE,KAAGC,GAAE,IAAGF,EAAC,IAAE,KAAGE,GAAE,IAAGD,EAAC,IAAE,KAAGC,GAAE,IAAGF,EAAC,IAAE,KAAGE,GAAE,IAAGD,EAAC,IAAE,EAAE;AAAS,UAAGZ,IAAE,sBAAsBW,IAAEG,EAAC,GAAEd,IAAE,sBAAsBY,IAAEG,EAAC,GAAED,GAAE,CAAC,IAAE,KAAGC,GAAE,CAAC,IAAE,GAAE;AAAC,QAAAC,GAAEC,IAAEN,IAAEC,EAAC;AAAE,cAAMvB,MAAEW,IAAE,SAAQN,MAAE,CAACmB,GAAExB,IAAES,GAAE,IAAI,GAAEa,EAAC,IAAEO,GAAED,IAAE,EAAE5B,IAAES,GAAE,IAAI,CAAC,CAAC;AAAE,QAAAL,GAAEwB,IAAEA,IAAEvB,GAAC,GAAEE,IAAEe,IAAEA,IAAEM,EAAC,GAAEjB,IAAE,sBAAsBW,IAAEG,EAAC;AAAA,MAAC,WAASA,GAAE,CAAC,IAAE,KAAGC,GAAE,CAAC,IAAE,GAAE;AAAC,QAAAC,GAAEC,IAAEL,IAAED,EAAC;AAAE,cAAMtB,MAAEW,IAAE,SAAQN,MAAE,CAACmB,GAAExB,IAAES,GAAE,IAAI,GAAEc,EAAC,IAAEM,GAAED,IAAE,EAAE5B,IAAES,GAAE,IAAI,CAAC,CAAC;AAAE,QAAAL,GAAEwB,IAAEA,IAAEvB,GAAC,GAAEE,IAAEgB,IAAEA,IAAEK,EAAC,GAAEjB,IAAE,sBAAsBY,IAAEG,EAAC;AAAA,MAAC,WAASD,GAAE,CAAC,IAAE,KAAGC,GAAE,CAAC,IAAE,EAAE;AAAS,MAAAD,GAAE,CAAC,IAAE,GAAEC,GAAE,CAAC,IAAE;AAAE,YAAMrB,MAAEyB,GAAEC,GAAEN,IAAEC,IAAEM,EAAC,GAAElB,GAAC;AAAE,MAAAT,MAAEe,QAAIA,MAAEf,KAAE4B,GAAEC,IAAEZ,EAAC,GAAEW,GAAEE,IAAEZ,EAAC,GAAEF,MAAErB,MAAE;AAAA,IAAE;AAAC,UAAMoC,MAAE7B,IAAE,UAAS8B,MAAE9B,IAAE;AAAO,QAAGa,MAAEJ,KAAEA,IAAE;AAAC,UAAIhB,MAAE,OAAO;AAAU,UAAG,EAAE+B,GAAEG,IAAEC,IAAEH,EAAC,GAAED,GAAEK,KAAEC,KAAEC,EAAC,GAAEC,EAAC,GAAE;AAAC,QAAAZ,GAAEY,IAAEA,IAAEH,GAAC;AAAE,cAAM/B,MAAEA,GAAEkC,EAAC;AAAE,QAAAnC,GAAEmC,IAAEA,IAAE,IAAElC,GAAC,GAAEL,MAAEK,MAAEG,GAAE4B,KAAEC,GAAC;AAAA,MAAC;AAAC,MAAA3B,IAAEV,KAAEuC,IAAElB,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBrB,KAAEE,KAAEI,KAAE2B,KAAEO,KAAE;AAAC,QAAG,CAACtC,IAAE,QAAQ,cAAc;AAAO,UAAMuC,MAAEzC,IAAE,WAAW,IAAIA,IAAE,QAAQ,EAAE,MAAKD,MAAEC,IAAE,WAAW,IAAIA,IAAE,IAAI,GAAE2B,MAAE5B,MAAEA,IAAE,KAAK,CAAC,IAAE,GAAEa,MAAEN,IAAE,CAAC,GAAEoC,MAAEpC,IAAE,CAAC,GAAEqC,QAAIhB,MAAE,KAAG,IAAE,KAAG3B,IAAE;AAAmB,QAAIO,MAAE,OAAO,WAAUC,MAAE;AAAE,aAAQuB,MAAE,GAAEA,MAAEU,IAAE,SAAO,GAAEV,OAAG,GAAE;AAAC,YAAM/B,MAAEyC,IAAEV,GAAC,GAAE7B,MAAEuC,IAAEV,MAAE,CAAC,GAAEzB,MAAEM,MAAEZ,KAAEiC,MAAES,MAAExC,KAAEsC,MAAEC,IAAEV,MAAE,CAAC,IAAE/B,KAAED,MAAE0C,IAAEV,MAAE,CAAC,IAAE7B,KAAEyB,MAAEtB,IAAGmC,MAAElC,MAAEP,MAAEkC,QAAIO,MAAEA,MAAEzC,MAAEA,MAAG,GAAE,CAAC,GAAE4C,MAAEH,MAAEb,MAAErB,KAAEF,MAAEL,MAAE4B,MAAEM,KAAEW,MAAED,MAAEA,MAAEvC,MAAEA;AAAE,MAAAwC,MAAErC,QAAIA,MAAEqC,KAAEpC,MAAEuB,MAAE;AAAA,IAAE;AAAC,IAAAxB,MAAEoC,MAAEA,OAAGV,IAAEO,IAAE,UAASA,IAAE,QAAOhC,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBR,KAAE;AAAC,WAAO,IAAI6C,GAAE7C,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMA,MAAE,KAAK,WAAW,kBAAgB2C,MAAEE;AAAE,WAAO,IAAIF,GAAE3C,GAAC;AAAA,EAAC;AAAC;AAAC,IAAM6C,KAAN,cAAgB7C,IAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,WAAO,KAAK,aAAa4C,IAAE5C,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,cAAgB2C,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,QAAMX,IAAE,KAAK,kBAAgB,OAAG,KAAK,gBAAc,OAAG,KAAK,QAAM;AAAA,EAAC;AAAC;AAAC,IAAMX,KAAEvB,GAAE;AAAV,IAAYwB,KAAExB,GAAE;AAAhB,IAAkB6B,KAAE7B,GAAE;AAAtB,IAAwBwC,KAAExC,GAAE;AAA5B,IAA8B0B,KAAEd,GAAE;AAAlC,IAAoCe,KAAEf,GAAE;AAAxC,IAA0CuB,KAAEnC,GAAE;AAA9C,IAAgDoC,KAAEpC,GAAE;AAApD,IAAsDiC,KAAEhB,GAAE;AAA1D,IAA4DsB,KAAEtB,GAAE;AAAhE,IAAkED,KAAEhB,GAAE;AAAtE,IAAwEkB,KAAE,CAACN,GAAE,GAAEA,GAAE,GAAEA,GAAE,GAAEA,GAAE,CAAC;AAA1F,IAA4FO,KAAE,CAACnB,GAAE,GAAEA,GAAE,GAAEA,GAAE,GAAEA,GAAE,CAAC;AAA9G,IAAgHoB,KAAEW,GAAE;AAApH,IAAsH,IAAEA,GAAE;AAA1H,IAA4H,KAAGA,GAAE;AAAjI,IAAmI,KAAGA,GAAE;;;ACA0b,IAAM,KAAG,CAAC,MAAM;AAAE,IAAM,KAAN,cAAiBgB,GAAE;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,KAAE,GAAGF,GAAC,CAAC,GAAE,KAAK,qBAAmB,IAAID,OAAG,KAAK,uBAAqB,IAAIC,OAAG,KAAK,YAAU,oBAAI,OAAI,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,IAAAA,IAAG,+BAA6B,KAAK,6BAA2B,IAAIG,GAAG,EAAC,OAAM,CAAC,GAAE,GAAE,GAAE,CAAC,EAAC,CAAC,GAAE,KAAK,8BAA4B,IAAIA,GAAG,EAAC,OAAM,CAAC,GAAE,KAAG,GAAE,CAAC,EAAC,CAAC,GAAE,KAAK,2BAAyB,IAAIA,GAAG,EAAC,OAAM,CAAC,GAAE,GAAE,GAAE,CAAC,EAAC,CAAC,IAAG,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,UAAU,QAAS,CAAAJ,QAAGA,IAAE,OAAO,CAAE,GAAE,KAAK,SAAS,MAAM,eAAe,MAAM,KAAK,KAAK,UAAU,OAAO,CAAC,CAAC,GAAE,KAAK,mBAAmB,MAAM,GAAE,KAAK,UAAU,MAAM,GAAE,KAAK,qBAAqB,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK,mBAAmB;AAAA,EAAS;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAAS,IAAG,iBAAiB,EAAE,QAAO;AAAK,UAAMC,MAAE,KAAK,2BAA2BD,GAAC,GAAEE,MAAEH,IAAE;AAAc,WAAO,KAAK,iBAAiBC,KAAEE,KAAED,KAAED,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,gBAAgBD,KAAE;AAAC,SAAK,qBAAqB,gBAAgBA,KAAE,KAAK,kBAAkB;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,iBAAiB;AAAE,SAAK,0BAA2B,CAAAF,QAAG;AAAC,MAAAA,IAAE,SAAS,cAAc,EAAC,cAAaE,IAAC,CAAC;AAAE,YAAMD,MAAED,IAAE,SAAS;AAAW,WAAK,6BAA6BC,KAAED,GAAC;AAAA,IAAC,CAAE,GAAEA,KAAG,QAAS,CAAAA,QAAGC,IAAED,GAAC,GAAG,oBAAoBE,KAAE,KAAK,SAAS,OAAO,CAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BF,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEI,GAAE;AAAA,EAAC;AAAA,EAAC,yBAAyBL,KAAEC,KAAE;AAAC,WAAO,KAAK,0BAA2B,CAAC,EAAC,UAASD,IAAC,MAAI;AAAC,MAAAA,IAAE,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAA,IAAC,CAAE,GAAEA,KAAG,QAAS,CAAAA,QAAGC,IAAED,GAAC,GAAG,yBAAyB,KAAK,SAAS,mBAAkB,KAAK,SAAS,OAAO,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,UAAMA,MAAE,KAAK,QAAQ;AAAE,WAAO,KAAK,0BAA2B,CAAC,EAAC,UAASC,IAAC,MAAIA,IAAE,cAAc,EAAC,QAAOD,IAAC,CAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gBAAgBA,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAACH,IAAE,4BAA4B,QAAM;AAAG,UAAMM,MAAEN,IAAE;AAA4B,YAAOG,KAAE;AAAA,MAAC,KAAKG,IAAG;AAAkB,YAAGA,IAAE,QAAM;AAAG;AAAA,MAAM,KAAKA,IAAG;AAAmB,YAAG,CAACA,IAAE,QAAM;AAAG;AAAA,MAAM;AAAQ,YAAG,CAACA,IAAE,QAAM,CAAC,CAAC,KAAK,gBAAgBN,KAAEC,KAAEC,KAAEI,IAAG,iBAAiB,MAAIN,IAAE,gCAAiC,MAAI,KAAK,gBAAgBA,KAAEC,KAAEC,KAAEI,IAAG,kBAAkB,CAAE,GAAE;AAAA,IAAG;AAAC,UAAMC,MAAE,KAAK,SAAS,mBAAmB,kBAAiBC,MAAEC,KAAG,EAAC,QAAOC,KAAE,WAAUC,IAAC,IAAET;AAAE,QAAG,CAACU,GAAEX,KAAEE,GAAEU,KAAGH,IAAE,GAAEA,IAAE,GAAEA,IAAE,KAAG,CAAC,GAAEF,KAAED,GAAC,EAAE,QAAM;AAAG,YAAOJ,KAAE;AAAA,MAAC,KAAKG,IAAG;AAAkB,aAAK,qBAAqB,OAAON,KAAE,KAAK,oBAAmB,KAAK,QAAQ;AAAE;AAAA,MAAM,KAAKM,IAAG;AAAmB,aAAK,qBAAqB,QAAQN,KAAE,KAAK,kBAAkB;AAAE;AAAA,MAAM,KAAKM,IAAG;AAAsB,QAAAN,IAAE,sBAAsBQ,KAAEG,KAAE,KAAK,SAAS,kBAAkB;AAAA,IAAC;AAAC,UAAK,EAAC,kBAAiBG,IAAC,IAAEd;AAAE,IAAAc,IAAE,2BAAyB,KAAK,6BAA6BN,GAAC;AAAE,UAAK,EAAC,mBAAkBO,KAAE,oBAAmBH,IAAC,IAAE,KAAK,UAASI,MAAE,CAAChB,KAAEC,QAAIa,IAAGd,KAAEe,KAAED,KAAEF,KAAEX,GAAC;AAAE,WAAOD,IAAE,0BAAwBiB,IAAGjB,KAAEc,KAAEC,IAAE,kBAAiBC,KAAEJ,KAAEJ,GAAC,GAAER,IAAE,gBAAgBQ,KAAEG,KAAE,KAAK,SAAS,OAAO,GAAEX,IAAE,sCAAuC,MAAI,KAAK,gBAAgBA,KAAEC,KAAEC,KAAEI,IAAG,kBAAkB,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,oBAAmB;AAAC,QAAG,CAAC,KAAK,aAAW,MAAI,KAAK,UAAU,KAAK,QAAO,MAAM,kBAAkB;AAAE,QAAIN,MAAE;AAAE,eAAUG,OAAK,KAAK,UAAU,OAAO,EAAE,CAAAH,OAAGG,IAAE;AAAW,UAAMF,MAAE,EAAC,GAAGiB,GAAG,KAAK,QAAO,KAAK,WAAW,GAAE,eAAclB,IAAC,GAAEE,MAAEY,GAAG,KAAK,WAAW,IAAE,IAAE;AAAE,WAAO,IAAId,IAAG,EAAC,qBAAoBE,KAAE,QAAOD,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,WAAO,KAAK,kBAAkB,SAAO,KAAK,kBAAkB;AAAA,EAAO;AAAA,EAAC,2BAA2BD,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,4BAA4B,GAAEC,MAAE,CAAC,CAACH,IAAE,iBAAiB,OAAMM,MAAE,CAAC,CAACN,IAAE,iBAAiB;AAAQ,WAAM,EAAC,uBAAsBE,KAAE,iBAAgBC,KAAE,mBAAkBG,KAAE,KAAI,MAAMH,GAAC,OAAOG,GAAC,OAAOL,GAAC,QAAQC,GAAC,GAAE;AAAA,EAAC;AAAA,EAAC,oBAAoBF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,2BAA2BH,KAAEE,GAAC;AAAE,QAAG,CAACD,IAAE,SAAS,QAAOE;AAAE,UAAK,EAAC,OAAMG,KAAE,cAAaC,KAAE,uBAAsBC,KAAE,eAAcE,KAAE,wBAAuBC,KAAE,aAAYG,KAAE,aAAYC,KAAE,WAAUH,IAAC,IAAEX,IAAE,UAASe,MAAE,GAAGV,GAAC,GAAEW,MAAE,GAAGV,GAAC,GAAEY,MAAE,GAAGX,GAAC,GAAEY,MAAE,GAAGV,GAAC,GAAEL,MAAE,GAAGM,GAAC;AAAE,QAAGR,IAAE,QAAMG,KAAEH,IAAE,eAAaI,KAAEJ,IAAE,gBAAcO,KAAEP,IAAE,MAAI,GAAGA,IAAE,GAAG,UAAUa,GAAC,WAAWC,GAAC,WAAWE,GAAC,WAAWC,GAAC,WAAWf,GAAC,OAAOS,GAAC,OAAOC,GAAC,OAAOH,GAAC,IAAGX,IAAE,oBAAoBc,KAAE;AAAC,YAAK,EAAC,UAASf,KAAE,WAAUE,KAAE,0BAAyBI,KAAE,mCAAkCC,KAAE,eAAcG,KAAE,iBAAgBI,KAAE,0BAAyBC,KAAE,kBAAiBH,KAAE,2BAA0BI,IAAC,IAAEf,IAAE,UAASgB,MAAE,GAAGX,GAAC,GAAEa,MAAE,GAAGZ,GAAC,GAAEa,MAAE,GAAGV,GAAC,GAAEL,MAAE,GAAGS,GAAC,GAAEO,KAAE,GAAGN,GAAC,GAAEO,MAAE,GAAGV,GAAC,GAAEb,MAAE,GAAGiB,GAAC;AAAE,MAAAb,IAAE,WAASH,KAAEG,IAAE,YAAUD,KAAEC,IAAE,2BAAyBG,KAAEH,IAAE,gBAAcO,KAAEP,IAAE,kBAAgBW,KAAEX,IAAE,mBAAiBS,KAAET,IAAE,wBAAsB,GAAGK,GAAC,GAAEL,IAAE,yBAAuB,GAAGQ,GAAC,GAAER,IAAE,2BAAyB,GAAGY,GAAC,GAAEZ,IAAE,4BAA0B,GAAGa,GAAC,GAAEb,IAAE,oCAAkC,GAAGI,GAAC,GAAEJ,IAAE,MAAI,GAAGA,IAAE,GAAG,QAAQH,GAAC,QAAQE,GAAC,QAAQe,GAAC,SAASE,GAAC,UAAUC,GAAC,WAAWf,GAAC,QAAQgB,EAAC,WAAWC,GAAC,QAAQvB,GAAC;AAAA,IAAE;AAAC,WAAOI;AAAA,EAAC;AAAA,EAAC,oBAAoBH,KAAEC,MAAE,OAAGK,MAAEI,GAAG,QAAO;AAAC,UAAMH,MAAE,GAAGP,GAAC;AAAE,QAAG,CAACO,IAAE,QAAO;AAAK,UAAMC,MAAE,GAAGR,IAAE,WAAW,IAAIM,GAAC;AAAG,QAAII,MAAE,KAAK,UAAU,IAAIF,GAAC;AAAE,QAAGE,KAAE;AAAC,YAAMV,MAAE,KAAK,SAAS,MAAM,WAAW;AAAS,UAAIC,MAAE;AAAK,YAAMK,MAAEN,IAAE,QAAQU,IAAE,EAAE;AAAE,aAAO,QAAMJ,OAAG,EAAEA,GAAC,MAAII,IAAE,OAAO,GAAG,YAAY,MAAIT,MAAE,EAAEA,GAAC,CAAE,GAAEA,MAAEK,MAAGI;AAAA,IAAC;AAAC,QAAIC,MAAE;AAAK,UAAMG,MAAE,KAAK,SAAS,MAAM,WAAW,iBAAiB,WAAW,kBAAiBC,MAAE,EAAC,MAAK,GAAGf,IAAE,IAAI,GAAE,cAAa,MAAG,eAAcc,KAAE,QAAOA,MAAE,EAAC;AAAE,WAAON,IAAGD,GAAC,KAAGI,MAAEJ,IAAE,MAAKQ,IAAE,mBAAiB,OAAGA,IAAE,WAASR,IAAE,aAAWI,MAAEJ,KAAEQ,IAAE,mBAAiBT,QAAII,GAAG,QAAOK,IAAE,qBAAmBd,MAAE,EAAC,oBAAmB,KAAK,SAAS,oBAAmB,qBAAoB,MAAI,KAAK,iBAAiB,EAAC,IAAE,SAAQS,MAAE,IAAIa,GAAGZ,KAAEI,GAAC,GAAE,KAAK,UAAU,IAAIP,KAAEE,GAAC,GAAEA,IAAE,OAAO,GAAG,UAAU,MAAI,KAAK,iBAAiB,CAAE,GAAEA,IAAE,KAAK,KAAK,SAAS,MAAM,WAAW,gBAAgB,GAAE,KAAK,SAAS,MAAM,WAAWA,GAAC,GAAEA,IAAE,OAAO,GAAG,YAAY,MAAI;AAAC,WAAK,UAAU,OAAOF,GAAC;AAAA,IAAC,CAAE,GAAEE;AAAA,EAAC;AAAA,EAAC,sCAAsCT,KAAEC,KAAE;AAAC,QAAG,QAAMD,IAAE,cAAa;AAAC,YAAMD,MAAEE,IAAE,qBAAmBQ,GAAG,QAAOP,MAAE,KAAK,oBAAoBF,IAAE,cAAaD,KAAEE,IAAE,gBAAgB;AAAE,MAAAC,OAAGD,IAAE,YAAUC,IAAE,IAAGD,IAAE,4BAA0B,CAAC,CAACC,IAAE,WAAW,oBAAkBD,IAAE,YAAU;AAAA,IAAM;AAAC,IAAAD,IAAE,kBAAgBC,IAAE,kBAAgB,KAAK,oBAAoBD,IAAE,aAAa,GAAG,KAAIA,IAAE,kBAAgBC,IAAE,oBAAkBS,GAAE,UAAUV,IAAE,aAAa,IAAGA,IAAE,oBAAkBC,IAAE,oBAAkB,KAAK,oBAAoBD,IAAE,eAAe,GAAG,KAAIA,IAAE,qBAAmBC,IAAE,qBAAmB,KAAK,oBAAoBD,IAAE,kBAAiB,IAAE,GAAG,KAAIA,IAAE,6BAA2BC,IAAE,6BAA2B,KAAK,oBAAoBD,IAAE,0BAAyB,IAAE,GAAG;AAAA,EAAG;AAAA,EAAC,+BAA+BD,KAAEC,KAAEC,KAAE;AAAC,YAAMF,IAAE,SAAO,GAAGA,IAAE,OAAMC,KAAEC,GAAC,GAAE,KAAK,sCAAsCF,KAAEC,GAAC,GAAEA,IAAE,8BAA4BM,IAAGP,IAAE,qBAAqB,GAAEC,IAAE,+BAA6BM,IAAGP,IAAE,sBAAsB;AAAE,UAAMG,MAAE,QAAMH,IAAE,wBAAwB,QAAMA,IAAE,wBAAwB,QAAMM;AAAE,IAAAL,IAAE,QAAM,CAACE,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAEF,IAAE,kCAAgCM,IAAGP,IAAE,yBAAyB,GAAEC,IAAE,iCAA+BM,IAAGP,IAAE,wBAAwB,GAAEC,IAAE,0CAAwCM,IAAGP,IAAE,iCAAiC;AAAA,EAAC;AAAA,EAAC,+BAA+BC,KAAEC,MAAE,KAAK,aAAa,UAAU,OAAM;AAAC,UAAMC,MAAE,KAAK,kBAAkB,OAAMG,MAAE,KAAK,kBAAkB;AAAQ,QAAIC,MAAE,KAAK,YAAY,UAAU,gBAAc;AAAK,QAAGJ,IAAE,CAAAF,IAAE,gBAAcM;AAAA,SAAM;AAAC,YAAMJ,MAAED,OAAG;AAAK,UAAGC,KAAE;AAAC,cAAMD,MAAES,GAAE,WAAWR,GAAC;AAAE,QAAAG,QAAIJ,IAAE,CAAC,IAAE,IAAGD,IAAE,gBAAcC;AAAA,MAAC,MAAM,CAAAK,MAAE,MAAKN,IAAE,gBAAcM;AAAA,IAAC;AAAC,IAAAA,QAAIN,IAAE,eAAaM,MAAGN,IAAE,cAAY,CAAC,CAAC,KAAK,YAAY,aAAYA,IAAE,mBAAiB,KAAK,aAAa,UAAU,UAAU,YAAU,GAAEA,IAAE,iBAAegB,GAAG,KAAK,aAAa,UAAU,UAAU,UAAQ,UAAU;AAAA,EAAC;AAAA,EAAC,qBAAqBhB,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,UAAU,OAAMI,MAAEJ,IAAE,UAAU,cAAaK,MAAEL,IAAE,UAAU,WAAUM,MAAE,YAAUD,KAAEG,MAAE,EAAE,aAAWH,SAAK,GAAGN,GAAC,KAAG,QAAME,OAAGA,IAAE,IAAE,KAAGG,KAAG,eAAaE,MAAGG,MAAE,KAAK,oBAAoBV,KAAEC,KAAEQ,GAAC,GAAEI,MAAE,KAAK,mBAAmB,MAAMH,IAAE,GAAG;AAAE,QAAGG,IAAE,QAAO,KAAK,sCAAsCH,KAAEG,IAAE,SAAS,UAAU,GAAEA,IAAE;AAAS,UAAMC,MAAE,EAAC,KAAIJ,IAAE,KAAI,UAAS,MAAK,wBAAuBD,KAAE,WAAUR,IAAE,WAASA,IAAE,SAAS,YAAU,SAAQ,GAAEU,MAAEJ,IAAG,EAAC,eAAcG,IAAE,eAAc,0BAAyBA,IAAE,0BAAyB,gBAAeA,IAAE,UAAS,iBAAgBA,IAAE,WAAU,iBAAgBA,IAAE,iBAAgB,gBAAeA,GAAE,UAAUA,IAAE,aAAa,GAAE,kBAAiBA,IAAE,iBAAgB,CAAC,GAAEK,MAAE,EAAC,QAAO,KAAK,QAAQ,GAAE,aAAYJ,KAAE,iBAAgBD,IAAE,iBAAgB,iBAAgBA,IAAE,uBAAsB,mBAAkBA,IAAE,mBAAkB,SAAQL,IAAE,SAAQgB,IAAE,SAAQ,GAAE,aAAY,MAAG,iBAAgB,iBAAgB,UAAStB,IAAG,MAAK,cAAa,KAAK,iBAAiB,GAAE,eAAc,KAAK,SAAS,mBAAkB,eAAc,KAAK,8BAA4Be,IAAE,uBAAsB;AAAE,IAAAC,IAAE,aAAWJ,MAAET,MAAG,CAACQ,IAAE,UAASA,IAAE,WAAUV,IAAG,CAAC,CAAC,GAAEC,IAAE,aAAWc,IAAE,cAAYd,IAAE,SAAS,aAAYc,IAAE,WAASd,IAAE,SAAS,cAAYF,IAAG,OAAKA,IAAG,MAAKgB,IAAE,qBAAmBd,IAAE,SAAS,cAAa,KAAK,+BAA+Bc,GAAC,GAAE,KAAK,6BAA6BA,KAAED,GAAC,GAAE,KAAK,+BAA+BJ,KAAEK,KAAED,GAAC;AAAE,UAAME,MAAE,IAAIO,GAAGR,KAAE,KAAK,QAAQ;AAAE,WAAOD,IAAE,WAASE,KAAE,KAAK,mBAAmB,IAAIN,IAAE,KAAII,GAAC,GAAEE;AAAA,EAAC;AAAA,EAAC,wBAAwBjB,KAAE;AAAC,QAAG,cAAYA,IAAE,KAAK,KAAK;AAAO,UAAMC,MAAED,IAAE,KAAK;AAAK,SAAK,mBAAmBA,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAEC,KAAE;AAAC,QAAG,CAACA,IAAE,YAAU,cAAYA,IAAE,SAAS,KAAK;AAAO,UAAMC,MAAED,IAAE,SAAS;AAAK,QAAG,CAACC,IAAE,SAAO,eAAaA,IAAE,MAAM,QAAM,QAAMA,IAAE,MAAM,YAAU,QAAMA,IAAE,MAAM,SAAS;AAAO,UAAMC,MAAED,IAAE,MAAM;AAAS,WAAOA,IAAE,OAAMF,IAAE,wBAAwB,KAAM,MAAI;AAAC,WAAK,0BAA2B,CAAAA,QAAG;AAAC,cAAMC,MAAED,IAAE,SAAS;AAAW,aAAK,+BAA+BC,KAAEE,GAAC,GAAE,KAAK,6BAA6BF,KAAED,GAAC,GAAEA,IAAE,SAAS,cAAc,EAAC,eAAcC,IAAE,cAAa,CAAC;AAAA,MAAC,CAAE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,WAAO,KAAK,SAAS;AAAA,EAA6B;AAAA,EAAC,6BAA6BD,KAAEC,KAAE;AAAC,QAAG,WAASA,IAAE,WAAU;AAAC,YAAMC,MAAE,KAAK,8BAA4BD,IAAE,2BAAyBD,IAAE,gBAAc,KAAG,MAAIA,IAAE,WAAS,KAAG,MAAIA,IAAE,gBAAgB,CAAC,KAAG,KAAG;AAAE,MAAAA,IAAE,mBAAiBE,MAAEQ,GAAG,YAAUA,GAAG;AAAA,IAAM,MAAM,CAAAV,IAAE,mBAAiB,aAAWC,IAAE,YAAUS,GAAG,SAAO,WAAST,IAAE,YAAUS,GAAG,OAAKA,GAAG;AAAA,EAAK;AAAA,EAAC,wBAAwBV,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,QAAOE,MAAEH,IAAE,iBAAiB,eAAa,WAAS,MAAI,GAAEO,MAAE,MAAG,KAAK,IAAIP,IAAE,OAAO,QAAMG,KAAEH,IAAE,OAAO,SAAOG,KAAEH,IAAE,OAAO,OAAKA,IAAE,OAAO,IAAI,GAAEU,MAAE,CAAC,GAAEC,MAAE,CAAC,GAAEG,MAAEb,IAAE,CAAC,EAAE,gBAAec,MAAEU,GAAEzB,IAAE,GAAEc,GAAC;AAAE,aAAQR,MAAE,GAAEA,MAAEJ,KAAEI,OAAI;AAAC,YAAMN,MAAEC,IAAEK,GAAC,EAAE,WAAW,IAAIN,IAAG,QAAQ;AAAE,UAAG,CAACA,IAAE;AAAS,YAAME,MAAEF,IAAE,MAAKG,MAAEH,IAAE;AAAQ,eAAQC,MAAE,GAAEA,MAAEE,IAAE,QAAOF,OAAG,EAAE,IAAGC,KAAEC,KAAEF,KAAEyB,GAAE,GAAE,GAAGxB,KAAEC,KAAEF,KAAEY,KAAGc,KAAGC,GAAE,GAAEb,IAAEF,KAAGA,KAAGc,GAAE,GAAEZ,IAAEF,KAAGA,KAAGe,GAAE,GAAEvB,GAAEQ,KAAGA,KAAG,IAAE,CAAC,GAAEgB,GAAEhB,KAAGA,KAAGC,GAAC,GAAEJ,IAAE,KAAK,GAAGG,GAAE,GAAE,EAAEa,KAAGA,KAAGX,GAAC,GAAEe,GAAEJ,KAAGA,GAAE,GAAEK,GAAElB,KAAGA,KAAGa,KAAGnB,GAAC,GAAEG,IAAE,KAAK,GAAGG,GAAE,GAAEF,IAAE,KAAKA,IAAE,MAAM,GAAEA,IAAE,KAAKA,IAAE,MAAM;AAAA,IAAC;AAAC,WAAOD,IAAE,SAAO,IAAIO,GAAG,KAAK,0BAAyB,CAAC,CAACjB,IAAG,UAAS,IAAIC,IAAGS,KAAEC,KAAE,GAAE,IAAE,CAAC,CAAC,GAAE,MAAKH,IAAG,IAAI,IAAE;AAAA,EAAI;AAAA,EAAC,6BAA6BR,KAAEC,KAAEC,KAAEC,KAAEO,KAAE;AAAC,UAAMC,MAAEV,IAAE,QAAOa,MAAEd,IAAE,iBAAiB,eAAa,WAAS,MAAI,GAAEe,MAAE,MAAGL,MAAE,KAAK,IAAIV,IAAE,OAAO,QAAMc,KAAEd,IAAE,OAAO,SAAOc,KAAEd,IAAE,OAAO,OAAKA,IAAE,OAAO,IAAI,GAAEY,MAAE,CAAC,GAAEI,MAAE,CAAC,GAAEC,MAAEhB,IAAE,CAAC,EAAE,gBAAekB,MAAEM,GAAEzB,IAAE,GAAEiB,GAAC;AAAE,IAAAf,QAAIF,IAAG,WAASQ,GAAEW,KAAEF,GAAC;AAAE,aAAQX,MAAE,GAAEA,MAAEK,KAAEL,OAAI;AAAC,YAAMN,MAAEC,IAAEK,GAAC,GAAEH,MAAEH,IAAE,WAAW,IAAIA,IAAG,QAAQ,GAAEO,MAAEP,IAAE,WAAW,IAAIE,GAAC;AAAE,UAAG,CAACC,OAAG,CAACI,IAAE;AAAS,YAAMC,MAAEL,IAAE,MAAKO,MAAEP,IAAE,SAAQQ,MAAEJ,IAAE,MAAKO,MAAEP,IAAE;AAAQ,eAAQN,MAAE,GAAEA,MAAES,IAAE,QAAOT,OAAI;AAAC,cAAMD,MAAE,IAAEU,IAAET,GAAC,GAAEC,MAAEY,IAAEb,GAAC,IAAEM,IAAE;AAAO,QAAAJ,GAAEU,KAAGL,IAAER,MAAE,CAAC,GAAEQ,IAAER,MAAE,CAAC,GAAEQ,IAAER,MAAE,CAAC,CAAC,GAAE6B,GAAEhB,KAAGA,KAAGI,GAAC,GAAEL,IAAE,KAAK,GAAGC,GAAE,GAAEV,GAAEwB,KAAGhB,IAAET,MAAE,CAAC,GAAES,IAAET,MAAE,CAAC,GAAES,IAAET,MAAE,CAAC,CAAC,GAAE,EAAEyB,KAAGA,KAAGR,GAAC,GAAEW,GAAEH,KAAGA,GAAE,GAAEI,GAAElB,KAAGA,KAAGc,KAAGZ,GAAC,GAAEH,IAAE,KAAK,GAAGC,GAAE,GAAEG,IAAE,KAAKA,IAAE,MAAM,GAAEA,IAAE,KAAKA,IAAE,MAAM;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOJ,IAAE,SAAO,IAAIK,GAAGd,KAAE,CAAC,CAACH,IAAG,UAAS,IAAIC,IAAGW,KAAEI,KAAE,GAAE,IAAE,CAAC,CAAC,GAAE,MAAKR,IAAG,IAAI,IAAE;AAAA,EAAI;AAAA,EAAC,iBAAiBR,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMG,MAAEN,IAAE;AAAS,QAAG,WAASM,IAAE,KAAK,QAAO;AAAK,UAAMC,MAAE,KAAK,oBAAoBD,KAAEL,KAAEE,GAAC;AAAE,QAAG,QAAMI,IAAE,QAAO;AAAK,UAAK,EAAC,YAAWC,KAAE,sBAAqBE,IAAC,IAAEH;AAAE,QAAGN,IAAG,4BAA2B;AAAC,YAAMD,MAAE,KAAK,6BAA6BM,KAAEE,KAAER,IAAG,QAAO,KAAK,4BAA2B,CAAC,GAAEC,MAAE,KAAK,6BAA6BK,KAAEE,KAAER,IAAG,SAAQ,KAAK,6BAA4B,GAAE,GAAEE,MAAE,KAAK,wBAAwBI,KAAEE,GAAC;AAAE,MAAAR,OAAGQ,IAAE,KAAKR,GAAC,GAAEC,OAAGO,IAAE,KAAKP,GAAC,GAAEC,OAAGM,IAAE,KAAKN,GAAC;AAAA,IAAC;AAAC,UAAMS,MAAE,KAAK,SAAS,cAAaG,MAAE,IAAIgB,GAAG,EAAC,YAAWtB,KAAE,cAAaG,KAAE,YAAWR,KAAE,mBAAkB,KAAE,CAAC;AAAE,IAAAW,IAAE,iBAAeJ;AAAE,UAAMK,MAAET,IAAG,KAAK,aAAY,EAAC,SAAQ,KAAK,iBAAiB,EAAC,CAAC,GAAEM,MAAEG,MAAE,IAAIH,IAAGJ,IAAE,CAAC,EAAE,UAASO,KAAE,KAAK,SAAS,iBAAiB,IAAE,MAAKC,MAAE,IAAIC,IAAG,MAAKH,KAAE,MAAKG,KAAGf,KAAEU,GAAC;AAAE,SAAK,qBAAqB,aAAa,GAAEI,IAAE,wBAAsBX,IAAGH,IAAE,IAAI,GAAEc,IAAE,oCAAkC,MAAGA,IAAE,8BAA4B,KAAK,6BAA6BV,GAAC,GAAEJ,IAAE,2BAAyB,KAAK,6BAA6BY,IAAE,cAAc;AAAE,UAAK,EAAC,mBAAkBG,KAAE,oBAAmBE,IAAC,IAAE,KAAK,UAASC,MAAE,CAACpB,KAAEC,QAAIa,IAAGd,KAAEiB,KAAEf,KAAEiB,KAAElB,GAAC;AAAE,WAAOe,IAAE,0BAAwBC,IAAGD,KAAEd,KAAEe,IAAE,kBAAiBG,KAAED,GAAC,GAAEH;AAAA,EAAC;AAAA,EAAC,6BAA6BhB,KAAE;AAAC,UAAK,EAAC,aAAYC,KAAE,kBAAiBC,IAAC,IAAEF;AAAE,QAAG,CAACC,GAAEA,GAAC,EAAE,QAAM;AAAG,UAAK,EAAC,MAAKE,IAAC,IAAEF,KAAE,EAAC,MAAKK,IAAC,IAAE,KAAK,SAAS,mBAAkB,EAAC,aAAYC,IAAC,IAAED,IAAE,OAAME,MAAEF,IAAE;AAAiB,WAAOC,QAAII,IAAG,UAAQ,YAAUR,OAAGI,QAAII,IAAG,SAAOJ,GAAEC,KAAEN,GAAC,KAAG,oBAAkBC,OAAG,CAACD,IAAE;AAAA,EAAY;AAAA,EAAC,6BAA6BF,KAAE;AAAC,UAAMC,MAAED,IAAG,GAAE,GAAE,GAAE,KAAK,SAAS,kBAAkB,oBAAkB,IAAI;AAAE,WAAOG,IAAE,CAACH,IAAE,EAAE,GAAEA,IAAE,EAAE,GAAEA,IAAE,EAAE,CAAC,GAAE,KAAK,SAAS,mBAAmB,kBAAiBC,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,6BAA6BD,KAAE;AAAC,WAAOA,IAAE,iBAAegC,IAAG,QAAM,CAAC,CAAChC,IAAE;AAAA,EAAoB;AAAA,EAAC,sBAAsBA,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,iBAAiB;AAAS,QAAIG,KAAEG,MAAEJ;AAAE,QAAGD,IAAE,iBAAe+B,IAAG,KAAK,QAAM,EAAC,UAAS1B,KAAE,6BAA4BH,IAAC;AAAE,UAAMI,MAAEN,IAAE,iBAAe+B,IAAG,SAAO/B,IAAE,yBAAuB;AAAK,IAAAM,QAAID,MAAEJ,IAAE,IAAI,aAAaI,IAAE,MAAM,GAAEA,KAAEC,GAAC;AAAG,UAAK,EAAC,QAAOC,KAAE,SAAQE,IAAC,IAAEV,IAAE;AAAiB,SAAK,6BAA6BC,GAAC,KAAG,CAACO,OAAG,CAACE,QAAIP,MAAEG;AAAG,UAAMK,MAAEL,QAAIJ,OAAGI,QAAIH,MAAE,IAAI,aAAaG,IAAE,MAAM,IAAEA;AAAE,WAAOH,GAAEG,KAAEN,IAAE,kBAAiB,GAAEW,KAAE,KAAK,SAAS,mBAAmB,kBAAiB,CAAC,GAAE,EAAC,UAASA,KAAE,6BAA4BR,IAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBH,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMG,MAAEN,IAAE,iBAAiB;AAAO,QAAG,QAAMM,IAAE,QAAO;AAAK,QAAIC,MAAED;AAAE,UAAME,MAAEL,IAAE,iBAAe6B,IAAG,SAAO7B,IAAE,yBAAuB;AAAK,IAAAK,QAAID,MAAEe,GAAEf,KAAE,IAAI,aAAaA,IAAE,MAAM,GAAEC,GAAC;AAAG,UAAME,MAAE,KAAK,SAAS,kBAAkB,KAAK;AAAY,QAAGP,IAAE,iBAAe6B,IAAG,KAAK,QAAOzB;AAAE,QAAG,YAAUG,KAAE;AAAC,UAAG,CAAC,EAAE,KAAK,SAAS,mBAAmB,gBAAgB,EAAE,QAAOH;AAAE,UAAG,QAAML,IAAE,QAAO;AAAK,UAAGF,IAAE,iBAAiB,cAAa;AAAC,cAAMA,MAAEO,QAAID,MAAE,IAAI,aAAaC,IAAE,MAAM,IAAEA;AAAE,eAAO0B,GAAE1B,KAAE2B,GAAE,QAAOhC,KAAEF,GAAC;AAAA,MAAC;AAAC,UAAGA,IAAE,iBAAiB,eAAc;AAAC,cAAMA,MAAEO,QAAID,MAAE,IAAI,aAAaC,IAAE,MAAM,IAAEA;AAAE,eAAOgB,GAAEhB,KAAE2B,GAAE,QAAOhC,KAAEF,GAAC;AAAA,MAAC;AAAC,aAAOO;AAAA,IAAC;AAAC,QAAG,QAAML,IAAE,QAAO;AAAK,UAAMS,MAAEJ,QAAID,MAAE,IAAI,aAAaC,IAAE,MAAM,IAAEA,KAAEO,MAAE,KAAK,SAAS,mBAAmB;AAAiB,WAAOe,GAAEtB,KAAEL,KAAEF,IAAE,kBAAiBC,KAAEa,KAAEH,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBX,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMG,MAAEN,IAAE,iBAAiB;AAAQ,QAAG,QAAMM,IAAE,QAAO;AAAK,QAAIC,MAAED;AAAE,UAAME,MAAEL,IAAE,iBAAe6B,IAAG,SAAO7B,IAAE,yBAAuB;AAAK,IAAAK,QAAID,MAAEW,GAAEX,KAAE,IAAI,aAAaA,IAAE,MAAM,GAAEC,GAAC;AAAG,UAAME,MAAE,KAAK,SAAS,kBAAkB,KAAK;AAAY,QAAGP,IAAE,iBAAe6B,IAAG,KAAK,QAAOzB;AAAE,QAAG,YAAUG,KAAE;AAAC,UAAG,CAAC,EAAE,KAAK,SAAS,mBAAmB,gBAAgB,EAAE,QAAOH;AAAE,UAAG,QAAML,IAAE,QAAO;AAAK,UAAGF,IAAE,iBAAiB,cAAa;AAAC,cAAMA,MAAEO,QAAID,MAAE,IAAI,aAAaC,IAAE,MAAM,IAAEA;AAAE,eAAO0B,GAAE1B,KAAE2B,GAAE,SAAQhC,KAAEF,GAAC;AAAA,MAAC;AAAC,UAAGA,IAAE,iBAAiB,eAAc;AAAC,cAAMA,MAAEO,QAAID,MAAE,IAAI,aAAaC,IAAE,MAAM,IAAEA;AAAE,eAAOgB,GAAEhB,KAAE2B,GAAE,SAAQhC,KAAEF,GAAC;AAAA,MAAC;AAAC,aAAOO;AAAA,IAAC;AAAC,QAAG,QAAML,IAAE,QAAO;AAAK,UAAMS,MAAEJ,QAAID,MAAE,IAAI,aAAaC,IAAE,MAAM,IAAEA,KAAEO,MAAE,KAAK,SAAS,mBAAmB;AAAiB,WAAOqB,GAAG5B,KAAEL,KAAEF,IAAE,kBAAiBC,KAAEa,KAAEH,GAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBX,KAAE;AAAC,QAAG,KAAK,4BAA4B,GAAE;AAAC,YAAMC,MAAE,KAAK,0BAA0BD,KAAE,KAAK,4BAA4B,CAAC,GAAEE,MAAEF,IAAG,KAAK,aAAa,UAAU,YAAY,GAAEG,MAAE,IAAI,WAAW,CAAC;AAAE,aAAOD,IAAGD,KAAEC,KAAEC,GAAC,GAAEA;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,eAAeH,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,oBAAkBA,IAAE,iBAAiB;AAAS,QAAG,CAACE,IAAE,QAAO,KAAK,OAAO,KAAK,uDAAuD,GAAE;AAAK,UAAMC,MAAEH,IAAE,iBAAiB,QAAOM,MAAEN,IAAE,iBAAiB,IAAGO,MAAEP,IAAE,iBAAiB;AAAQ,QAAGG,OAAGA,IAAE,WAASD,IAAE,OAAO,QAAO,KAAK,OAAO,KAAK,2FAA2F,GAAE;AAAK,QAAGK,OAAGA,IAAE,SAAO,KAAGL,IAAE,SAAO,EAAE,QAAO,KAAK,OAAO,KAAK,4FAA4F,GAAE;AAAK,QAAGI,OAAGA,IAAE,SAAO,KAAGJ,IAAE,SAAO,EAAE,QAAO,KAAK,OAAO,KAAK,uFAAuF,GAAE;AAAK,UAAMM,MAAE,KAAK,yBAAyBR,GAAC,GAAE,EAAC,UAASU,KAAE,6BAA4BC,IAAC,IAAE,KAAK,sBAAsBX,KAAEQ,GAAC,GAAEM,MAAE,GAAGd,GAAC,GAAEe,MAAE,KAAK,yBAAyBd,GAAC,GAAEe,MAAE,KAAK,oBAAoBhB,KAAEU,KAAEC,KAAEH,GAAC,GAAES,MAAE,KAAK,qBAAqBjB,KAAEU,KAAEC,KAAEH,GAAC,GAAEW,MAAEb,KAAE,EAAC,gBAAec,KAAE,UAASf,KAAE,QAAOgB,IAAE,SAAQC,IAAC,IAAE,KAAK,6BAA6Bd,GAAC,IAAE,EAAC,gBAAeA,IAAE,sBAAqB,UAASE,KAAE,QAAOM,KAAE,SAAQC,IAAC,IAAE,KAAK,sBAAsBjB,KAAEU,KAAEM,KAAEC,GAAC;AAAE,WAAM,EAAC,gBAAeZ,KAAE,cAAagB,IAAE,eAAcC,KAAE,UAASH,KAAE,aAAYL,KAAE,mBAAkBC,KAAE,sBAAqBK,KAAE,wBAAuBZ,IAAE,iBAAewB,IAAG,QAAMxB,IAAE,yBAAuBA,IAAE,yBAAuBR,IAAE,EAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBA,KAAE;AAAC,UAAK,EAAC,aAAYC,IAAC,IAAED,KAAEE,MAAE,oBAAkBD,IAAE,OAAKM,GAAE,KAAK,SAAS,mBAAmB,kBAAiBP,IAAE,gBAAgB,IAAEgC,IAAG,OAAKA,IAAG,SAAOA,IAAG;AAAK,QAAG7B,GAAEF,GAAC,EAAE,QAAM,EAAC,cAAaC,IAAC;AAAE,UAAMC,MAAEF,IAAE,QAAOK,MAAEN,IAAE,GAAEO,MAAEP,IAAE,WAAW,eAAaE;AAAE,QAAGA,QAAI8B,IAAG,MAAK;AAAC,MAAApB,GAAEZ,IAAE,kBAAiBG,KAAEG,KAAE,KAAK,SAAS,mBAAmB,gBAAgB;AAAE,aAAM,EAAC,cAAaJ,KAAE,sBAAqBI,KAAE,wBAAuBL,GAAEM,GAAC,EAAC;AAAA,IAAC;AAAC,UAAMC,MAAEuB,GAAE/B,IAAE,GAAEG,GAAC;AAAE,WAAOW,GAAEN,KAAEA,KAAED,GAAC,GAAE,EAAC,cAAaL,KAAE,wBAAuBM,IAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBR,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMG,MAAE,KAAK,SAAS,mBAAmB,kBAAiBC,MAAEP,IAAE;AAAO,IAAAoC,IAAG,CAAC,IAAE7B,IAAE,GAAE6B,IAAG,CAAC,IAAE7B,IAAE,GAAE6B,IAAG,CAAC,IAAE7B,IAAE,KAAG;AAAE,UAAMC,MAAER,IAAE;AAAE,IAAAY,GAAEZ,IAAE,kBAAiBoC,KAAG5B,KAAEF,GAAC,GAAEa,GAAEkB,KAAG7B,GAAC;AAAE,UAAK,EAAC,UAASE,KAAE,QAAOC,KAAE,SAAQI,IAAC,IAAEf,IAAE,kBAAiBgB,MAAEf,QAAIS,MAAE,IAAI,aAAaT,IAAE,MAAM,IAAEA;AAAE,IAAAC,IAAEc,KAAEf,KAAEoC,GAAE;AAAE,UAAMpB,MAAEf,MAAEA,QAAIS,MAAE,IAAI,aAAaT,IAAE,MAAM,IAAEA,MAAE,MAAKiB,MAAEhB,MAAEA,QAAIY,MAAE,IAAI,aAAaZ,IAAE,MAAM,IAAEA,MAAE;AAAK,WAAOD,OAAGe,OAAGK,GAAEpB,KAAEe,KAAEoB,GAAE,GAAElC,OAAGgB,OAAGD,GAAEf,KAAEgB,KAAEkB,GAAE,GAAE,EAAC,gBAAe7B,KAAE,UAASQ,KAAE,QAAOC,KAAE,SAAQE,IAAC;AAAA,EAAC;AAAA,EAAC,eAAenB,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,iBAAiB,SAAS,SAAO,GAAEG,MAAEF,IAAE;AAAM,QAAGE,KAAE;AAAC,UAAIH,MAAE;AAAG,eAAQC,MAAE,GAAEA,MAAEE,IAAE,QAAOF,OAAI;AAAC,cAAMC,MAAEC,IAAEF,GAAC;AAAE,QAAAC,MAAEF,QAAIA,MAAEE;AAAA,MAAE;AAAC,UAAGA,OAAGF,IAAE,QAAO,KAAK,OAAO,KAAK,gBAAgBA,GAAC,+CAA+C,GAAE;AAAA,IAAE,WAASE,MAAE,KAAG,EAAE,QAAO,KAAK,OAAO,KAAK,uIAAuI,GAAE;AAAG,WAAM;AAAA,EAAE;AAAA,EAAC,uBAAuBF,KAAE;AAAC,QAAG,CAAC,KAAK,SAAS,eAAe,QAAM;AAAG,UAAMC,MAAED,IAAE,kBAAkB;AAAS,QAAG,CAACC,IAAE,QAAM;AAAG,UAAMC,MAAE,KAAK,SAAS,kBAAkB,kBAAiBC,MAAEK,IAAGR,KAAEE,OAAGF,IAAE,gBAAgB;AAAE,WAAM,CAAC,CAACG,QAAIS,GAAET,KAAEmC,GAAE,GAAE,CAAC,EAAEA,KAAG,KAAK,SAAS,cAAc;AAAA,EAAE;AAAA,EAAC,oBAAoBtC,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAACqB,GAAEvB,IAAE,kBAAiB,KAAK,SAAS,mBAAmB,gBAAgB,EAAE,QAAO,KAAK,OAAO,KAAK,4DAA4D,GAAE;AAAK,QAAG,CAAC,KAAK,qBAAqBA,GAAC,EAAE,QAAO;AAAK,QAAG,KAAK,uBAAuBA,GAAC,EAAE,QAAO;AAAK,UAAMG,MAAE,KAAK,eAAeH,KAAEC,GAAC;AAAE,QAAG,QAAME,IAAE,QAAO;AAAK,UAAK,EAAC,gBAAeG,KAAE,UAASC,KAAE,aAAYC,KAAE,mBAAkBE,KAAE,cAAaC,KAAE,eAAcG,KAAE,sBAAqBF,KAAE,wBAAuBI,IAAC,IAAEb,KAAEc,MAAEjB,IAAE,cAAYuC,KAAGpB,MAAE,IAAI;AAAM,QAAIC,MAAE;AAAG,UAAMf,MAAEmC,GAAE3B,KAAGD,GAAC,GAAES,KAAE,KAAK,SAAS,mBAAmB,UAAUhB,GAAC;AAAE,eAAUU,OAAKE,KAAE;AAAC,UAAG,CAAC,KAAK,eAAejB,KAAEe,GAAC,EAAE,QAAO;AAAK,YAAMd,MAAE,GAAGD,KAAEe,GAAC;AAAE,UAAG,MAAId,IAAE,OAAO;AAAS,YAAME,MAAE,GAAGG,KAAEK,KAAEI,KAAEd,GAAC;AAAE,MAAAE,IAAE,mBAAiBiB,MAAE;AAAI,YAAMR,MAAE,CAAC,CAACZ,IAAG,UAAS,IAAIC,IAAGK,KAAEL,KAAE,GAAE,IAAE,CAAC,GAAE,CAACD,IAAG,QAAO,IAAIC,IAAGE,IAAE,SAAQA,IAAE,SAAQ,GAAE,IAAE,CAAC,CAAC;AAAE,MAAAK,OAAGI,IAAE,KAAK,CAACZ,IAAG,OAAM,IAAIC,IAAGO,KAAEP,KAAE,GAAE,IAAE,CAAC,CAAC,GAAES,OAAGE,IAAE,KAAK,CAACZ,IAAG,aAAY,IAAIC,IAAGS,KAAE,EAAET,IAAE,MAAM,GAAE,GAAE,IAAE,CAAC,CAAC,GAAEM,OAAGK,IAAE,KAAK,CAACZ,IAAG,KAAI,IAAIC,IAAGM,KAAEN,KAAE,GAAE,IAAE,CAAC,CAAC,GAAEa,OAAGF,IAAE,KAAK,CAACZ,IAAG,SAAQ,IAAIC,IAAGa,KAAEb,KAAE,GAAE,IAAE,CAAC,CAAC;AAAE,YAAMgB,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWf,KAAE,cAAa,KAAK,SAAS,aAAY,CAAC,GAAEG,MAAE,KAAK,qBAAqBL,KAAEe,GAAC,GAAEO,MAAE,IAAIL,GAAGZ,KAAEO,KAAE,MAAKJ,IAAG,MAAKS,GAAC;AAAE,MAAAK,IAAE,iBAAeN,KAAEM,IAAE,cAAYD,IAAEF,IAAE,KAAKG,GAAC;AAAA,IAAC;AAAC,WAAOF,OAAG,KAAK,OAAO,KAAK,iLAAiL,GAAE,EAAC,YAAWD,KAAE,sBAAqBP,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BZ,KAAE;AAAC,SAAK,mBAAmB,oBAAoBA,GAAC,GAAE,KAAK,qBAAqB,oBAAoBA,GAAC,GAAE,KAAK,qBAAqB,sBAAuB,CAACA,KAAEC,QAAI;AAAC,MAAAA,IAAE,cAAcD,IAAE,UAAU;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,qBAAqBA,KAAE;AAAC,UAAK,EAAC,UAAS,EAAC,mBAAkB,EAAC,MAAK,EAAC,OAAM,EAAC,aAAYC,IAAC,EAAC,EAAC,EAAC,EAAC,IAAE,MAAK,EAAC,aAAYC,IAAC,IAAEF;AAAE,WAAOC,QAAIU,IAAG,SAAO,YAAUT,IAAE,SAAO,KAAK,OAAO,KAAK,+FAA+F,GAAE;AAAA,EAAG;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,WAAU,KAAK,mBAAmB,UAAS;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMD,MAAE,KAAK,aAAa,UAAU;AAAM,WAAOU,GAAE,WAAWV,GAAC,KAAGK;AAAA,EAAC;AAAC;AAAC,IAAM,KAAN,MAAQ;AAAA,EAAC,YAAYN,KAAEC,KAAEC,KAAE;AAAC,SAAK,UAAQF,KAAE,KAAK,UAAQC,KAAE,KAAK,iBAAeC;AAAA,EAAC;AAAC;AAAC,SAAS,GAAGF,KAAEC,KAAE;AAAC,SAAOA,IAAE,SAAO6B,GAAE9B,IAAE,iBAAiB,SAAS,SAAO,CAAC;AAAC;AAAC,SAAS,GAAGA,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAOD,IAAE,WAAS,QAAO;AAAA,IAAC;AAAA,IAAQ,KAAI;AAAS,aAAO,GAAGF,KAAEC,KAAEC,KAAEC,GAAC;AAAA,IAAE,KAAI;AAAO,aAAO,GAAGH,KAAEG,GAAC;AAAA,IAAE,KAAI;AAAS,aAAO,GAAGH,KAAEG,GAAC;AAAA,EAAC;AAAC;AAAC,SAAS,GAAGH,KAAEC,KAAE;AAAC,QAAMC,MAAEM,IAAEP,IAAE,MAAM,GAAEE,MAAE,IAAI,MAAM,IAAEF,IAAE,MAAM;AAAE,WAAQK,MAAE,GAAEA,MAAEL,IAAE,QAAOK,OAAG,GAAE;AAAC,UAAMC,MAAE,GAAGP,KAAEC,KAAEK,KAAEoB,GAAE;AAAE,aAAQ1B,MAAE,GAAEA,MAAE,GAAEA,MAAI,CAAAE,IAAEI,MAAEN,GAAC,IAAEO,IAAEP,GAAC,GAAEG,IAAEG,MAAEN,GAAC,IAAEM,MAAE;AAAA,EAAC;AAAC,SAAO,IAAI,GAAGJ,KAAEC,KAAE,KAAE;AAAC;AAAC,SAAS,GAAGH,KAAEC,KAAEC,KAAEC,KAAE;AAAC,MAAG,QAAMF,IAAE,QAAO,GAAGD,KAAEG,GAAC;AAAE,MAAIG,MAAE;AAAG,MAAG,CAACJ,IAAE,mBAAmB,UAAQK,MAAE,GAAEA,MAAEJ,IAAE,QAAOI,OAAG,GAAE;AAAC,OAAGP,KAAEG,KAAEI,KAAEmB,GAAE;AAAE,aAAQ1B,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,YAAME,MAAE,IAAEC,IAAEI,MAAEP,GAAC;AAAE,MAAAa,IAAG,CAAC,IAAEZ,IAAEC,GAAC,GAAEW,IAAG,CAAC,IAAEZ,IAAEC,MAAE,CAAC,GAAEW,IAAG,CAAC,IAAEZ,IAAEC,MAAE,CAAC,GAAEuC,GAAEf,KAAGb,GAAE,IAAE,MAAIZ,IAAEC,GAAC,IAAE,CAACD,IAAEC,GAAC,GAAED,IAAEC,MAAE,CAAC,IAAE,CAACD,IAAEC,MAAE,CAAC,GAAED,IAAEC,MAAE,CAAC,IAAE,CAACD,IAAEC,MAAE,CAAC,GAAEI,MAAE;AAAA,IAAG;AAAA,EAAC;AAAC,SAAO,IAAI,GAAGL,KAAEE,KAAEG,GAAC;AAAC;AAAC,SAAS,GAAGN,KAAEC,KAAE;AAAC,QAAMC,MAAE,CAAC;AAAE,WAAQK,MAAE,GAAEA,MAAEN,IAAE,QAAOM,OAAG,GAAE;AAAC,UAAMJ,MAAE,GAAGH,KAAEC,KAAEM,KAAEmB,GAAE;AAAE,aAAQ1B,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,YAAMM,MAAEL,IAAEM,MAAEP,GAAC;AAAE,UAAIQ,MAAEN,IAAEI,GAAC;AAAE,MAAAE,QAAIA,MAAE,EAAC,QAAOA,GAAE,GAAE,OAAM,EAAC,GAAEN,IAAEI,GAAC,IAAEE,MAAGO,IAAEP,IAAE,QAAOA,IAAE,QAAOL,GAAC,GAAEK,IAAE;AAAA,IAAO;AAAA,EAAC;AAAC,QAAML,MAAEK,IAAE,IAAEP,IAAE,MAAM,GAAEK,MAAE,IAAI,MAAM,IAAEL,IAAE,MAAM;AAAE,WAAQM,MAAE,GAAEA,MAAEN,IAAE,QAAOM,OAAI;AAAC,UAAMP,MAAEE,IAAED,IAAEM,GAAC,CAAC;AAAE,UAAIP,IAAE,UAAQ8B,GAAE9B,IAAE,QAAOA,IAAE,MAAM,GAAEA,IAAE,QAAM;AAAG,aAAQC,MAAE,GAAEA,MAAE,GAAEA,MAAI,CAAAE,IAAE,IAAEI,MAAEN,GAAC,IAAED,IAAE,OAAOC,GAAC;AAAE,IAAAK,IAAEC,GAAC,IAAEA;AAAA,EAAC;AAAC,SAAO,IAAI,GAAGJ,KAAEG,KAAE,KAAE;AAAC;AAAC,SAAS,GAAGN,KAAEC,KAAEC,KAAEC,KAAEG,KAAEC,KAAE;AAAC,QAAMC,MAAE,IAAEP,IAAEC,GAAC,GAAEQ,MAAE,IAAET,IAAEC,MAAE,CAAC,GAAES,MAAE,IAAEV,IAAEC,MAAE,CAAC;AAAE,EAAAC,IAAE,CAAC,IAAEH,IAAEQ,GAAC,GAAEL,IAAE,CAAC,IAAEH,IAAEQ,MAAE,CAAC,GAAEL,IAAE,CAAC,IAAEH,IAAEQ,MAAE,CAAC,GAAEF,IAAE,CAAC,IAAEN,IAAEU,GAAC,GAAEJ,IAAE,CAAC,IAAEN,IAAEU,MAAE,CAAC,GAAEJ,IAAE,CAAC,IAAEN,IAAEU,MAAE,CAAC,GAAEH,IAAE,CAAC,IAAEP,IAAEW,GAAC,GAAEJ,IAAE,CAAC,IAAEP,IAAEW,MAAE,CAAC,GAAEJ,IAAE,CAAC,IAAEP,IAAEW,MAAE,CAAC;AAAC;AAAC,SAAS,GAAGX,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAO,GAAGH,KAAEC,KAAEC,KAAEW,KAAGc,KAAGC,GAAE,GAAEd,GAAEa,KAAGA,KAAGd,GAAE,GAAEC,GAAEc,KAAGA,KAAGf,GAAE,GAAES,GAAET,KAAGc,KAAGC,GAAE,GAAEE,GAAE3B,KAAEU,GAAE,GAAEV;AAAC;AAAC,SAAS,GAAGH,KAAE;AAAC,MAAG,CAACA,IAAE,QAAO;AAAK,QAAK,EAAC,OAAME,KAAE,QAAOC,KAAE,UAASG,IAAC,IAAEN;AAAE,SAAM,EAAC,OAAME,KAAE,QAAOC,KAAE,UAASI,GAAED,GAAC,EAAC;AAAC;AAAC,SAAS,GAAGN,MAAE,UAAS;AAAC,MAAG,YAAU,OAAOA,KAAE;AAAC,UAAMC,MAAE,GAAGD,GAAC;AAAE,WAAM,EAAC,GAAEC,KAAE,GAAAA,IAAC;AAAA,EAAC;AAAC,SAAM,EAAC,GAAE,GAAGD,IAAE,UAAU,GAAE,GAAE,GAAGA,IAAE,QAAQ,EAAC;AAAC;AAAC,SAAS,GAAGA,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAQ,aAAOyC,GAAG;AAAA,IAAc,KAAI;AAAS,aAAOA,GAAG;AAAA,IAAgB;AAAQ,aAAOA,GAAG;AAAA,EAAM;AAAC;AAAC,SAAS,GAAGzC,KAAE;AAAC,QAAMC,MAAED,IAAE,iBAAiB;AAAM,MAAG,QAAMC,IAAE,QAAM;AAAG,WAAQC,MAAE,GAAEA,MAAED,IAAE,QAAOC,OAAG,EAAE,KAAG,QAAMD,IAAEC,GAAC,EAAE,QAAM;AAAG,SAAM;AAAE;AAAC,SAAS,GAAGD,KAAEC,KAAEC,KAAE;AAAC,EAAAD,IAAE,UAAQS,GAAE,UAAUV,GAAC,GAAEC,IAAE,UAAQ,aAAWC,IAAE,YAAU,IAAEF,IAAE;AAAC;AAAC,SAAS,GAAGD,KAAE;AAAC,SAAOA,IAAE,QAAMA,IAAE;AAAG;AAAC,SAAS,GAAGC,KAAE;AAAC,SAAO,QAAMA,MAAE,MAAIA,eAAaU,KAAEV,IAAE,MAAM,IAAEA,IAAE;AAAW;AAAC,SAAS,GAAGD,KAAE;AAAC,QAAK,EAAC,QAAOC,KAAE,OAAMC,KAAE,UAASC,IAAC,IAAEH,OAAG0C;AAAG,SAAM,GAAGzC,IAAE,CAAC,CAAC,IAAIA,IAAE,CAAC,CAAC,IAAIE,GAAC,IAAID,IAAE,CAAC,CAAC,IAAIA,IAAE,CAAC,CAAC;AAAE;AAAC,SAAS,GAAGF,KAAE;AAAC,SAAOA,IAAE,iBAAiB;AAAK;AAAC,SAAS,GAAGA,KAAE;AAAC,SAAO,OAAKA,IAAE,UAAU,OAAO,KAAG;AAAE;AAAC,IAAM0C,MAAG,IAAIzB;AAAb,IAAemB,MAAG5B,GAAE;AAApB,IAAsBK,MAAGL,GAAE;AAA3B,IAA6BmB,MAAGnB,GAAE;AAAlC,IAAoCoB,MAAGpB,GAAE;AAAzC,IAA2CkB,MAAGlB,GAAE;AAAhD,IAAkD6B,MAAGrC,IAAE;AAAvD,IAAyDS,MAAGT,IAAE;AAA9D,IAAgEsC,MAAGvB,GAAE;AAArE,IAAuEwB,MAAG,CAAC,IAAIpB,IAAC;AAAE,IAAIa;AAAG,CAAC,SAAShC,KAAE;AAAC,EAAAA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE;AAAQ,EAAEgC,QAAKA,MAAG,CAAC,EAAE;;;ACAn50B,IAAMW,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,wBAAsBJ,KAAE,KAAK,gBAAcC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,qBAAmBC,KAAE,KAAK,OAAK,gBAAe,KAAK,cAAY,oBAAI,OAAI,KAAK,0BAAwB,GAAE,KAAK,oBAAkB,OAAG,KAAK,wBAAsB,OAAG,KAAK,iBAAe;AAAA,EAAI;AAAA,EAAC,aAAY;AAAA,EAAC;AAAA,EAAC,cAAcJ,KAAE;AAAC,UAAK,EAAC,cAAaC,IAAC,IAAE;AAAK,IAAAD,QAAIC,IAAE,WAAW,KAAK,aAAa,KAAGA,IAAE,WAAW,KAAK,eAAcD,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,YAAM,KAAK,kBAAgB,KAAK,aAAa,eAAe,KAAK,aAAa,GAAE,KAAK,sBAAsB,0BAA0B,IAAI;AAAA,EAAE;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,sBAAsB;AAAA,EAAU;AAAA,EAAC,mBAAmBA,KAAEC,KAAEC,KAAE;AAAC,QAAG,KAAK,kBAAiB;AAAC,MAAAG,IAAE,KAAK,iBAAiB,8BAA6BH,GAAC;AAAE,YAAMC,MAAE,CAACD,KAAEC,QAAIG,IAAEJ,KAAEF,KAAE,KAAK,kBAAiBC,KAAEE,GAAC,GAAEC,MAAE,KAAK,iBAAiB,MAAK,KAAK,kBAAiBJ,IAAE,kBAAiBG,KAAEF,GAAC;AAAE,cAAMG,QAAI,KAAK,0BAAwBA;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,qBAAqBJ,MAAEG,GAAE,GAAE;AAAC,WAAO,KAAK,aAAa,0BAA0B,KAAK,eAAcI,EAAC,GAAEC,GAAER,KAAE,KAAK,aAAa,mBAAmB,QAAOO,EAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BP,MAAED,GAAE,GAAE;AAAC,SAAK,aAAa,0BAA0B,KAAK,eAAcQ,EAAC;AAAE,UAAMJ,MAAE,KAAK,aAAa;AAAgB,MAAEH,GAAC;AAAE,aAAQI,MAAE,GAAEA,MAAE,GAAE,EAAEA,IAAE,CAAAK,GAAEC,KAAE,IAAEN,MAAED,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAE,IAAEC,MAAED,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAE,IAAEC,MAAED,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC,GAAEK,GAAEE,KAAEA,KAAEH,EAAC,GAAEF,GAAEL,KAAEU,GAAC;AAAE,WAAOV;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,SAAK,aAAa,mBAAmB,KAAK,eAAcO,EAAC,GAAEP,IAAE,OAAO,OAAO,CAAC,KAAGO,GAAE,EAAE,GAAEP,IAAE,OAAO,OAAO,CAAC,KAAGO,GAAE,EAAE,GAAEP,IAAE,OAAO,OAAO,CAAC,KAAGO,GAAE,EAAE,GAAEP,IAAE,OAAO;AAAA,EAAK;AAAA,EAAC,MAAM,wBAAwBA,KAAEE,KAAEC,KAAEC,KAAEO,KAAE;AAAC,UAAMC,MAAE,KAAK,0BAA0BD,GAAC,GAAEL,MAAEO,IAAEC,MAAE,EAAEF,GAAC,IAAE,IAAEN,IAAE;AAAO,SAAK,aAAa,mBAAmB,KAAK,eAAcC,EAAC;AAAE,aAAQQ,MAAE,GAAEA,MAAED,KAAEC,OAAI;AAAC,YAAMf,MAAEM,IAAES,GAAC;AAAE,MAAAL,IAAE,CAAC,IAAEE,IAAEZ,IAAE,CAAC,CAAC,GAAEU,IAAE,CAAC,IAAEE,IAAEZ,IAAE,CAAC,CAAC,GAAEU,IAAE,CAAC,IAAEE,IAAEZ,IAAE,CAAC,CAAC,GAAEQ,GAAEE,KAAEA,KAAEH,EAAC,GAAES,IAAE,IAAED,GAAC,IAAEL,IAAE,CAAC,GAAEM,IAAE,IAAED,MAAE,CAAC,IAAEL,IAAE,CAAC,GAAEM,IAAE,IAAED,MAAE,CAAC,IAAEL,IAAE,CAAC;AAAA,IAAC;AAAC,QAAG,CAACV,IAAEgB,KAAE,GAAEF,GAAC,EAAE,QAAO;AAAK,MAAEF,GAAC;AAAE,QAAIK,MAAE;AAAK,SAAK,kCAAgCA,MAAE,KAAK,8BAA8B;AAAG,aAAQhB,MAAE,GAAEA,MAAE,IAAEa,KAAEb,OAAG,GAAE;AAAC,eAAQD,MAAE,GAAEA,MAAE,GAAEA,MAAI,CAAAY,IAAEZ,GAAC,IAAE,KAAK,IAAIY,IAAEZ,GAAC,GAAEgB,IAAEf,MAAED,GAAC,CAAC,GAAEY,IAAEZ,MAAE,CAAC,IAAE,KAAK,IAAIY,IAAEZ,MAAE,CAAC,GAAEgB,IAAEf,MAAED,GAAC,CAAC;AAAE,MAAAiB,OAAGd,IAAE,KAAK,EAAC,UAASa,IAAE,MAAMf,KAAEA,MAAE,CAAC,GAAE,yBAAwBgB,IAAC,CAAC;AAAA,IAAC;AAAC,QAAGf,QAAIQ,GAAEE,KAAEM,EAAC,GAAE,sBAAoB,KAAK,iBAAiB,OAAM;AAAC,UAAIlB;AAAE,YAAMC,MAAEO,GAAEI,KAAEV,IAAE,QAAQ,kBAAiBA,GAAC;AAAE,UAAG;AAAC,QAAAF,MAAE,MAAME,IAAE,QAAQ,eAAegB,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEd,KAAEH,KAAE,QAAQ;AAAA,MAAC,SAAOF,KAAE;AAAA,MAAC;AAAC,cAAMC,OAAG,EAAEY,KAAE,GAAE,GAAE,CAAC,KAAK,0BAAwBZ,GAAC;AAAA,IAAC;AAAC,WAAOY;AAAA,EAAC;AAAA,EAAC,eAAeZ,KAAE;AAAC,IAAAA,IAAE,cAAYA,GAAE,aAAW,KAAK,wBAAwBA,GAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMC,MAAE,IAAIA,IAAED,IAAE,aAAa;AAAE,SAAK,gBAAgBC,GAAC,GAAED,IAAE,YAAa,CAAAA,QAAG;AAAC,WAAK,mBAAmBA,GAAC;AAAA,IAAC,GAAGC,GAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBD,KAAE;AAAC,SAAK,YAAY,QAAS,CAAAC,QAAGD,IAAE,OAAOC,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAE;AAAC,SAAK,qBAAmBA,KAAE,KAAK,wBAAwB;AAAA,EAAC;AAAA,EAAC,6BAA4B;AAAC,QAAIA,MAAE,IAAGC,MAAE;AAAK,WAAO,KAAK,YAAY,QAAS,CAAC,EAAC,eAAcC,IAAC,MAAI;AAAC,YAAMC,MAAE,KAAK,mBAAmB,IAAID,GAAC;AAAE,iBAASC,OAAGA,MAAEH,QAAIA,MAAEG,KAAEF,MAAEC;AAAA,IAAE,CAAE,GAAED;AAAA,EAAC;AAAA,EAAC,gBAAgBD,KAAE;AAAC,SAAK,YAAY,IAAIA,GAAC,GAAE,KAAK,wBAAwB;AAAA,EAAC;AAAA,EAAC,mBAAmBA,KAAE;AAAC,SAAK,YAAY,OAAOA,GAAC,GAAE,KAAK,wBAAwB;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,UAAMA,MAAE,KAAK,2BAA2B;AAAE,IAAAA,QAAI,KAAK,mBAAiB,KAAK,iBAAeA,KAAE,KAAK,aAAa,aAAa,KAAK,eAAcA,GAAC;AAAA,EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,sBAAsB;AAAA,EAAW;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,aAAa;AAAA,EAAY;AAAC;AAAC,IAAMgB,MAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC;AAAxD,IAA0DN,MAAEP,GAAE;AAA9D,IAAgEe,KAAEf,GAAE;AAApE,IAAsEU,KAAE,CAAC,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,CAAC;AAAxI,IAA0IN,KAAEN,IAAE;;;ACAv4H,SAASkB,IAAEC,KAAED,KAAE;AAAC,QAAME,MAAED,IAAE,eAAe,WAAW,IAAK,CAAAE,QAAG,IAAIC,IAAE,IAAIC,IAAEF,GAAC,GAAEF,IAAE,eAAe,QAAQ,CAAE,GAAEG,MAAE,QAAMH,IAAE,gBAAc,MAAIA,IAAE,gBAAcD,MAAE,IAAEM,IAAEJ,GAAC,IAAED,IAAE;AAAa,SAAO,IAAIM,IAAEL,KAAEE,KAAEH,IAAE,WAAW;AAAC;AAAC,SAASC,IAAEM,KAAE;AAAC,SAAO,IAAIC,IAAED,IAAE,IAAK,CAACP,KAAEO,QAAIR,IAAEC,KAAEO,GAAC,CAAE,CAAC;AAAC;AAAC,SAASF,IAAEL,KAAE;AAAC,QAAMO,MAAEP,IAAE,OAAQ,CAACA,KAAEO,QAAIP,MAAEO,IAAE,cAAc,CAAC;AAAE,SAAO,KAAK,KAAKA,MAAEJ,MAAE,KAAK,EAAE;AAAC;AAAC,IAAMA,MAAE;;;ACArQ,eAAeM,IAAEA,KAAE;AAAC,MAAG,QAAMA,OAAG,QAAMA,IAAE,aAAW,QAAMA,IAAE,SAAS,QAAO;AAAK,QAAMC,MAAED,IAAE;AAAK,MAAG,QAAMC,IAAE,OAAM,IAAI,EAAE,wDAAuD,wCAAwC;AAAE,QAAMC,MAAE,EAAC,QAAOF,IAAE,OAAM,GAAEG,MAAE,MAAMA,GAAEH,KAAEE,GAAC,EAAE,MAAO,MAAI,IAAK;AAAE,MAAG,SAAOC,IAAE,QAAO;AAAK,QAAMC,MAAE,EAAEH,KAAEE,IAAE,IAAI;AAAE,MAAGC,OAAG,CAACA,IAAE,aAAa,KAAM,CAAAC,QAAG,kBAAgBA,IAAE,IAAK,EAAE,QAAO;AAAK,QAAMC,MAAE,MAAMC,GAAEJ,KAAEF,KAAEC,KAAEM,IAAE,EAAC,iBAAgB,CAAC,mBAAkB,YAAW,KAAK,EAAC,CAAC,EAAE,MAAO,MAAI,IAAK;AAAE,MAAG,SAAOF,OAAG,eAAaA,IAAE,KAAK,QAAO;AAAK,QAAME,MAAEF,IAAE,aAAa,MAAM,CAAC;AAAE,SAAM,aAAWE,IAAE,OAAKA,IAAE,WAAS;AAAI;;;ACAz1B,IAAMC,MAAN,MAAMA,IAAC;AAAA,EAAC,YAAYC,MAAE,IAAE,GAAEC,MAAE,KAAG,GAAE;AAAC,SAAK,OAAKD,KAAE,KAAK,MAAIC;AAAA,EAAC;AAAA,EAAC,IAAID,KAAEC,KAAE;AAAC,SAAK,OAAKD,KAAE,KAAK,MAAIC;AAAA,EAAC;AAAA,EAAC,MAAMD,KAAE;AAAC,YAAMA,QAAI,KAAK,OAAK,KAAK,IAAI,KAAK,MAAKA,IAAE,IAAI,GAAE,KAAK,MAAI,KAAK,IAAI,KAAK,KAAIA,IAAE,GAAG;AAAA,EAAE;AAAA,EAAC,OAAOA,KAAE;AAAC,WAAO,KAAK,QAAMA,OAAGA,OAAG,KAAK;AAAA,EAAG;AAAA,EAAC,OAAOA,KAAE;AAAC,WAAO,KAAK,SAAOA,IAAE,QAAM,KAAK,QAAMA,IAAE;AAAA,EAAG;AAAwD;AAAhDD,IAAK,OAAK,IAAIA,IAAE,GAAE,CAAC;AAASA,IAAK,WAAS,IAAIA;AAA1U,IAAMC,MAAND;;;ACAoH,IAAMG,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAE;AAAC,SAAK,eAAaD,KAAE,KAAK,UAAQE,GAAE,aAAaH,KAAE,EAAE,WAAW,GAAE,KAAK,OAAOE,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,QAAQ,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK;AAAA,EAAM;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,OAAO,aAAW,KAAK,QAAQ;AAAA,EAAU;AAAA,EAAC,UAAUE,KAAEC,KAAEL,KAAEC,MAAE,GAAE;AAAC,UAAMC,MAAE,IAAI,WAAW,KAAK,OAAME,MAAE,KAAK,cAAaC,MAAED,OAAG,KAAK,WAAW;AAAE,QAAI,WAAWJ,IAAE,OAAMC,MAAE,KAAK,WAAW,EAAE,IAAIC,GAAC;AAAA,EAAC;AAAA,EAAC,cAAa;AAAC,SAAK,QAAQ,QAAQ,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,cAAcE,KAAEC,KAAE;AAAC,UAAML,MAAEI,MAAE,KAAK,cAAaH,MAAEI,MAAE,KAAK;AAAa,SAAK,QAAQ,WAAW,IAAI,WAAW,KAAK,MAAM,GAAEL,KAAEA,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,OAAOG,KAAE;AAAC,UAAMC,MAAED,MAAE,KAAK,cAAaJ,MAAE,IAAI,YAAYK,GAAC;AAAE,SAAK,WAASD,OAAG,KAAK,YAAU,IAAI,WAAWJ,GAAC,EAAE,IAAI,IAAI,WAAW,KAAK,MAAM,CAAC,IAAE,IAAI,WAAWA,GAAC,EAAE,IAAI,IAAI,WAAW,KAAK,MAAM,EAAE,SAAS,GAAEI,MAAE,KAAK,YAAY,CAAC,IAAG,KAAK,SAAOJ,KAAE,KAAK,QAAQ,QAAQK,GAAC,GAAE,KAAK,YAAUD;AAAA,EAAC;AAAC;;;ACA7pB,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,gBAAcA,IAAE,SAASC,IAAE,uBAAsBC,GAAC,GAAE,KAAK,gBAAcF,IAAE,SAASC,IAAE,uBAAsBC,GAAC,GAAE,KAAK,QAAMF,IAAE,SAASC,IAAE,eAAcE,EAAC,GAAE,KAAK,cAAYH,IAAE,SAASC,IAAE,qBAAoBE,EAAC,GAAE,KAAK,mBAAiBH,IAAE,SAASC,IAAE,0BAAyB,CAAC,GAAE,KAAK,QAAMD,IAAE,SAASC,IAAE,eAAcG,EAAC,GAAE,KAAK,wBAAsBJ,IAAE,SAASC,IAAE,+BAA8BG,EAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYL,KAAEM,KAAE;AAAC,SAAK,QAAMN,KAAE,KAAK,wBAAsBM,KAAE,KAAK,aAAW,GAAE,KAAK,aAAW,GAAE,KAAK,cAAY,MAAK,KAAK,qBAAmB,MAAG,KAAK,YAAU,OAAG,KAAK,iBAAe,GAAE,KAAK,WAAS,OAAG,KAAK,YAAU;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAS,KAAK,QAAQ,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAM;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,OAAM;AAAC,UAAMN,MAAE,KAAK,YAAWM,MAAE,KAAK;AAAW,WAAON,OAAGM,MAAEN,MAAEM,MAAEN,MAAE,KAAK,YAAUM;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,eAAa,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,gBAAc,KAAK,aAAW,KAAG,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK;AAAA,EAAW;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,SAAS,cAAY;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,aAAW,GAAE,KAAK,aAAW,GAAE,KAAK,cAAY;AAAA,EAAI;AAAA,EAAC,mBAAkB;AAAC,SAAK,qBAAmB;AAAA,EAAE;AAAA,EAAC,cAAa;AAAC,IAAAC,IAAE,CAAC,KAAK,WAAU,kBAAkB,GAAE,KAAK,YAAU,MAAG,KAAK,iBAAe,KAAK;AAAA,EAAU;AAAA,EAAC,YAAW;AAAC,IAAAA,IAAE,KAAK,WAAU,cAAc,GAAE,KAAK,OAAK,IAAE,KAAK,YAAU,KAAK,QAAQ,GAAE,KAAK,YAAU,KAAK,QAAQ,YAAY,GAAE,KAAK,WAAS,SAAI,KAAK,eAAe,KAAK,gBAAe,KAAK,UAAU,GAAE,KAAK,YAAU;AAAA,EAAE;AAAA,EAAC,eAAc;AAAC,IAAAA,IAAE,KAAK,WAAU,cAAc,GAAE,KAAK,UAAQ,KAAK,MAAM;AAAE,UAAMP,MAAE,KAAK;AAAU,WAAO,KAAK,uBAAqB,KAAK,cAAYA,KAAE,KAAK,qBAAmB,QAAI,KAAK,eAAe,GAAEO,IAAE,KAAK,eAAa,KAAK,YAAW,kBAAkB,GAAEP;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,IAAAO,IAAE,KAAK,WAAU,cAAc,GAAEA,IAAE,KAAK,OAAK,GAAE,cAAc;AAAE,UAAMP,MAAE,KAAK,eAAa,KAAK;AAAY,SAAK,eAAe,GAAEA,QAAI,KAAK,cAAY,KAAK;AAAA,EAAW;AAAA,EAAC,QAAO;AAAC,UAAMA,MAAE,KAAK,IAAIQ,KAAE,KAAK,MAAM,KAAK,YAAU,CAAC,CAAC;AAAE,SAAK,QAAQR,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAMA,MAAE,KAAK,IAAIQ,KAAE,KAAK,MAAM,KAAK,YAAUC,EAAC,CAAC;AAAE,SAAK,QAAQT,GAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAE;AAAC,QAAGO,IAAE,KAAK,WAAU,cAAc,GAAEP,QAAI,KAAK,UAAU;AAAO,UAAMM,MAAE,IAAIG,IAAE,KAAK,OAAM,KAAK,sBAAsB,QAAOT,GAAC;AAAE,QAAG,KAAK,SAAQ;AAAC,WAAK,gBAAc,KAAK,eAAa,KAAK,cAAY,KAAK,YAAU,KAAK,cAAY,KAAK;AAAW,YAAMA,MAAE,KAAK,MAAKC,MAAE,KAAK,kBAAkBK,GAAC;AAAE,MAAAC,IAAEN,QAAID,KAAE,oBAAoB,GAAE,KAAK,QAAQ,QAAQ,GAAE,KAAK,aAAW,GAAE,KAAK,aAAWC,KAAE,KAAK,iBAAe;AAAA,IAAC;AAAC,SAAK,WAAS,MAAG,KAAK,YAAUD,KAAE,KAAK,UAAQM,KAAE,KAAK,QAAM,IAAIP,IAAE,KAAK,sBAAsB,WAAW,KAAK,QAAQ,KAAK,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBC,KAAE;AAAC,UAAMM,MAAE,KAAK,YAAWL,MAAE,KAAK;AAAW,WAAOA,MAAEK,OAAG,KAAK,QAAQ,UAAUL,KAAEK,KAAEN,GAAC,GAAEM,MAAEL,OAAGA,MAAEK,OAAG,KAAK,QAAQ,UAAUL,KAAE,KAAK,WAAUD,GAAC,GAAEM,MAAE,KAAG,KAAK,QAAQ,UAAU,GAAEA,KAAEN,KAAE,KAAK,YAAUC,GAAC,GAAEK,OAAG,KAAK,YAAUL,QAAI;AAAA,EAAC;AAAA,EAAC,eAAeD,MAAE,GAAE;AAAC,SAAK,cAAY,KAAK,aAAWA,OAAG,KAAK;AAAA,EAAS;AAAA,EAAC,eAAeA,MAAE,GAAE;AAAC,SAAK,cAAY,KAAK,aAAWA,OAAG,KAAK;AAAA,EAAS;AAAA,EAAC,eAAeA,KAAEM,KAAE;AAAC,IAAAN,MAAEM,MAAE,KAAK,QAAQ,cAAcN,KAAEM,GAAC,IAAEN,MAAEM,QAAIA,MAAE,KAAG,KAAK,QAAQ,cAAc,GAAEA,GAAC,GAAE,KAAK,QAAQ,cAAcN,KAAE,KAAK,SAAS;AAAA,EAAE;AAAC;AAAC,IAAMQ,MAAE;;;ACAppE,IAAIE;AAAE,SAASC,IAAEC,KAAE;AAAC,MAAIC,MAAEC,GAAE,EAAE,QAAQD,IAAE,cAAc,EAAE,QAAQA,IAAE,eAAe,EAAE,QAAQA,IAAE,cAAc,EAAE,QAAQA,IAAE,WAAW,EAAE,MAAMA,IAAE,aAAa,EAAE,MAAMA,IAAE,mBAAmB,EAAE,MAAMA,IAAE,iBAAiB;AAAE,SAAOD,IAAE,SAASC,IAAE,gBAAgB,MAAIA,MAAEA,IAAE,MAAMA,IAAE,gBAAgB,IAAGD,IAAE,SAASC,IAAE,KAAK,MAAIA,MAAEA,IAAE,OAAOA,IAAE,KAAK,IAAGD,IAAE,SAASC,IAAE,SAAS,MAAIA,MAAEA,IAAE,OAAOA,IAAE,SAAS,IAAGA,MAAEA,IAAE,GAAGA,IAAE,KAAK,EAAE,GAAGA,IAAE,QAAQ,GAAEA;AAAC;AAAC,CAAC,SAASD,KAAE;AAAC,EAAAA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,mBAAiB,EAAE,IAAE,oBAAmBA,IAAEA,IAAE,SAAO,EAAE,IAAE,UAASA,IAAEA,IAAE,oBAAkB,EAAE,IAAE,qBAAoBA,IAAEA,IAAE,SAAO,EAAE,IAAE;AAAQ,EAAEF,OAAIA,KAAE,CAAC,EAAE;AAAE,IAAMK,KAAN,MAAO;AAAA,EAAC,YAAYH,KAAE;AAAC,SAAK,iBAAeA,IAAE,SAASC,IAAE,gBAAeG,EAAC,GAAE,KAAK,kBAAgBJ,IAAE,SAASC,IAAE,iBAAgBG,EAAC,GAAE,KAAK,cAAYJ,IAAE,SAASC,IAAE,aAAYI,EAAC,GAAE,KAAK,QAAML,IAAE,SAASC,IAAE,eAAcK,EAAC,GAAE,KAAK,cAAYN,IAAE,SAASC,IAAE,qBAAoBK,EAAC,GAAE,KAAK,oBAAkBN,IAAE,SAASC,IAAE,mBAAkBM,EAAC,GAAE,KAAK,iBAAeP,IAAE,SAASC,IAAE,gBAAeO,EAAC,GAAE,KAAK,mBAAiBR,IAAE,SAASC,IAAE,kBAAiB,CAAC,GAAE,KAAK,QAAMD,IAAE,SAASC,IAAE,OAAMQ,EAAC,GAAE,KAAK,wBAAsBT,IAAE,SAASC,IAAE,WAAUQ,EAAC,GAAE,KAAK,QAAMT,IAAE,SAASC,IAAE,OAAMS,EAAC,GAAE,KAAK,WAASV,IAAE,SAASC,IAAE,UAASS,EAAC;AAAA,EAAC;AAAC;AAAC,IAAIC,KAAE,cAAc,EAAC;AAAA,EAAC,YAAYX,KAAEC,KAAE;AAAC,UAAMD,GAAC,GAAE,KAAK,SAAO,IAAIY,MAAE,KAAK,YAAU,GAAE,KAAK,QAAM,GAAE,KAAK,QAAM,GAAE,KAAK,uBAAqB,oBAAI,OAAI,KAAK,2BAAyB,oBAAI,OAAI,KAAK,UAAQb,IAAEE,GAAC,GAAE,KAAK,YAAUY,KAAE,KAAK,UAAQ,KAAK,QAAQ,aAAa,KAAK,SAAS,GAAE,KAAK,QAAM,IAAIV,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,cAAa;AAAC,SAAK,QAAM,IAAE,KAAK,aAAW,KAAK,MAAM;AAAE,UAAMH,MAAE,KAAK,UAAU;AAAE,WAAO,KAAK,MAAM,MAAM,IAAIA,KAAEF,GAAE,SAAS,GAAE,KAAK,SAAQ,KAAK,OAAO,KAAK,mBAAmB,GAAEE;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,UAAMC,MAAE,KAAK,MAAM;AAAM,IAAAa,IAAEd,OAAG,KAAGA,MAAE,KAAK,aAAW,OAAKC,IAAE,IAAID,GAAC,IAAEF,GAAE,YAAW,yBAAyB,GAAE,KAAK,cAAcE,KAAEF,GAAE,MAAM,IAAE,KAAK,eAAeE,KAAEF,GAAE,MAAM,IAAE,KAAK,aAAaE,GAAC,GAAE,KAAK,OAAO,KAAK,mBAAmB;AAAA,EAAC;AAAA,EAAC,aAAaA,KAAE;AAAC,UAAMC,MAAE,KAAK,MAAM;AAAM,IAAAa,IAAEd,OAAG,KAAGA,MAAE,KAAK,aAAW,OAAKC,IAAE,IAAID,GAAC,IAAEF,GAAE,YAAW,yBAAyB,GAAEG,IAAE,IAAID,KAAE,CAAC,GAAE,KAAK;AAAA,EAAO;AAAA,EAAC,kBAAkBA,KAAEC,KAAEa,MAAE,MAAG;AAAC,SAAK,MAAM,eAAe,OAAOd,KAAEC,GAAC,GAAEa,OAAG,KAAK,qBAAqBd,GAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAEC,KAAE;AAAC,SAAK,MAAM,eAAe,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAEC,KAAEa,MAAE,MAAG;AAAC,SAAK,MAAM,gBAAgB,OAAOd,KAAEC,GAAC,GAAEa,OAAG,KAAK,qBAAqBd,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBA,KAAEC,KAAE;AAAC,SAAK,MAAM,gBAAgB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBD,KAAE;AAAC,UAAMC,MAAE,KAAK,OAAMa,MAAEP,IAAEQ,MAAEC;AAAE,IAAAf,IAAE,eAAe,OAAOD,KAAEiB,EAAC,GAAEhB,IAAE,gBAAgB,OAAOD,KAAEkB,EAAC;AAAE,UAAMC,MAAEC,GAAEF,IAAEA,IAAED,EAAC;AAAE,IAAAL,GAAEE,KAAEK,IAAE,EAAE,GAAEA,IAAE,EAAE,GAAEA,IAAE,EAAE,CAAC,GAAElB,IAAE,YAAY,OAAOD,KAAEc,GAAC,GAAEO,GAAEN,KAAEI,GAAC,GAAElB,IAAE,MAAM,OAAOD,KAAEe,GAAC;AAAE,UAAMO,MAAEb,GAAEF,IAAEY,GAAC;AAAE,IAAAG,IAAE,KAAK,GAAErB,IAAE,kBAAkB,IAAID,KAAE,GAAEsB,IAAE,CAAC,CAAC,GAAErB,IAAE,kBAAkB,IAAID,KAAE,GAAEsB,IAAE,CAAC,CAAC,GAAER,IAAEC,KAAEA,GAAC,GAAEF,IAAEE,KAAEA,GAAC,GAAEd,IAAE,YAAY,OAAOD,KAAEe,GAAC,GAAE,KAAK,eAAef,KAAEF,GAAE,iBAAiB,GAAE,KAAK,OAAO,KAAK,8BAA6B,EAAC,OAAME,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAEC,KAAE;AAAC,UAAMa,MAAE,KAAK;AAAM,IAAAA,IAAE,MAAM,OAAOd,KAAEgB,EAAC,GAAEF,IAAE,YAAY,OAAOd,KAAEO,EAAC,GAAEN,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,CAAC,IAAEe,GAAE,CAAC,GAAEf,IAAE,EAAE,IAAEe,GAAE,CAAC,GAAEf,IAAE,EAAE,IAAE,GAAEA,IAAE,EAAE,IAAEM,GAAE,CAAC,GAAEN,IAAE,EAAE,IAAEM,GAAE,CAAC,GAAEN,IAAE,EAAE,IAAEM,GAAE,CAAC,GAAEN,IAAE,EAAE,IAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAEC,KAAE;AAAC,YAAM,KAAK,wBAAsB,KAAK,qBAAqB,eAAe,MAAKD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAEC,KAAE;AAAC,WAAO,KAAK,kBAAkBD,KAAEC,GAAC,GAAE,QAAM,KAAK,wBAAsB,KAAK,qBAAqB,eAAe,MAAKD,KAAEC,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAEC,KAAE;AAAC,SAAK,MAAM,eAAe,OAAOD,KAAEC,GAAC,GAAE,QAAM,KAAK,wBAAsB,KAAK,qBAAqB,eAAe,MAAKD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAE;AAAC,QAAIC,MAAE,KAAK,MAAM,kBAAkB,IAAID,KAAE,CAAC;AAAE,WAAO,QAAM,KAAK,yBAAuB,KAAK,qBAAqB,YAAYO,IAAE,MAAKP,GAAC,GAAEC,OAAG,KAAK,IAAIM,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,IAAGN;AAAA,EAAC;AAAA,EAAC,6BAA6BD,KAAE;AAAC,QAAIC,MAAE,KAAK,MAAM,kBAAkB,IAAID,KAAE,CAAC;AAAE,WAAO,QAAM,KAAK,yBAAuB,KAAK,qBAAqB,YAAYO,IAAE,MAAKP,GAAC,GAAEC,OAAGsB,GAAEhB,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,IAAGN;AAAA,EAAC;AAAA,EAAC,SAASD,KAAEC,KAAE;AAAC,SAAK,MAAM,MAAM,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,SAAK,MAAM,iBAAiB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,SAAK,MAAM,iBAAiB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,SAASD,KAAEC,KAAE;AAAC,SAAK,MAAM,MAAM,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBD,KAAEC,KAAE;AAAC,SAAK,MAAM,sBAAsB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWD,KAAEC,KAAE;AAAC,IAAAA,QAAI,KAAK,WAAWD,GAAC,MAAI,KAAK,cAAcA,KAAEF,GAAE,SAAQG,GAAC,GAAE,KAAK,OAAO,KAAK,+BAA8B,EAAC,OAAMD,IAAC,CAAC;AAAA,EAAE;AAAA,EAAC,WAAWA,KAAE;AAAC,WAAO,KAAK,cAAcA,KAAEF,GAAE,OAAO;AAAA,EAAC;AAAA,EAAC,aAAaE,KAAEC,KAAE;AAAC,UAAK,EAAC,sBAAqBa,IAAC,IAAE,MAAKC,MAAED,IAAE,IAAId,GAAC;AAAE,IAAAC,MAAEA,QAAIc,QAAID,IAAE,IAAId,KAAEC,GAAC,GAAE,KAAK,cAAcD,KAAEF,GAAE,WAAU,IAAE,GAAE,KAAK,OAAO,KAAK,4BAA4B,KAAGiB,QAAID,IAAE,OAAOd,GAAC,GAAE,KAAK,cAAcA,KAAEF,GAAE,WAAU,KAAE,GAAE,KAAK,OAAO,KAAK,4BAA4B;AAAA,EAAE;AAAA,EAAC,IAAI,sBAAqB;AAAC,WAAO,KAAK;AAAA,EAAoB;AAAA,EAAC,sBAAsBE,KAAE;AAAC,WAAO,KAAK,cAAcA,KAAEF,GAAE,SAAS;AAAA,EAAC;AAAA,EAAC,uBAAuBE,KAAE;AAAC,UAAMC,MAAE,KAAK,yBAAyB,IAAID,GAAC,KAAG;AAAK,WAAO,KAAK,yBAAyB,OAAOA,GAAC,GAAEC;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAE;AAAC,UAAMC,MAAE,KAAK,oBAAoB,IAAID,GAAC,KAAG;AAAK,WAAOC,MAAE,KAAK,yBAAyB,IAAID,KAAEC,GAAC,IAAE,KAAK,yBAAyB,OAAOD,GAAC,GAAEC;AAAA,EAAC;AAAA,EAAC,SAASD,KAAE;AAAC,WAAO,KAAK,MAAM,MAAM,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,WAAO,KAAK,MAAM,SAAS,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,QAAIC,MAAE;AAAE,aAAQa,MAAE,GAAEA,MAAE,KAAK,WAAU,EAAEA,KAAE;AAAC,WAAK,SAASA,GAAC,IAAEd,OAAG,EAAEC;AAAA,IAAC;AAAC,WAAOA;AAAA,EAAC;AAAA,EAAC,eAAeD,KAAEC,KAAE;AAAC,UAAMa,MAAE,KAAK,MAAM;AAAM,IAAAb,MAAEa,IAAE,IAAId,GAAC,IAAEC,KAAEa,IAAE,IAAId,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAEC,KAAE;AAAC,UAAMa,MAAE,KAAK,MAAM;AAAM,IAAAb,MAAEa,IAAE,IAAId,GAAC,IAAE,CAACC,KAAEa,IAAE,IAAId,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcD,KAAEC,KAAEa,KAAE;AAAC,IAAAA,MAAE,KAAK,eAAed,KAAEC,GAAC,IAAE,KAAK,iBAAiBD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcD,KAAEC,KAAE;AAAC,WAAM,CAAC,EAAE,KAAK,MAAM,MAAM,IAAID,GAAC,IAAEC;AAAA,EAAE;AAAA,EAAC,QAAO;AAAC,SAAK,YAAU,KAAK,IAAIY,KAAE,KAAK,MAAM,KAAK,YAAU,CAAC,CAAC,GAAE,KAAK,UAAQ,KAAK,QAAQ,aAAa,KAAK,SAAS,EAAE,SAAS,KAAK,OAAO,GAAE,KAAK,QAAM,IAAIV,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,UAAMH,MAAE,KAAK,MAAM;AAAM,QAAIC,MAAE,KAAK;AAAM,WAAKD,IAAE,IAAIC,GAAC,IAAEH,GAAE,YAAW,CAAAG,MAAEA,MAAE,MAAI,KAAK,YAAU,IAAEA,MAAE;AAAE,WAAO,KAAK,QAAMA,MAAE,MAAI,KAAK,YAAU,IAAEA,MAAE,GAAEA;AAAA,EAAC;AAAC;AAAE,SAASsB,GAAEvB,KAAEC,KAAEa,KAAE;AAAC,SAAO,KAAK,IAAI,KAAK,IAAId,KAAEC,GAAC,GAAE,KAAK,IAAI,KAAK,IAAID,KAAEC,GAAC,GAAEa,GAAC,CAAC;AAAC;AAAC,EAAE,CAACU,GAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEb,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACa,GAAE,CAAC,GAAEb,GAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAACa,GAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEb,GAAE,WAAU,QAAO,IAAI,GAAEA,KAAE,EAAE,CAACQ,GAAE,0DAA0D,CAAC,GAAER,EAAC;AAAE,IAAMJ,KAAEc,GAAE;AAAV,IAAYL,KAAEf,IAAE;AAAhB,IAAkBgB,KAAEhB,IAAE;AAAtB,IAAwBiB,KAAEjB,IAAE;;;ACA70O,IAAMwB,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAO,CAAAC,QAAGC,GAAE,KAAK,cAAc,KAAK,eAAe,OAAOD,KAAE,KAAK,UAAU,CAAC,GAAG,EAAC,cAAa,GAAE,CAAC,GAAE,KAAK,gBAAcF,KAAE,KAAK,kBAAgBC,KAAE,KAAK,aAAWG,GAAE,GAAE,KAAK,WAASJ,IAAE;AAAA,EAAC;AAAA,EAAC,YAAYE,KAAE;AAAC,UAAMG,MAAE,KAAK,cAAc,KAAK,gBAAeC,MAAE,KAAK,cAAc,0BAA0BJ,KAAE,KAAK,QAAQ;AAAE,IAAAE,GAAEG,GAAE,KAAK,UAAU,GAAE,KAAK,gBAAgB,QAAOD,GAAC,GAAE,KAAK,WAAW,CAAC,IAAE,KAAK,gBAAgB,SAAOE,GAAEF,GAAC,GAAED,IAAE,OAAOH,KAAE,KAAK,UAAU,GAAE,KAAK,IAAI,CAACA,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,SAAK,OAAO,CAACA,GAAC,CAAC;AAAA,EAAC;AAAC;;;ACAvyB,IAAMO,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,SAAK,oBAAkBD,KAAE,KAAK,uBAAqBC;AAAA,EAAC;AAAA,EAAC,YAAYD,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,yBAAyBF,GAAC,GAAEI,MAAE,KAAK,oBAAkBH,MAAEE;AAAE,QAAIE,MAAE;AAAE,aAAQC,MAAE,GAAEA,MAAE,KAAK,qBAAqB,QAAO,EAAEA,IAAE,CAAAF,OAAG,KAAK,qBAAqBE,GAAC,MAAID,MAAEC;AAAG,WAAOD;AAAA,EAAC;AAAC;;;ACA1N,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAED,KAAE;AAAC,SAAK,YAAUC,KAAE,KAAK,cAAYD,KAAE,KAAK,OAAK,oBAAI;AAAA,EAAG;AAAA,EAAC,UAAS;AAAC,SAAK,KAAK,QAAS,CAACC,KAAED,QAAI;AAAC,cAAMC,OAAG,KAAK,YAAY,QAAQ,KAAK,WAAUD,GAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,KAAKA,KAAEE,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,UAAU,SAAS,IAAIF,GAAC;AAAE,QAAG,CAACE,MAAID,GAAC,EAAE,QAAO;AAAK,SAAK,KAAK,IAAIA,GAAC,KAAG,KAAK,KAAK,IAAIA,KAAE,KAAK,YAAY,QAAQ,KAAK,WAAUD,KAAEC,GAAC,CAAC;AAAE,UAAME,MAAE,KAAK,KAAK,IAAIF,GAAC;AAAE,QAAGE,KAAE;AAAC,UAAGA,IAAE,gBAAgBL,GAAC,MAAIM,GAAE,OAAO,QAAOD;AAAE,WAAK,YAAY,cAAc;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAC;;;ACAnJ,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,cAAc,MAAKG,MAAEF,IAAE,UAASG,MAAEH,IAAE,SAAS,kBAAkB,GAAEI,MAAED,IAAE;AAAS,SAAK,aAAWJ,IAAE,WAAUK,IAAE,cAAc,EAAC,0BAAyB,KAAE,CAAC,GAAE,KAAK,WAASF,KAAE,KAAK,WAASE,KAAE,KAAK,cAAY,IAAIC,IAAED,KAAE,KAAK,UAAU,GAAE,KAAK,qBAAmBD,IAAE,oBAAmB,KAAK,MAAIG,GAAE,aAAaL,KAAE,EAAE,aAAYE,IAAE,MAAM,GAAE,KAAK,MAAI,IAAII,IAAEN,KAAEK,IAAE,oBAAI,IAAI,CAAC,CAAC,YAAWD,IAAEF,IAAE,kBAAkB,CAAC,CAAC,CAAC,GAAE,oBAAI,IAAI,CAAC,CAAC,YAAW,KAAK,GAAG,CAAC,CAAC,CAAC,GAAE,KAAK,cAAYA,IAAE;AAAA,EAAY;AAAA,EAAC,UAAS;AAAC,SAAK,YAAY,QAAQ,GAAE,KAAK,IAAI,QAAQ,GAAE,KAAK,IAAI,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,SAAS;AAAA,EAAY;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,cAAY;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,MAAI,KAAK,IAAI,aAAW,KAAK,IAAI;AAAA,EAAU;AAAA,EAAC,UAAUK,KAAEH,KAAEE,KAAEE,KAAEC,KAAEC,KAAEZ,KAAEC,KAAE;AAAC,WAAO,KAAK,SAAS,UAAUQ,KAAEH,KAAEE,KAAEE,KAAEC,KAAEC,KAAEZ,KAAEC,GAAC;AAAA,EAAC;AAAC;;;ACApvB,IAAMY,MAAN,MAAM,GAAC;AAAA,EAAC,aAAa,OAAOC,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,MAAM,QAAQ,WAAWF,IAAE,WAAW,IAAK,CAAAG,QAAGJ,IAAE,WAAW,SAAU,MAAI,IAAID,IAAEC,KAAEI,GAAC,GAAGF,GAAC,CAAE,CAAC,GAAEG,MAAEF,IAAE,IAAK,CAAAC,QAAG,gBAAcA,IAAE,SAAOA,IAAE,QAAM,IAAK,EAAE,OAAO,CAAC;AAAE,QAAG,EAAEF,GAAC,KAAGG,IAAE,WAASF,IAAE,QAAO;AAAC,MAAAE,IAAE,QAAS,CAAAD,QAAGA,IAAE,QAAQ,CAAE,GAAED,GAAED,GAAC;AAAE,iBAAUE,OAAKD,IAAE,KAAG,eAAaC,IAAE,OAAO,OAAMA,IAAE;AAAA,IAAM;AAAC,WAAO,IAAI,GAAEH,IAAE,sBAAqBI,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYD,KAAEE,KAAE;AAAC,SAAK,uBAAqBF,KAAE,KAAK,aAAWE;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAW,QAAS,CAAAF,QAAGA,IAAE,QAAQ,CAAE;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAEE,KAAEC,KAAEP,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,WAAW,QAAS,CAAAE,QAAGA,IAAE,UAAUD,KAAEE,KAAEC,KAAEP,KAAEC,KAAEC,KAAE,KAAK,gBAAeC,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,QAAG,QAAM,KAAK,cAAa;AAAC,YAAMC,MAAE,EAAE;AAAE,WAAK,WAAW,QAAS,CAAAE,QAAG;AAAC,gBAAMA,IAAE,iBAAeE,GAAEJ,KAAEE,IAAE,aAAa,KAAK,GAAEE,GAAEJ,KAAEE,IAAE,aAAa,KAAK;AAAA,MAAE,CAAE,GAAE,KAAK,eAAaF;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,iBAAgB;AAAC,QAAG,QAAM,KAAK,iBAAgB;AAAC,YAAMA,MAAE,KAAK,aAAYE,MAAEA,GAAE;AAAE,MAAAG,GAAEL,KAAEE,GAAC,GAAE,KAAK,kBAAgB,EAAC,QAAOA,KAAE,QAAO,MAAG,EAAEF,GAAC,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAe;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,WAAW,OAAQ,CAACA,KAAEE,QAAIF,MAAEE,IAAE,eAAe,CAAC;AAAA,EAAC;AAAC;;;ACAs+B,IAAMI,KAAE,CAAAC,QAAG;AAAC,QAAMC,MAAED,IAAE,mBAAmB,QAAOE,MAAEF,IAAE,OAAO,IAAK,CAAAA,QAAGA,IAAE,oBAAqB;AAAE,SAAO,IAAIA,IAAEC,KAAEC,GAAC;AAAC;AAAE,IAAIC,KAAE,cAAcC,IAAC;AAAA,EAAC,YAAYJ,KAAEC,KAAE;AAAC,UAAMD,GAAC,GAAE,KAAK,OAAKK,GAAE,KAAI,KAAK,WAAS,OAAG,KAAK,UAAQ,CAAC,GAAE,KAAK,6BAA2B,IAAI,SAAM,KAAK,kCAAgC,oBAAI,OAAI,KAAK,iBAAe,GAAE,KAAK,mBAAiB,GAAE,KAAK,cAAY,OAAG,KAAK,UAAQ,IAAI,MAAE,KAAK,gCAA8B,IAAG,KAAK,iBAAe,OAAG,KAAK,WAAS,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAgB,CAAAN,QAAG,KAAK,UAAUA,GAAC,CAAC,GAAE,CAACM,GAAE,sBAAqB,CAAAN,QAAG,CAAC,CAAC,KAAK,sBAAsB,KAAG,KAAK,UAAUA,GAAC,CAAC,CAAC,CAAC,GAAE,KAAK,gBAAc,IAAIO,GAAE,EAAC,sBAAqBP,IAAE,qBAAoB,GAAEA,IAAE,cAAc,GAAE,KAAK,WAAWC,IAAE,aAAaO,GAAE,cAAa,IAAI,CAAC;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,SAAK,wBAAsBC,GAAE,KAAK,cAAc,GAAE,KAAK,0BAAwBR,IAAE,KAAK,uBAAsB,CAAC,GAAE,KAAK,WAAW,CAAC,KAAK,cAAc,OAAO,GAAG,qBAAqB,MAAI,KAAK,oBAAoB,CAAE,GAAE,KAAK,cAAc,OAAO,GAAG,8BAA8B,CAAC,EAAC,OAAMD,IAAC,MAAI;AAAC,WAAK,oBAAoB,GAAE,KAAK,SAAS,6BAA6BA,GAAC;AAAA,IAAC,CAAE,GAAE,KAAK,cAAc,OAAO,GAAG,+BAA+B,CAAC,EAAC,OAAMA,IAAC,MAAI;AAAC,WAAK,oBAAoB,IAAE,GAAE,KAAK,SAAS,+BAA+BA,GAAC;AAAA,IAAC,CAAE,GAAE,KAAK,cAAc,OAAO,GAAG,8BAA8B,MAAI,KAAK,oBAAoB,IAAE,CAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAM,CAAC,KAAK,4BAA2B,GAAG,KAAK,gCAAgC,OAAO,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,8CAA6C;AAAC,UAAMA,MAAE,CAAC,KAAK,0BAA0B;AAAE,eAAUC,OAAK,KAAK,gCAAgC,CAAAA,IAAE,CAAC,MAAIG,OAAGJ,IAAE,KAAKC,IAAE,CAAC,CAAC;AAAE,WAAOD;AAAA,EAAC;AAAA,EAAC,aAAaA,KAAE;AAAC,WAAO,KAAK,gCAAgC,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAO,KAAK,OAAO,OAAO,SAAO;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,QAAQ,KAAK,QAAQ,SAAO,CAAC,EAAE;AAAA,EAAW;AAAA,EAAC,IAAI,qBAAoB;AAAC,WAAO,KAAK,QAAQ,KAAK,QAAQ,SAAO,CAAC,EAAE;AAAA,EAAc;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,QAAQ,KAAK,QAAQ,SAAO,CAAC,EAAE,WAAW,CAAC,EAAE;AAAA,EAAQ;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK;AAAA,EAAW;AAAA,EAAC,IAAI,kBAAkBA,KAAE;AAAC,SAAK,cAAYA;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,SAAS;AAAA,EAAY;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,QAAQ,KAAM,CAAAA,QAAGA,IAAE,WAAW,KAAM,CAAAA,QAAGA,IAAE,SAAS,YAAa,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,uBAAuB,OAAQ,CAACA,KAAEC,QAAIA,IAAE,OAAQ,CAACD,KAAEC,QAAID,MAAEC,IAAE,YAAYD,GAAC,GAAG,KAAK,QAAQ,OAAQ,CAACA,KAAEC,QAAID,MAAEC,IAAE,WAAW,OAAQ,CAACD,KAAEC,QAAID,MAAEC,IAAE,YAAY,CAAC,GAAG,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,UAAMD,MAAE,KAAK,cAAc,MAAKC,MAAE,CAAC;AAAE,WAAO,KAAK,QAAQ,QAAS,CAACD,KAAEE,QAAI;AAAC,YAAMQ,MAAE,KAAK,uBAAuB,CAAC,EAAER,GAAC,EAAE,OAAK,KAAK,uBAAuB,CAAC,EAAEA,GAAC,EAAE,MAAKS,MAAEX,IAAE;AAAc,MAAAC,IAAE,KAAK,EAAC,mBAAkBS,KAAE,mBAAkBA,MAAEC,KAAE,sBAAqBA,IAAC,CAAC;AAAA,IAAC,CAAE,GAAE,EAAC,gBAAeX,KAAE,mBAAkBC,IAAE,OAAQ,CAACD,KAAEC,QAAID,MAAEC,IAAE,mBAAmB,CAAC,GAAE,mBAAkBA,IAAE,OAAQ,CAACD,KAAEC,QAAID,MAAEC,IAAE,mBAAmB,CAAC,GAAE,QAAOA,IAAC;AAAA,EAAC;AAAA,EAAC,+BAA+BD,MAAE,CAAC,GAAE;AAAC,UAAK,EAAC,MAAKC,IAAC,IAAE,KAAK,SAAS;AAAc,WAAO,KAAK,OAAO,OAAO,IAAK,CAAAC,QAAG;AAAC,MAAAF,IAAE,KAAK,IAAIY,IAAEX,KAAE,KAAK,qBAAqB,CAAC;AAAA,IAAC,CAAE,GAAED;AAAA,EAAC;AAAA,EAAC,MAAM,wBAAwBA,KAAEE,KAAE;AAAC,SAAK,WAASF,KAAE,KAAK,+BAA+B,KAAK,0BAA0B;AAAE,UAAMU,MAAE,MAAM,QAAQ,WAAW,KAAK,OAAO,OAAO,IAAK,CAAAT,QAAGY,IAAE,OAAOb,KAAEC,KAAEC,GAAC,CAAE,CAAC,GAAES,MAAED,IAAE,IAAK,CAAAV,QAAG,gBAAcA,IAAE,SAAOA,IAAE,QAAM,IAAK,EAAE,OAAO,CAAC;AAAE,QAAG,EAAEE,GAAC,KAAGS,IAAE,WAASD,IAAE,QAAO;AAAC,MAAAC,IAAE,QAAS,CAAAX,QAAGA,IAAE,QAAQ,CAAE,GAAEW,GAAET,GAAC;AAAE,iBAAUF,OAAKU,IAAE,KAAG,eAAaV,IAAE,OAAO,OAAMA,IAAE;AAAA,IAAM;AAAC,SAAK,UAAQW,KAAE,KAAK,iBAAeZ,GAAE,IAAI;AAAA,EAAC;AAAA,EAAC,4BAA2B;AAAC,SAAK,kBAAkB,GAAE,KAAK,QAAQ,QAAS,CAAAC,QAAGA,IAAE,QAAQ,CAAE,GAAE,KAAK,2BAA2B,QAAS,CAAAA,QAAGA,IAAE,QAAQ,CAAE,GAAE,KAAK,gCAAgC,QAAS,CAAAA,QAAGA,IAAE,QAAS,CAAAA,QAAGA,IAAE,QAAQ,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,wBAAuB;AAAC,WAAO,KAAK,QAAQ,KAAM,CAAAA,QAAGA,IAAE,WAAW,KAAM,CAAAA,QAAG;AAAC,YAAMC,MAAED,IAAE,SAAS,SAAS,IAAIM,GAAE,oBAAoB;AAAE,aAAOL,MAAIS,IAAE,KAAK;AAAA,IAAC,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,WAAO,EAAE,KAAK,iCAAiC,CAAAV,QAAGA,IAAE,KAAM,CAAAA,QAAGA,IAAE,OAAK,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,YAAOA,QAAIU,IAAE,aAAW,KAAK,cAAc,OAAKV,QAAIU,IAAE,mBAAiB,KAAK,aAAaN,GAAC;AAAA,EAAE;AAAA,EAAC,cAAcJ,KAAE;AAAC,QAAG,CAACC,IAAE,uCAAsC;AAAC,UAAG,KAAK,uBAAsB;AAAC,cAAMA,MAAED,IAAE,KAAK,cAAc,OAAO,KAAK,OAAO;AAAE,aAAK,QAAQ,SAASA,IAAE,KAAK,aAAa,GAAEC,OAAG,KAAK,oBAAoB;AAAA,MAAC;AAAC,WAAK,mBAAiB,KAAK,QAAQa,EAAC,GAAE,KAAK,iBAAe;AAAA,IAAG;AAAA,EAAC;AAAA,EAAC,kBAAkBd,KAAE;AAAC,QAAG,CAAC,KAAK,aAAa,WAAS,CAAC,KAAK,aAAa,mBAAmBA,IAAE,MAAM,EAAE,QAAO;AAAK,UAAMC,MAAE,KAAK,kBAAkBD,GAAC;AAAE,QAAG,CAACC,IAAE,QAAO;AAAK,UAAMC,MAAE,IAAI,SAAMQ,MAAE,KAAK;AAAO,WAAOT,IAAE,QAAS,CAAAA,QAAGS,IAAE,QAAS,CAAC,EAAC,YAAWA,IAAC,GAAEC,QAAID,IAAE,QAAS,CAAAA,QAAGR,IAAE,KAAK,KAAK,gBAAgBF,KAAEC,IAAEU,GAAC,GAAED,GAAC,CAAC,CAAE,CAAE,CAAE,GAAER;AAAA,EAAC;AAAA,EAAC,OAAOF,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkBF,GAAC;AAAE,QAAG,CAACE,OAAG,QAAMD,IAAE;AAAO,QAAIS,MAAE;AAAE,IAAAV,IAAE,KAAK,QAAQ;AAAE,UAAMW,MAAE,KAAK;AAAO,IAAAT,IAAE,QAAS,CAAAA,QAAGS,IAAE,QAAS,CAAC,EAAC,YAAWA,IAAC,GAAEE,QAAIF,IAAE,QAAS,CAAAA,QAAG,KAAK,iBAAiBX,KAAEC,IAAES,KAAG,GAAER,IAAEW,GAAC,GAAEF,KAAEE,GAAC,CAAE,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,kBAAkBb,KAAE;AAAC,UAAK,EAAC,QAAOC,KAAE,MAAKC,IAAC,IAAEF,KAAEU,MAAET,QAAIS,IAAE,WAAUC,MAAEV,QAAIS,IAAE,iBAAgBG,MAAE,CAACH,OAAG,CAACC,KAAEI,MAAEd,QAAIS,IAAE;AAAuB,QAAGG,IAAE,QAAOE,MAAE,KAAK,yBAAuB,KAAK;AAA4C,UAAK,EAAC,iCAAgCC,IAAC,IAAE;AAAK,QAAGD,KAAE;AAAC,UAAGL,KAAE;AAAC,cAAMV,MAAEE,IAAE,WAAW;AAAK,YAAG,CAACF,IAAE,QAAO;AAAK,cAAMC,MAAEe,IAAE,IAAIhB,GAAC;AAAE,eAAOC,MAAE,CAACA,GAAC,IAAE;AAAA,MAAI;AAAC,YAAMD,MAAEgB,IAAE,IAAIZ,GAAC;AAAE,aAAOO,MAAEX,MAAE,CAACA,GAAC,IAAE,OAAK,MAAM,KAAKgB,IAAE,OAAO,CAAC;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,UAAUhB,KAAEC,KAAEC,KAAEQ,KAAE;AAAC,QAAG,CAAC,KAAK,aAAa,WAAS,QAAM,KAAK,QAAQ;AAAO,UAAMC,MAAED,GAAE;AAAE,IAAAN,GAAEO,KAAED,KAAER,GAAC;AAAE,UAAMW,MAAE,CAAAF,QAAG;AAAC,WAAK,cAAc,0BAA0BA,KAAEM,EAAC,GAAEjB,IAAE,UAAU,IAAIiB,EAAC,GAAEZ,GAAEa,IAAEhB,KAAEF,IAAE,UAAU,OAAO,GAAEK,GAAEc,IAAET,KAAEV,IAAE,UAAU,OAAO;AAAE,YAAMa,MAAE,KAAK,cAAc,SAASF,GAAC,GAAEI,MAAE,KAAK,cAAc,YAAYJ,GAAC,GAAEK,MAAE,KAAK,QAAQ;AAAO,MAAAL,IAAE,OAAKE,MAAEO,GAAE,SAAQ,wBAAwB,GAAET,IAAEI,OAAG,KAAGA,MAAEC,KAAE,kBAAkB,GAAE,KAAK,QAAQD,GAAC,EAAE,UAAUf,KAAEC,KAAEiB,IAAEC,IAAER,KAAE,KAAK,UAASK,GAAC;AAAA,IAAC;AAAE,SAAK,aAAa,WAAW,iBAAe,KAAK,QAAQ,QAAQH,GAAC,IAAE,KAAK,QAAQ,gBAAgBX,KAAES,KAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,oCAAmC;AAAC,SAAK,kBAAkB,GAAE,KAAK,oBAAoB;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,QAAG,QAAM,KAAK,eAAc;AAAC,YAAMb,MAAE,KAAK,eAAcC,MAAED,IAAE,MAAM;AAAM,UAAG,CAACC,IAAE,QAAO;AAAK,WAAK,gBAAc,IAAIS,IAAEV,KAAE,KAAK,kBAAkB;AAAE,eAAQE,MAAE,GAAEA,MAAEF,IAAE,UAAS,EAAEE,IAAE,CAAAD,IAAE,IAAIC,GAAC,IAAEkB,GAAE,UAAQ,KAAK,cAAc,YAAYlB,GAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,oBAAmB;AAAC,SAAK,gBAAcmB,GAAE,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,gBAAgBrB,KAAE;AAAC,QAAG,QAAM,KAAK,QAAQ,QAAO,IAAIC;AAAE,UAAMA,MAAED,IAAE,aAAYE,MAAE,KAAK,QAAQ,YAAYD,KAAEqB,GAAE,WAAW,eAActB,IAAE,OAAO,GAAEU,MAAE,KAAK,QAAQ,YAAYT,KAAEqB,GAAE,WAAW,eAActB,IAAE,OAAO;AAAE,QAAG,QAAME,OAAG,QAAMQ,IAAE,QAAO,IAAIT;AAAE,UAAMU,MAAEX,IAAE,KAAIa,MAAE,KAAK,cAAc;AAAK,IAAAA,IAAE,eAAe,OAAOX,KAAEqB,EAAC,GAAEnB,GAAEmB,IAAEA,IAAEZ,GAAC;AAAE,UAAMI,MAAES,GAAED,IAAEtB,GAAC,IAAEsB,GAAE,CAAC;AAAE,IAAAV,IAAE,eAAe,OAAOH,KAAEa,EAAC,GAAEnB,GAAEmB,IAAEA,IAAEZ,GAAC;AAAE,UAAMK,MAAEQ,GAAED,IAAEtB,GAAC,IAAEsB,GAAE,CAAC;AAAE,WAAO,IAAItB,IAAEc,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBhB,MAAE,OAAG;AAAC,SAAK,gCAA8B,IAAG,KAAK,mBAAiB,KAAK,gBAAeA,QAAI,KAAK,iBAAe,MAAG,KAAK,SAAS,cAAc;AAAA,EAAE;AAAA,EAAC,oBAAmB;AAAC,SAAK,iCAAgC,KAAK,uBAAuB,QAAS,CAAAA,QAAGA,IAAE,QAAS,CAAAA,QAAGA,IAAE,iBAAiB,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,cAAc,OAAK,KAAG,KAAK,gCAA8B;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAE;AAAC,UAAK,EAAC,uBAAsBC,KAAE,SAAQS,KAAE,gBAAeG,IAAC,IAAE;AAAK,SAAK,uBAAuB,QAAS,CAAAb,QAAGA,IAAE,QAAS,CAAAA,QAAGA,IAAE,YAAY,CAAE,CAAE;AAAE,UAAMe,MAAE,KAAK,eAAcC,MAAED,IAAE;AAAK,QAAIU,MAAEV,IAAE;AAAK,UAAMX,MAAEW,IAAE;AAAS,QAAIW,MAAE,KAAK;AAAe,UAAMC,MAAE,KAAK,KAAKvB,MAAE,GAAG,GAAE,EAAC,iCAAgCiB,IAAC,IAAE;AAAK,aAAQO,MAAE,GAAEA,MAAEH,OAAG,CAACzB,IAAE,MAAK,EAAE4B,KAAE;AAAC,MAAAF,QAAI,KAAK,oBAAkB,KAAK,kBAAkB;AAAE,YAAME,MAAEZ,IAAE,MAAM,IAAIU,GAAC;AAAE,UAAIG,MAAE;AAAE,UAAG,EAAED,MAAER,GAAE,YAAW;AAAC,QAAAM,MAAEA,MAAE,MAAItB,MAAE,IAAEsB,MAAE,GAAED;AAAI;AAAA,MAAQ;AAAC,YAAMb,MAAEI,IAAE,SAAS,IAAIU,GAAC;AAAE,UAAGE,MAAER,GAAE,kBAAgB,KAAK,2BAA2BR,GAAC,EAAE,SAAS,GAAEgB,MAAER,GAAE,kBAAiB;AAAC,cAAMpB,MAAEe,IAAE,uBAAuBW,GAAC;AAAE,YAAG1B,KAAE;AAAC,gBAAMC,MAAEoB,IAAE,IAAIrB,GAAC;AAAE,cAAG,CAACC,IAAE,OAAM,IAAI,EAAE,yBAAwB,+BAA+B;AAAE,UAAAA,IAAEW,GAAC,EAAE,SAAS,GAAEX,IAAE,MAAO,CAAAD,QAAGA,IAAE,OAAQ,MAAIC,IAAE,QAAS,CAAAD,QAAGA,IAAE,QAAQ,CAAE,GAAEqB,IAAE,OAAOrB,GAAC;AAAA,QAAE;AAAA,MAAC;AAAC,UAAG4B,MAAER,GAAE,OAAO,CAAAL,IAAE,aAAaW,GAAC;AAAA,eAAUE,MAAER,GAAE,SAAQ;AAAC,YAAIpB,MAAE;AAAE,YAAGC,QAAIe,IAAE,YAAY,OAAOU,KAAEI,EAAC,GAAE9B,MAAEa,IAAE,YAAYiB,IAAEf,IAAE,6BAA6BW,GAAC,GAAEhB,GAAC,IAAGmB,MAAED,MAAE,EAAER,GAAE,SAAOA,GAAE,oBAAmBpB,OAAG,EAAE,KAAG4B,MAAER,GAAE,WAAU;AAAC,gBAAMnB,MAAEc,IAAE,iBAAiBW,GAAC;AAAE,cAAGzB,KAAE;AAAC,kBAAMS,MAAE,MAAI;AAAC,oBAAMV,MAAE,KAAK,+BAA+B;AAAE,qBAAOA,IAAE,QAAS,CAAAA,QAAGA,IAAE,YAAY,CAAE,GAAEA;AAAA,YAAC,GAAEa,MAAE,EAAEQ,KAAEpB,KAAES,GAAC;AAAE,gBAAGV,OAAGa,IAAE,OAAO,OAAM,IAAI,EAAE,yBAAwB,iDAAiDb,GAAC,EAAE;AAAE,YAAA+B,GAAElB,IAAEb,GAAC,GAAEgB,KAAEU,GAAC;AAAA,UAAC;AAAC,UAAAG,OAAGT,GAAE;AAAA,QAAgB,MAAM,CAAAW,GAAE,KAAK,2BAA2B/B,GAAC,GAAEgB,KAAEU,GAAC,GAAEG,OAAGT,GAAE;AAAe,QAAAJ,IAAE,MAAM,IAAIU,KAAEG,GAAC,GAAEb,IAAE,SAAS,IAAIU,KAAE1B,GAAC;AAAA,MAAC,MAAM,CAAA6B,MAAED,MAAE,EAAER,GAAE,SAAOA,GAAE,oBAAmBJ,IAAE,MAAM,IAAIU,KAAEG,GAAC;AAAE,UAAG,QAAM,KAAK,eAAc;AAAC,cAAM7B,MAAE,CAAC,EAAE4B,MAAER,GAAE,SAAQnB,MAAE,CAAC,EAAE4B,MAAET,GAAE;AAAQ,SAACpB,OAAGC,MAAE,KAAK,cAAc,YAAYyB,GAAC,IAAE1B,OAAG,CAACC,MAAE,KAAK,cAAc,eAAeyB,GAAC,IAAE1B,OAAGC,OAAG2B,MAAER,GAAE,sBAAoB,KAAK,cAAc,eAAeM,GAAC,GAAE,KAAK,cAAc,YAAYA,GAAC;AAAA,MAAE;AAAC,MAAAA,MAAEA,MAAE,MAAItB,MAAE,IAAEsB,MAAE,GAAEA,MAAEC,QAAI,KAAG3B,IAAE,aAAa;AAAA,IAAC;AAAC,SAAK,iBAAe0B,KAAE,KAAK,uBAAuB,QAAS,CAAA1B,QAAGA,IAAE,QAAS,CAAAA,QAAGA,IAAE,UAAU,CAAE,CAAE,GAAE,KAAK,SAAS,cAAc;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAEC,KAAEC,KAAE;AAAC,QAAG,MAAID,IAAE,KAAK,QAAO;AAAK,UAAMS,MAAER,IAAE,YAAY,KAAKF,IAAE,MAAKA,IAAE,KAAK,MAAKA,IAAE,MAAM;AAAE,WAAOU,KAAG,UAAUV,IAAE,IAAI;AAAA,EAAC;AAAA,EAAC,iBAAiBA,KAAEC,KAAEC,KAAEQ,KAAEC,KAAE;AAAC,QAAG,CAACV,IAAE;AAAO,UAAK,EAAC,MAAKY,KAAE,MAAKE,IAAC,IAAEf;AAAE,IAAAe,IAAE,wBAAwB;AAAE,UAAMC,MAAED,IAAE,cAAcd,KAAEY,KAAEH,IAAE,SAAS,YAAWsB,GAAE;AAAE,IAAAjB,IAAE,QAAQL,IAAE,GAAG,GAAET,IAAE,yBAAyBS,IAAE,GAAG,GAAET,IAAE,2CAAyCD,IAAE,WAASU,IAAE,UAAQM,IAAE,cAAc,iBAAgBiB,IAAG,KAAK,IAAItB,KAAEsB,IAAG,SAAO,CAAC,CAAC,CAAC,GAAEjB,IAAE,aAAa,gBAAeA,IAAE,OAAO;AAAG,UAAMS,MAAEvB,IAAE,UAASE,MAAEF,IAAE,WAAUwB,MAAExB,IAAE,WAAUyB,MAAEzB,IAAE,YAAWmB,MAAE,KAAK,yBAAwBO,MAAE,CAAC5B,KAAEW,QAAI;AAAC,MAAAU,IAAEN,KAAEV,IAAEH,IAAE,QAAOmB,KAAErB,GAAC,GAAEe,IAAE,oBAAoBd,IAAE,eAAc,GAAES,IAAE,aAAYC,MAAEX,GAAC,GAAEM,GAAES,KAAEV,IAAEH,IAAE,QAAOmB,GAAC;AAAA,IAAC;AAAE,IAAAX,IAAE,SAAS,eAAa,QAAMiB,MAAEvB,MAAEsB,OAAGf,IAAEgB,OAAGD,OAAGC,OAAGvB,KAAE,oBAAoB,GAAEwB,IAAED,KAAEvB,GAAC,GAAEwB,IAAEF,KAAEC,GAAC,KAAGvB,MAAEsB,QAAIC,OAAGvB,OAAGO,IAAEgB,OAAG,KAAGA,OAAGvB,KAAE,oBAAoB,GAAEwB,IAAED,KAAEvB,GAAC,GAAEwB,IAAEF,KAAED,GAAC,GAAEG,IAAE,GAAED,GAAC,MAAIhB,IAAEgB,OAAGD,OAAGC,OAAGF,KAAE,oBAAoB,GAAEG,IAAED,KAAEF,GAAC,GAAEG,IAAE,GAAExB,GAAC,GAAEwB,IAAEF,KAAEC,GAAC,MAAIvB,MAAEsB,MAAEE,IAAEF,KAAEtB,GAAC,IAAEA,MAAEsB,QAAIE,IAAE,GAAExB,GAAC,GAAEwB,IAAEF,KAAED,GAAC,IAAGV,IAAE,QAAQ,IAAI;AAAA,EAAC;AAAC;AAAE,SAASgB,GAAE/B,KAAEC,KAAEC,KAAE;AAAC,QAAMQ,MAAEV,IAAE,aAAa;AAAE,EAAAkC,GAAEjC,KAAEC,KAAEF,IAAE,MAAKU,GAAC;AAAC;AAAC,SAASwB,GAAElC,KAAEC,KAAEC,KAAEQ,KAAE;AAAC,EAAAe,IAAEzB,IAAE,aAAYC,KAAEC,IAAE,eAAcA,IAAE,eAAcQ,GAAC,GAAER,IAAE,MAAM,SAASQ,KAAEV,IAAE,OAAMC,GAAC,GAAEC,IAAE,YAAY,SAASQ,KAAEV,IAAE,aAAYC,GAAC,GAAED,IAAE,SAAOE,IAAE,SAAOA,IAAE,MAAM,SAASQ,KAAEV,IAAE,OAAMC,GAAC,GAAED,IAAE,yBAAuBE,IAAE,yBAAuBA,IAAE,sBAAsB,SAASQ,KAAEV,IAAE,uBAAsBC,GAAC,GAAED,IAAE,oBAAkBE,IAAE,oBAAkBA,IAAE,iBAAiB,SAASQ,KAAEV,IAAE,kBAAiBC,GAAC;AAAC;AAAC,SAASQ,GAAET,KAAE;AAAC,MAAIC,MAAEkC,GAAE,EAAE,MAAMnC,IAAE,qBAAqB,EAAE,MAAMA,IAAE,qBAAqB,EAAE,MAAMA,IAAE,aAAa,EAAE,MAAMA,IAAE,mBAAmB;AAAE,SAAO,QAAMA,OAAGA,IAAE,SAAS,kBAAkB,MAAIC,MAAEA,IAAE,MAAMD,IAAE,wBAAwB,IAAG,QAAMA,OAAGA,IAAE,SAAS,OAAO,MAAIC,MAAEA,IAAE,OAAOD,IAAE,aAAa,IAAG,QAAMA,OAAGA,IAAE,SAAS,uBAAuB,MAAIC,MAAEA,IAAE,OAAOD,IAAE,6BAA6B,IAAGC;AAAC;AAAC,EAAE,CAAC2B,GAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEzB,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACyB,GAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEzB,GAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAACyB,GAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEzB,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAACyB,GAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEzB,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACyB,GAAE,CAAC,GAAEzB,GAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACyB,GAAE,CAAC,GAAEzB,GAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACyB,GAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEzB,GAAE,WAAU,yBAAwB,IAAI,GAAE,EAAE,CAACyB,GAAE,CAAC,GAAEzB,GAAE,WAAU,iCAAgC,MAAM,GAAE,EAAE,CAACyB,GAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEzB,GAAE,WAAU,WAAU,IAAI,GAAEA,KAAE,EAAE,CAACU,GAAE,yDAAyD,CAAC,GAAEV,EAAC;AAAE,IAAM2B,KAAEpB,GAAE;AAAV,IAAYa,KAAEb,GAAE;AAAhB,IAAkBO,KAAEjB,IAAE;AAAtB,IAAwBkB,KAAER,GAAE;AAA5B,IAA8BS,KAAET,GAAE;AAAlC,IAAoCuB,MAAG,CAAC/B,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC;AAA9F,IAAgG8B,MAAG,IAAI7B;;;ACA/hV,IAAMiC,MAAN,MAAQ;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,MAAE,MAAK;AAAC,SAAK,eAAaV,KAAE,KAAK,cAAYC,KAAE,KAAK,iBAAeC,KAAE,KAAK,eAAaC,KAAE,KAAK,uBAAqBC,KAAE,KAAK,SAAOC,KAAE,KAAK,sBAAoBC,KAAE,KAAK,aAAWC,KAAE,KAAK,gBAAcC,KAAE,KAAK,gCAA8BC,KAAE,KAAK,cAAYC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,cAAiBC,GAAC;AAAA,EAAC,gBAAe;AAAC,UAAK,CAACZ,KAAEC,KAAEC,GAAC,IAAE,QAAM,KAAK,aAAW,KAAK,WAAW,aAAW,CAAC,GAAE,GAAE,CAAC;AAAE,WAAM,EAAC,OAAMF,KAAE,OAAMC,KAAE,QAAOC,IAAC;AAAA,EAAC;AAAA,EAAC,YAAYF,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,KAAEU,IAAGZ,GAAC,CAAC,GAAE,KAAK,aAAW,MAAK,KAAK,kBAAgB,IAAI,SAAM,KAAK,6BAA2B,oBAAI,OAAI,KAAK,wBAAsB,OAAG,KAAK,0BAAwB,IAAI,SAAM,KAAK,4BAA0B,OAAG,KAAK,mBAAmB,KAAE,GAAE,KAAK,wBAAsBC,IAAE;AAAA,EAA6B;AAAA,EAAC,MAAM,OAAOF,KAAE;AAAC,QAAG,CAAC,KAAK,kBAAkB,MAAK;AAAC,YAAMA,MAAEc,GAAE,KAAK,WAAW;AAAE,UAAGd,IAAE,OAAM,IAAI,MAAMA,GAAC;AAAA,IAAC;AAAC,QAAG,KAAK,cAAa;AAAC,YAAMC,MAAE,KAAK,YAAY,UAASC,MAAED,OAAGc,GAAEd,KAAG,SAAS,IAAEA,IAAE,YAAUe;AAAE,WAAK,aAAW,MAAM,KAAK,6BAA6Bd,KAAEF,GAAC;AAAA,IAAC,OAAK;AAAC,YAAMC,MAAE,MAAME,IAAG,KAAK,OAAO,WAAW,GAAED,MAAED,KAAG,QAAM,KAAK,YAAY,UAAU;AAAK,WAAK,aAAW,MAAM,KAAK,uBAAuBC,KAAEF,GAAC;AAAA,IAAC;AAAC,SAAK,oBAAoB,GAAE,KAAK,yBAAyB,GAAE,KAAK,8BAA8B,GAAE,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,QAAM,KAAK,aAAW,KAAK,WAAW,gBAAc;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,QAAM,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,YAAY;AAAA,EAAW;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK,YAAY,eAAe,aAAW,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,6BAA6BC,KAAEE,KAAE;AAAC,UAAMC,MAAE,KAAK,aAAYC,MAAEY,GAAER,GAAER,GAAC,CAAC,GAAEK,MAAEW,GAAE,EAAEZ,GAAC,CAAC,GAAEE,MAAEU,GAAEhB,GAAEK,KAAEF,GAAC,CAAC,GAAEK,MAAEN,GAAEI,GAAC,GAAEG,MAAE,OAAGM,MAAE,OAAGE,MAAEd,KAAG,UAASe,MAAE,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,MAAG,YAAWd,KAAG,SAAQe,IAAE,SAAQA,IAAE,SAAQ,GAAE,eAAc,KAAK,SAAS,mBAAkB,aAAYhB,IAAE,aAAY,kBAAiBc,KAAG,UAAU,YAAU,GAAE,gBAAeZ,GAAE,OAAM,4BAA2B,OAAG,eAAc,KAAK,2BAA0B,GAAEM,MAAE,CAAC,CAACO,IAAE,QAAOC,MAAEF,KAAG,OAAMG,MAAE,KAAK;AAAO,QAAG,eAAaA,IAAE,QAAMA,IAAE,gBAAe;AAAC,YAAK,EAAC,cAAarB,KAAE,gBAAeC,KAAE,gBAAeE,IAAC,IAAEkB,IAAE;AAAe,MAAAF,IAAE,iBAAe,EAAC,cAAaF,GAAEjB,GAAC,GAAE,gBAAeC,OAAG,GAAE,gBAAe,QAAME,MAAEA,MAAE,IAAE,EAAC,GAAEgB,IAAE,cAAY;AAAA,IAAE;AAAC,QAAG,KAAK,SAAS,iCAA+BA,IAAE,wBAAsB,KAAK,SAAS,gBAAgB,gCAA+B,KAAK,kBAAkB,MAAM,CAAAA,IAAE,gBAAcjB;AAAA,SAAM;AAAC,YAAMD,MAAE,QAAMmB,MAAE,KAAK,kBAAkB,UAAQH,GAAE,CAAC,GAAGT,GAAE,UAAUY,GAAC,GAAE,CAAC,CAAC,IAAEZ,GAAE,WAAWY,GAAC,IAAE,KAAK,kBAAkB,UAAQlB,KAAEI;AAAE,MAAAa,IAAE,gBAAclB;AAAA,IAAC;AAAC,SAAK,eAAa,EAAG,KAAK,SAAS,UAAS,KAAK,kCAAkCI,KAAEE,KAAED,KAAE,IAAI,CAAC,GAAEa,IAAE,cAAY,MAAG,KAAK,gBAAc,OAAO,OAAOA,KAAE,KAAK,aAAa,kBAAkB,GAAE,KAAK,gBAAgB,KAAKnB,IAAG,gBAAgB,KAAG,KAAK,qBAAqB,MAAImB,IAAE,oBAAkB,MAAG,KAAK,gBAAgB,KAAKnB,IAAG,KAAK,IAAGA,IAAG,KAAG,KAAK,gBAAgB,KAAKA,IAAG,SAAS;AAAE,UAAMsB,MAAE,IAAIC,GAAGJ,KAAE,KAAK,QAAQ;AAAE,IAAAG,IAAE,cAAc,EAAC,UAASE,IAAGF,IAAE,WAAW,EAAC,CAAC;AAAE,UAAMG,KAAEjB,IAAEP,KAAEqB,GAAC;AAAE,QAAG,CAACG,GAAE,OAAM,IAAI,MAAM,oCAAoCxB,GAAC,EAAE;AAAE,UAAMyB,MAAE,MAAM,KAAK,sBAAsBD,IAAEb,KAAET,GAAC,GAAEwB,MAAE,MAAM,KAAK,mBAAmBF,IAAEtB,GAAC;AAAE,WAAO,IAAIJ,IAAG0B,IAAEE,KAAED,KAAEpB,KAAEI,KAAEM,KAAEX,KAAEE,KAAEE,KAAEG,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAuBZ,KAAEC,KAAE;AAAC,UAAME,MAAE,EAAC,aAAY,MAAG,eAAc,KAAK,SAAS,mBAAkB,aAAY,KAAK,YAAY,YAAW,GAAEC,MAAE,EAAC,WAAU,KAAK,SAAS,WAAU,oBAAmBD,KAAE,qBAAoB,KAAK,SAAS,qBAAoB,OAAM,KAAK,SAAS,gBAAgB,qBAAoB,oBAAmB,EAAC,oBAAmB,KAAK,SAAS,oBAAmB,qBAAoB,MAAI,KAAK,iBAAiB,EAAC,EAAC;AAAE,SAAK,eAAa,EAAG,KAAK,SAAS,UAAS,KAAK,kCAAkC,MAAK,MAAK,MAAK,IAAI,CAAC,GAAE,KAAK,gBAAc,OAAO,OAAOC,IAAE,oBAAmB,KAAK,aAAa,kBAAkB,GAAE,KAAK,gBAAgB,KAAKJ,IAAG,gBAAgB,KAAG,KAAK,qBAAqB,MAAII,IAAE,mBAAmB,oBAAkB,MAAG,KAAK,gBAAgB,KAAKJ,IAAG,KAAK,IAAGA,IAAG,KAAG,KAAK,gBAAgB,KAAKA,IAAG,SAAS;AAAE,UAAMK,MAAE,KAAK;AAAO,QAAG,eAAaA,IAAE,QAAMA,IAAE,gBAAe;AAAC,YAAK,EAAC,cAAaL,KAAE,gBAAeC,KAAE,gBAAeE,IAAC,IAAEE,IAAE;AAAe,MAAAD,IAAE,mBAAmB,iBAAe,EAAC,cAAaa,GAAEjB,GAAC,GAAE,gBAAeC,OAAG,GAAE,gBAAe,QAAME,MAAEA,MAAE,IAAE,EAAC,GAAEC,IAAE,mBAAmB,cAAY;AAAA,IAAE;AAAC,UAAME,MAAE,KAAK,SAAS;AAA8B,IAAAF,IAAE,SAAOH,KAAEG,IAAE,SAAOE,KAAEF,IAAE,eAAa,KAAK,SAAS;AAAmB,UAAMG,MAAE,MAAMqB,GAAE5B,KAAEI,GAAC,GAAEK,MAAEF,IAAE,sBAAqBG,MAAEH,IAAE,QAAOS,MAAEd,IAAEK,IAAE,IAAI,GAAEW,MAAE,KAAK,UAASC,MAAE,KAAK,YAAY,UAASU,MAAE,KAAK,4BAA4BV,GAAC,GAAEP,MAAE,KAAK,4BAA2BQ,MAAEJ,IAAE,aAAa;AAAE,IAAAI,IAAE,QAAS,CAAApB,QAAG;AAAC,MAAAA,IAAE,cAAc,EAAC,GAAG6B,KAAE,eAAcjB,IAAC,CAAC,GAAEM,IAAE,gCAA8BlB,IAAE,cAAc,EAAC,uBAAsBkB,IAAE,gBAAgB,8BAA6B,CAAC;AAAA,IAAC,CAAE;AAAE,UAAMG,MAAEd,IAAE,sBAAqBuB,MAAEb,GAAE,EAAEI,GAAC,CAAC,GAAEU,KAAEd,GAAED,IAAE,OAAO,CAAC,EAAE,WAAW,GAAEgB,MAAEf,GAAEhB,GAAE6B,KAAE,KAAK,WAAW,CAAC,GAAER,MAAEnB,GAAE6B,GAAC,GAAEP,KAAE,KAAK;AAAa,MAAGA,IAAE,KAAK,SAAS,UAAS,KAAK,kCAAkCJ,KAAEW,KAAEF,KAAEC,EAAC,CAAC,KAAGX,IAAE,QAAS,CAAApB,QAAGA,IAAE,cAAcyB,GAAE,kBAAkB,CAAE;AAAE,UAAMC,MAAE,MAAM,KAAK,sBAAsBV,KAAEV,KAAEL,GAAC,GAAEc,MAAE,MAAM,KAAK,mBAAmBC,KAAEf,GAAC;AAAE,WAAO,IAAIF,IAAGiB,KAAED,KAAEW,KAAEI,KAAErB,KAAEC,KAAEW,KAAEW,KAAEV,KAAEhB,KAAEyB,EAAC;AAAA,EAAC;AAAA,EAAC,oBAAoB/B,KAAE;AAAC,SAAK,wBAAwB,KAAKA,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,sBAAsBA,KAAEE,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS,OAAMC,MAAEL,IAAE,aAAa;AAAE,IAAAE,QAAI,KAAK,SAAS,iCAA+B,KAAK,8BAA8B;AAAE,UAAMI,MAAEN,IAAE,YAAY;AAAE,IAAAI,IAAE,YAAYE,GAAC,GAAE,KAAK,oBAAqB,MAAI;AAAC,MAAAA,IAAE,QAAS,CAAAN,QAAGA,IAAE,OAAO,CAAE,GAAEI,IAAE,eAAeE,GAAC;AAAA,IAAC,CAAE,GAAE,MAAM,QAAQ,IAAIA,IAAE,IAAK,CAAAN,QAAG,KAAK,SAAS,MAAM,SAAU,MAAIA,IAAE,KAAKI,IAAE,WAAW,gBAAgB,GAAGD,GAAC,CAAE,CAAC,GAAED,GAAEC,GAAC;AAAE,UAAMI,MAAEP,IAAE,oBAAoB;AAAE,WAAM,EAAC,WAAUK,KAAE,UAASC,KAAE,YAAWC,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAmBP,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS,OAAMC,MAAE,EAAC,cAAa,KAAK,SAAS,cAAa,YAAW,CAAAH,QAAG,KAAK,2BAA2B,IAAIA,GAAC,GAAE,8BAA6B,CAAAA,QAAG,KAAK,SAAS,6BAA6B,KAAK,2BAA2B,IAAIA,GAAC,CAAC,GAAE,gCAA+B,CAAAA,QAAG,KAAK,SAAS,+BAA+B,KAAK,2BAA2B,IAAIA,GAAC,CAAC,EAAC,GAAEI,MAAE,KAAK,cAAaC,MAAED,MAAE,EAAC,gBAAe,CAACJ,KAAEC,KAAEC,QAAI;AAAC,MAAAF,IAAE,oBAAoBC,KAAE,EAAE,GAAEM,GAAEL,KAAE,GAAGE,IAAE,oBAAmB,IAAGF,GAAC,CAAC;AAAA,IAAC,GAAE,aAAY,CAACF,KAAEC,KAAEC,QAAI;AAAC,MAAAD,IAAE,oBAAoBC,KAAE,EAAE,GAAE,GAAGF,KAAEI,IAAE,oBAAmB,EAAE;AAAA,IAAC,EAAC,IAAE,MAAKG,MAAE,IAAI0B,GAAG,EAAC,QAAOjC,KAAE,gBAAe,KAAK,iBAAgB,UAASG,KAAE,sBAAqBE,IAAC,GAAE,KAAK,SAAS,SAAS;AAAE,WAAOE,IAAE,oBAAkB,KAAK,SAAS,mBAAkB,KAAK,oBAAqB,MAAI;AAAC,MAAAL,IAAE,mBAAmBK,GAAC,GAAEA,IAAE,QAAQ;AAAA,IAAC,CAAE,GAAE,MAAML,IAAE,gBAAgBK,KAAEN,GAAC,GAAEM;AAAA,EAAC;AAAA,EAAC,4BAA4BN,KAAE;AAAC,UAAMC,MAAE,CAAC;AAAE,QAAG,KAAK,kBAAkB,MAAM,CAAAA,IAAE,gBAAcA;AAAA,aAAU,QAAMD,KAAG,OAAM;AAAC,YAAME,MAAEK,GAAE,WAAWP,IAAE,KAAK;AAAE,WAAK,kBAAkB,YAAUE,IAAE,CAAC,IAAE,IAAGD,IAAE,gBAAcC;AAAA,IAAC,MAAM,CAAAD,IAAE,gBAAcA,IAAEA,IAAE,eAAa;AAAS,WAAOA,IAAE,mBAAiBD,KAAG,UAAU,YAAU,GAAEC,IAAE,iBAAeiB,GAAElB,KAAG,UAAU,UAAQ,UAAU,GAAEC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,kBAAkB;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,SAAK,wBAAwB,QAAS,CAAAF,QAAGA,IAAE,CAAE,GAAE,KAAK,wBAAwB,SAAO,GAAE,KAAK,aAAW;AAAA,EAAI;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,QAAQ,EAAE,QAAO;AAAK,UAAMC,MAAE2B,IAAE5B,IAAE,QAAQ;AAAE,QAAG,QAAMC,IAAE,QAAO,KAAK,OAAO,KAAK,gDAAgDD,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAME,MAAE,KAAK,2BAA2BF,GAAC,GAAEG,MAAEJ,IAAE;AAAc,WAAO,KAAK,iBAAiBC,KAAEC,KAAEE,KAAED,KAAEF,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAE;AAAC,SAAK,2BAA2B,OAAOA,IAAE,aAAa;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,QAAG,QAAM,KAAK,WAAW;AAAO,UAAMA,MAAE,KAAK,iBAAiB,GAAEC,MAAE,KAAK,WAAW,eAAe;AAAU,aAAQC,MAAE,GAAEA,MAAED,IAAE,QAAOC,OAAI;AAAC,YAAMC,MAAEF,IAAEC,GAAC;AAAE,MAAAC,IAAE,cAAc,EAAC,cAAaH,IAAC,CAAC,GAAE,KAAK,gBAAcG,IAAE,cAAc,EAAC,UAASqB,IAAGrB,IAAE,WAAW,EAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BH,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEoB,GAAC;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,QAAG,QAAM,KAAK,WAAW,QAAM;AAAG,SAAK,WAAW,YAAY,oBAAkB,KAAK,SAAS;AAAkB,eAAUrB,OAAK,KAAK,WAAW,eAAe,UAAU,CAAAA,IAAE,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAE,WAAM;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,QAAG,QAAM,KAAK,WAAW,QAAM;AAAG,UAAK,EAAC,gBAAeA,KAAE,QAAOC,IAAC,IAAE,KAAK;AAAW,eAAUC,OAAKF,IAAE,UAAU,MAAK,eAAaE,IAAE,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE,CAAC,IAAED,OAAGC,IAAE,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,MAAE,CAAC;AAAE,WAAM,UAAK,KAAK,yBAAuB,SAAK,KAAK,SAAS,kCAAgC,KAAK,wBAAsB,MAAG;AAAA,EAAG;AAAA,EAAC,kBAAkBF,KAAEC,KAAE;AAAC,QAAG,QAAM,KAAK,WAAW,QAAOD,IAAE;AAAe,UAAK,EAAC,gBAAe,EAAC,WAAUE,IAAC,GAAE,aAAYC,KAAE,qBAAoBC,KAAE,YAAWC,KAAE,cAAaC,KAAE,aAAYC,IAAC,IAAE,KAAK;AAAW,eAAUC,OAAKR,IAAE,MAAK;AAAC,UAAG,sBAAoBQ,IAAE,QAAOR,IAAE;AAAe,UAAG,CAAC,EAAG,KAAK,cAAaC,KAAE,KAAK,kCAAkCG,KAAEC,KAAEC,KAAEC,GAAC,CAAC,EAAE,QAAOP,IAAE;AAAe,iBAAUA,OAAKE,IAAE,CAAAF,IAAE,cAAc,KAAK,aAAa,kBAAkB;AAAE,MAAAG,IAAE,kCAAkC;AAAA,IAAC;AAAC,WAAOH,IAAE;AAAA,EAAU;AAAA,EAAC,oBAAmB;AAAC,QAAG,QAAM,KAAK,WAAW,QAAO,MAAM,kBAAkB;AAAE,UAAMA,MAAE,KAAK,WAAW,cAAaC,MAAE0B,GAAE3B,IAAE,MAAM,GAAEE,MAAEF,IAAE,kBAAkB,GAAEG,MAAE,EAAC,GAAG+B,GAAE,KAAK,QAAO,KAAK,WAAW,GAAE,eAAchC,IAAC;AAAE,WAAO,IAAIF,IAAE,EAAC,oBAAmBC,KAAE,QAAOE,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,WAAO,QAAM,KAAK;AAAA,EAAU;AAAA,EAAC,iBAAiBH,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,gBAAgB,KAAG,QAAM,KAAK,WAAW,QAAO;AAAK,UAAMC,MAAE,KAAK,wBAAwBL,GAAC,GAAEM,MAAE,KAAK,SAAS;AAAe,QAAGF,GAAEH,KAAEkC,KAAG,KAAK,SAAS,kBAAkB,gBAAgB,GAAE,QAAM7B,OAAG,CAAC8B,GAAE9B,KAAE6B,GAAE,EAAE,QAAO;AAAK,UAAM5B,MAAE8B,IAAGlC,GAAC,GAAEK,MAAE,KAAK,wBAAwBP,KAAEE,KAAEmC,KAAG,EAAE,GAAE7B,MAAE,KAAK,uBAAuB,KAAK,YAAW,KAAK,aAAYP,KAAEqC,GAAE,GAAE7B,MAAE,KAAK,WAAW,YAAY,cAAaM,MAAEN,IAAE,YAAY;AAAE,QAAG,KAAK,2BAA2B,IAAIM,KAAEZ,GAAC,GAAEM,IAAE,kBAAkBM,KAAEP,KAAE,KAAE,GAAEC,IAAE,mBAAmBM,KAAER,GAAC,GAAEH,OAAGK,IAAE,oBAAoBM,KAAEX,GAAC,GAAE,QAAM,KAAK,gBAAc,KAAK,qBAAqB,GAAE;AAAC,YAAML,MAAE,KAAK,0BAA0BE,KAAE,KAAK,4BAA4B,GAAE,GAAG;AAAE,MAAAQ,IAAE,SAASM,KAAEhB,GAAC;AAAA,IAAC;AAAC,UAAMkB,MAAE,KAAK,SAAS,MAAM,WAAW;AAAiB,QAAGA,KAAE;AAAC,YAAMlB,MAAEkB,IAAE,yBAAyB,EAAC,YAAWd,KAAE,cAAa,KAAK,SAAS,aAAY,CAAC;AAAE,MAAAM,IAAE,yBAAyBM,KAAEhB,GAAC;AAAA,IAAC;AAAC,UAAMmB,MAAE,IAAIF,IAAE,MAAKD,KAAEc,KAAE3B,KAAE,KAAK,SAAS,MAAM,KAAK,MAAM,iBAAiB;AAAE,WAAOI,QAAIY,IAAE,0BAAwB,GAAG,mBAAkBA,IAAE,wBAAsBE,IAAElB,IAAE,IAAI,GAAEe,IAAEC,KAAElB,KAAE,KAAK,SAAS,iBAAiB,GAAEkB;AAAA,EAAC;AAAA,EAAC,wBAAwBnB,KAAEC,KAAEC,KAAEC,KAAE;AAAC,WAAOM,IAAET,KAAE,KAAK,SAAS,mBAAkBC,KAAE,KAAK,SAAS,oBAAmBE,GAAC,GAAEgC,IAAG,CAAC,IAAEnC,IAAE,GAAEmC,IAAG,CAAC,IAAEnC,IAAE,GAAEmC,IAAG,CAAC,IAAEhC,IAAE,GAAEe,GAAElB,IAAE,kBAAiBmC,KAAGjC,KAAE,KAAK,SAAS,mBAAmB,gBAAgB,GAAEA;AAAA,EAAC;AAAA,EAAC,uBAAuBF,KAAEC,KAAEC,KAAEE,KAAE;AAAC,WAAOC,GAAED,GAAC,GAAE,KAAK,qBAAqBF,KAAE,OAAGE,GAAC,GAAE,KAAK,qBAAqBH,KAAE,MAAGG,GAAC,GAAE,KAAK,kBAAkBJ,KAAEE,KAAEE,GAAC,GAAE,KAAK,aAAaJ,KAAEC,KAAEG,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,kBAAkBJ,KAAEC,KAAEC,KAAE;AAAC,QAAG,KAAK,cAAc,6BAA6B;AAAO,UAAMC,MAAE,KAAK,kBAAkB,QAAMF,IAAE,OAAKA,IAAE,OAAKD,IAAE,YAAWK,MAAEmC,GAAErC,KAAEH,IAAE,YAAWA,IAAE,cAAa,KAAK,SAAS,mBAAmB,YAAY;AAAE,UAAIK,IAAE,CAAC,KAAG,MAAIA,IAAE,CAAC,KAAG,MAAIA,IAAE,CAAC,KAAGwB,GAAE3B,KAAEA,KAAEG,GAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBL,KAAE;AAAC,QAAG,cAAYA,IAAE,KAAK,KAAK;AAAO,UAAMC,MAAED,IAAE,KAAK;AAAK,SAAK,uBAAuBA,KAAEC,GAAC,GAAE,KAAK,mBAAmBD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeD,KAAEC,KAAE;AAAC,QAAG,QAAM,KAAK,WAAW,QAAM;AAAG,UAAMC,MAAED,OAAG4B,IAAE5B,GAAC;AAAE,QAAG,QAAMC,IAAE,QAAM;AAAG,UAAMC,MAAE,KAAK,yBAAyBF,GAAC;AAAE,WAAOD,IAAE,iBAAiB,SAAOG,QAAI,KAAK,wBAAwBD,KAAEF,IAAE,kBAAiBsC,KAAG,EAAE,GAAED,IAAGrC,IAAE,gBAAgB,MAAIA,IAAE,0BAAwB,GAAG,mBAAkB,KAAK,WAAW,YAAY,aAAa,mBAAmBA,IAAE,eAAcsC,KAAG,IAAE,GAAEpB,IAAElB,KAAEE,KAAE,KAAK,SAAS,iBAAiB,GAAE;AAAA,EAAG;AAAA,EAAC,uBAAuBF,KAAEC,KAAE;AAAC,QAAG,EAAEA,IAAE,WAASA,IAAE,QAAMA,IAAE,QAAMA,IAAE,SAAOA,IAAE,UAAQA,IAAE,SAAOA,IAAE,UAAQA,IAAE,gBAAgB;AAAO,QAAG,QAAM,KAAK,WAAW;AAAO,UAAMC,MAAE,CAACF,KAAEC,KAAEC,SAAK,QAAMF,OAAG,eAAaA,IAAE,OAAKA,IAAE,WAASC,QAAIC,KAAEC,MAAED,IAAED,IAAE,SAAQ,KAAK,YAAY,SAAQ,CAAC,GAAEG,MAAEF,IAAED,IAAE,MAAK,KAAK,YAAY,MAAK,CAAC,GAAEI,MAAEH,IAAED,IAAE,MAAK,KAAK,YAAY,MAAK,CAAC,GAAEK,MAAEJ,IAAED,IAAE,OAAM,KAAK,YAAY,OAAM,MAAM,GAAEM,MAAEL,IAAED,IAAE,QAAO,KAAK,YAAY,QAAO,MAAM,GAAEO,MAAEN,IAAED,IAAE,OAAM,KAAK,YAAY,OAAM,MAAM,GAAEQ,MAAEP,IAAED,IAAE,QAAO,KAAK,YAAY,QAAO,MAAM,GAAES,MAAER,IAAED,IAAE,gBAAe,KAAK,YAAY,gBAAe,MAAM;AAAE,WAAOA,IAAE,SAAQ,OAAOA,IAAE,MAAK,OAAOA,IAAE,MAAK,OAAOA,IAAE,OAAM,OAAOA,IAAE,QAAO,OAAOA,IAAE,OAAM,OAAOA,IAAE,QAAO,OAAOA,IAAE;AAAe,UAAMe,MAAE,EAAC,SAAQb,KAAE,MAAKC,KAAE,MAAKC,KAAE,QAAOI,KAAE,gBAAeC,IAAC,GAAEQ,MAAE,KAAK;AAAW,SAAK,eAAaV,IAAE,UAAQR,IAAE,wBAAwB,KAAM,MAAI;AAAC,MAAAkB,IAAE,aAAWD,GAAEhB,GAAEiB,IAAE,cAAa,EAAC,OAAMZ,KAAE,QAAOC,KAAE,OAAMC,KAAE,aAAY,KAAK,aAAY,CAAC,CAAC;AAAA,IAAC,CAAE,GAAER,IAAE,yBAAyB,KAAM,CAAC,EAAC,eAAcA,IAAC,GAAEC,QAAI;AAAC,YAAMC,MAAE,KAAK,uBAAuBgB,KAAEF,KAAEf,KAAEsC,GAAE;AAAE,MAAArB,IAAE,YAAY,aAAa,kBAAkBlB,KAAEE,KAAE,IAAE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAEC,KAAE;AAAC,QAAG,CAACA,IAAE,YAAU,cAAYA,IAAE,SAAS,KAAK;AAAO,UAAMC,MAAED,IAAE,SAAS;AAAK,QAAG,CAACC,IAAE,SAAO,eAAaA,IAAE,MAAM,QAAM,QAAMA,IAAE,MAAM,YAAU,QAAMA,IAAE,MAAM,SAAS;AAAO,UAAMC,MAAED,IAAE,MAAM,UAASE,MAAE,QAAMD,MAAEI,GAAE,WAAWJ,GAAC,IAAEF;AAAE,WAAOC,IAAE;AAAM,UAAMG,MAAE,KAAK;AAAW,QAAG,QAAMA,IAAE;AAAO,UAAMC,MAAE,KAAK;AAAa,IAAAN,IAAE,yBAAyB,KAAM,CAAC,EAAC,eAAcD,IAAC,MAAI;AAAC,UAAG,KAAK,qBAAqB,EAAE,CAAAM,IAAE,YAAY,aAAa,SAASN,KAAEK,GAAC;AAAA,WAAM;AAAC,cAAML,MAAE,EAAC,eAAcK,IAAC;AAAE,mBAAUJ,OAAKK,IAAE,eAAe,UAAU,CAAAL,IAAE,cAAcD,GAAC,GAAEO,OAAGN,IAAE,cAAc,EAAC,UAASuB,IAAGvB,IAAE,WAAW,EAAC,CAAC;AAAA,MAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,qBAAqBD,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,cAAc,gCAA8B,CAACD,IAAE,QAAOgC,GAAEjC,IAAE,SAAQA,IAAE,MAAKA,IAAE,MAAKE,GAAC;AAAA,EAAC;AAAA,EAAC,aAAaF,KAAEC,KAAEC,KAAE;AAAC,QAAG,KAAK,cAAc,6BAA6B;AAAO,UAAMC,MAAEsC,IAAGzC,IAAE,qBAAoBA,IAAE,aAAYC,GAAC;AAAE,IAAAE,OAAGC,GAAEF,KAAEA,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,WAAO,KAAK,kBAAkB,SAAO,KAAK,kBAAkB;AAAA,EAAO;AAAA,EAAC,kCAAkCH,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,QAAMJ,MAAEiB,GAAE,EAAEjB,GAAC,CAAC,IAAEoB,IAAEf,MAAE,QAAML,MAAEyC,IAAGzC,KAAEG,KAAE,KAAK,WAAW,IAAEG,IAAEA,MAAE,KAAK,SAAS,mBAAmB,cAAaC,MAAEiC,GAAE,QAAMvC,MAAEA,MAAE,QAAOA,KAAEC,KAAEI,GAAC,GAAEE,MAAEL,GAAE,KAAK,YAAY,QAAM,GAAE,KAAK,YAAY,QAAM,GAAE,KAAK,YAAY,WAAS,CAAC;AAAE,WAAO,IAAIuC,GAAG,EAAC,UAAS,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,MAAG,SAAQ,MAAE,GAAE,WAAUtC,KAAE,YAAWH,OAAGmB,IAAE,cAAad,KAAE,QAAOD,KAAE,OAAME,KAAE,UAASC,KAAE,eAAc,KAAK,4BAA4B,GAAE,cAAaD,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,UAAK,EAAC,UAASP,IAAC,IAAE,KAAK;AAAY,WAAO,QAAMA,KAAG,OAAK,OAAKA,KAAG,aAAWgB;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMf,MAAE,KAAK,YAAY,UAAU;AAAM,QAAG,QAAMA,KAAE;AAAC,aAAO,QAAM,KAAK,aAAWC,KAAEI;AAAA,IAAC;AAAC,WAAOE,GAAE,WAAWP,GAAC;AAAA,EAAC;AAAC;AAAC,SAASwC,IAAGzC,KAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAEI,GAAE;AAAE,UAAOL,IAAE,QAAO;AAAA,IAAC,KAAI;AAAS,MAAAA,GAAEC,KAAE2B,GAAE9B,GAAC,CAAC,GAAEY,GAAET,KAAEA,GAAC;AAAE;AAAA,IAAM,KAAI,OAAM;AAAC,YAAMF,MAAE6B,GAAE9B,GAAC;AAAE,MAAAK,GAAEF,KAAE,CAACF,IAAE,CAAC,GAAE,CAACA,IAAE,CAAC,GAAE,CAACD,IAAE,CAAC,CAAC;AAAE;AAAA,IAAK;AAAA,IAAC,KAAI,UAAS;AAAC,YAAMC,MAAE6B,GAAE9B,GAAC;AAAE,MAAAK,GAAEF,KAAE,CAACF,IAAE,CAAC,GAAE,CAACA,IAAE,CAAC,GAAE,CAACD,IAAE,CAAC,CAAC;AAAE;AAAA,IAAK;AAAA,IAAC,KAAI,YAAW;AAAC,YAAMC,MAAE6B,GAAE9B,GAAC,GAAEI,MAAE,EAAEJ,GAAC,GAAEK,MAAEH,IAAE,gBAAeI,MAAED,MAAEF,GAAEE,IAAE,GAAEA,IAAE,GAAEA,IAAE,CAAC,IAAEC;AAAE,MAAAN,GAAEG,KAAEC,KAAEE,GAAC,GAAEW,IAAEd,KAAEA,KAAEF,GAAC,GAAEW,GAAET,KAAEA,GAAC;AAAE;AAAA,IAAK;AAAA,IAAC;AAAQ,cAAMF,MAAEW,GAAET,KAAEF,GAAC,IAAEC,GAAEC,KAAEG,EAAC;AAAA,EAAC;AAAC,SAAOH;AAAC;AAAC,SAASkC,IAAGrC,KAAE;AAAC,SAAM,sBAAoBA,IAAE;AAAI;AAAC,SAASa,IAAGb,KAAE;AAAC,SAAO,OAAKA,IAAE,UAAU,OAAO,KAAG,MAAI,QAAMA,IAAE,UAAU;AAAI;AAAC,SAASwB,IAAGxB,KAAE;AAAC,SAAOA,MAAEA,IAAG,OAAKA,IAAG;AAAI;AAAC,IAAMmC,MAAG5B,GAAE;AAAX,IAAagC,MAAGvC,IAAE;AAAlB,IAAoBsC,MAAGtC,IAAE;AAAzB,IAA2B,KAAGO,GAAE;AAAhC,IAAkC,KAAG,IAAIe;;;ACAt/iB,IAAMqB,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,WAASJ,KAAE,KAAK,cAAYC,KAAE,KAAK,SAAOE,KAAE,KAAK,YAAUC;AAAE,UAAMC,MAAEL,IAAE,QAAOM,MAAE,KAAK,MAAMD,MAAE,CAAC,GAAEN,MAAE,KAAK,SAAO,IAAEO,KAAEC,MAAEL,IAAEH,GAAC,GAAES,KAAEN,IAAEH,MAAE,CAAC,GAAEU,MAAEP,IAAEH,MAAE,CAAC;AAAE,SAAK,SAAOO,GAAEC,KAAEC,IAAEC,GAAC;AAAE,UAAMC,MAAE,KAAK,SAAO,IAAEL;AAAE,aAAQM,MAAE,KAAK,QAAOA,MAAED,KAAEC,OAAG,EAAE,CAAAP,IAAEO,GAAC,IAAET,IAAES,GAAC,IAAEJ,KAAEH,IAAEO,MAAE,CAAC,IAAET,IAAES,MAAE,CAAC,IAAEH,IAAEJ,IAAEO,MAAE,CAAC,IAAET,IAAES,MAAE,CAAC,IAAEF;AAAE,SAAK,4BAA4B;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,4BAA4B,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,4BAA4BL,KAAE;AAAC,WAAO,EAAEA,GAAC,KAAG,MAAI,KAAK,SAAOQ,KAAE,KAAG,IAAE,KAAK,SAAS,SAAOR,IAAE,qBAAmB,MAAI,KAAK,SAAOS,KAAE,KAAG,IAAE,KAAK,SAAS,SAAOF;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMX,MAAE,KAAK,SAAS,QAAOC,MAAE,KAAK,SAAS,CAAC;AAAE,QAAIC,MAAE,KAAK;AAAO,UAAMC,MAAE,KAAK;AAAU,IAAAF,IAAE,OAAO,CAAC,IAAEE,IAAED,MAAE,CAAC,IAAEC,IAAED,GAAC,GAAED,IAAE,OAAO,CAAC,IAAEE,IAAED,MAAE,CAAC,IAAEC,IAAED,MAAE,CAAC,GAAED,IAAE,OAAO,CAAC,IAAEE,IAAED,MAAE,CAAC,IAAEC,IAAED,MAAE,CAAC,GAAEA,OAAG;AAAE,QAAIS,MAAEL,GAAEL,IAAE,MAAM;AAAE,IAAAA,IAAE,oBAAkBU,KAAEG,GAAEb,IAAE,QAAOA,IAAE,MAAM;AAAE,QAAIF,MAAEE;AAAE,aAAQM,MAAE,GAAEA,MAAEP,KAAE,EAAEO,KAAE;AAAC,YAAMN,MAAE,KAAK,SAASM,GAAC;AAAE,UAAGN,IAAE,QAAMF,IAAE,QAAOQ,MAAEP,MAAE,GAAE;AAAC,QAAAC,IAAE,OAAO,CAAC,IAAEE,IAAED,MAAE,CAAC,IAAEC,IAAED,GAAC,GAAED,IAAE,OAAO,CAAC,IAAEE,IAAED,MAAE,CAAC,IAAEC,IAAED,MAAE,CAAC,GAAED,IAAE,OAAO,CAAC,IAAEE,IAAED,MAAE,CAAC,IAAEC,IAAED,MAAE,CAAC;AAAE,cAAMF,MAAEM,GAAEL,IAAE,MAAM;AAAE,QAAAA,IAAE,oBAAkB,KAAK,IAAIU,KAAEX,GAAC,GAAEW,MAAEX,KAAEc,GAAEb,IAAE,QAAOA,IAAE,MAAM;AAAA,MAAC,MAAM,CAAAE,GAAEF,IAAE,QAAOA,IAAE,KAAK,GAAEA,IAAE,oBAAkBU;AAAE,MAAAZ,MAAEE,KAAEC,OAAG;AAAA,IAAC;AAAA,EAAC;AAAC;;;ACAtzC,SAASa,IAAEA,KAAEC,MAAE,OAAG;AAAC,SAAOD,OAAG,IAAEC,MAAE,IAAI,MAAMD,GAAC,EAAE,KAAK,CAAC,IAAE,IAAI,MAAMA,GAAC,IAAEE,GAAEF,GAAC;AAAC;;;ACAwL,IAAMG,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEF,KAAEG,KAAEC,KAAEC,MAAE,CAAC,GAAE;AAAC,SAAK,OAAKJ,KAAE,KAAK,UAAQC,KAAE,KAAK,WAASF,KAAE,KAAK,WAASG,KAAE,KAAK,SAAOC,KAAE,KAAK,UAAQC,KAAE,KAAK,wBAAsB;AAAE,UAAMC,MAAE,KAAK,KAAK,SAAS,SAAO;AAAE,SAAK,uBAAqBN,IAAE,mBAAmB,IAAEM,MAAE,GAAE,KAAK,mBAAiBJ,IAAE,SAAS,SAAO,KAAK,sBAAqB,KAAK,SAAS,oBAAkB,KAAK;AAAiB,UAAMK,MAAE,KAAK,SAAS;AAAY,SAAK,oBAAkBA,KAAE,KAAK,OAAO,oBAAkB,KAAK;AAAiB,UAAMC,KAAE,KAAK,OAAO;AAAY,SAAK,oBAAkBA,IAAE,KAAK,iBAAeJ,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,mBAAiBK,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,gBAAcA,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,0BAAwBN,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,iBAAeA,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,YAAUO,IAAET,IAAE,WAAUA,IAAE,QAAO,IAAEA,IAAE,SAAS,MAAM,GAAE,KAAK,iBAAiB,GAAE,KAAK,eAAe;AAAA,EAAC;AAAA,EAAC,WAAWQ,KAAEC,KAAEC,KAAEV,KAAEW,KAAE;AAAC,QAAIZ,MAAE,IAAE,KAAK;AAAsB,QAAG,KAAK,wBAAwBA,GAAC,IAAEW,IAAE,CAAC,GAAE,KAAK,wBAAwBX,MAAE,CAAC,IAAEW,IAAE,CAAC,GAAE,KAAK,wBAAwBX,MAAE,CAAC,IAAEC,IAAE,CAAC,GAAE,KAAK,wBAAwBD,MAAE,CAAC,IAAEC,IAAE,CAAC,GAAE,KAAK,eAAe,KAAK,qBAAqB,IAAEQ,KAAET,MAAE,IAAE,KAAK,uBAAsBY,KAAE;AAAC,YAAMF,MAAE,KAAK,KAAK,SAASD,GAAC,GAAEE,MAAED,IAAE;AAAmB,WAAK,eAAeV,GAAC,IAAEU,IAAE,cAAc,CAAC,IAAEC,KAAE,KAAK,eAAeX,MAAE,CAAC,IAAEU,IAAE,cAAc,CAAC,IAAEC;AAAA,IAAC,MAAM,MAAK,eAAeX,GAAC,IAAE,KAAK,eAAeA,MAAE,CAAC,IAAE;AAAE,SAAK,eAAeA,MAAE,CAAC,IAAE,GAAEU,IAAE,KAAK,kBAAiB,KAAK,uBAAsBA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,CAAC,GAAEA,IAAE,KAAK,eAAc,KAAK,uBAAsBA,IAAE,GAAG,CAAC,GAAEA,IAAE,GAAG,CAAC,GAAEA,IAAE,GAAG,CAAC,CAAC,GAAE,EAAE,KAAK;AAAA,EAAqB;AAAA,EAAC,cAAcD,KAAEC,KAAEC,KAAEV,KAAEW,KAAEZ,KAAE;AAAC,QAAIG,MAAE,IAAE,KAAK;AAAsB,SAAK,wBAAwBA,GAAC,IAAEQ,IAAE,CAAC,GAAE,KAAK,wBAAwBR,MAAE,CAAC,IAAEQ,IAAE,CAAC,GAAE,KAAK,wBAAwBR,MAAE,CAAC,IAAEF,IAAE,CAAC,GAAE,KAAK,wBAAwBE,MAAE,CAAC,IAAEF,IAAE,CAAC,GAAEE,MAAE,IAAE,KAAK,uBAAsB,KAAK,eAAeA,GAAC,IAAES,KAAE,KAAK,eAAeT,MAAE,CAAC,IAAEH,KAAE,KAAK,eAAeG,MAAE,CAAC,IAAE,GAAEO,IAAE,KAAK,kBAAiB,KAAK,uBAAsBA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,CAAC,GAAEA,IAAE,KAAK,eAAc,KAAK,uBAAsBA,IAAE,GAAG,CAAC,GAAEA,IAAE,GAAG,CAAC,GAAEA,IAAE,GAAG,CAAC,CAAC,GAAE,KAAK,eAAe,KAAK,qBAAqB,IAAED,KAAE,EAAE,KAAK;AAAA,EAAqB;AAAA,EAAC,mBAAkB;AAAC,SAAK,wBAAsB;AAAE,UAAK,EAAC,WAAUC,KAAE,QAAOC,KAAE,UAASV,IAAC,IAAE,KAAK;AAAK,SAAK,YAAUS,IAAEA,KAAEC,KAAE,IAAEV,IAAE,MAAM;AAAE,QAAIW,MAAE;AAAE,UAAMV,MAAE,CAACO,KAAEC,KAAEC,KAAEV,KAAEC,QAAI,KAAK,cAAcU,KAAEH,KAAEC,KAAEC,KAAEV,KAAEC,GAAC,GAAEF,MAAE,CAACS,KAAEC,KAAEC,KAAEV,QAAI,KAAK,WAAWW,KAAEH,KAAEC,KAAEC,KAAEV,GAAC;AAAE,SAAI,KAAK,SAAS,iCAAiCA,IAAEW,GAAC,GAAE,KAAK,SAAQV,GAAC,GAAEU,MAAE,GAAEA,MAAEX,IAAE,SAAO,GAAE,EAAEW,IAAE,MAAK,SAAS,QAAQX,IAAEW,GAAC,GAAE,KAAK,SAAQZ,GAAC;AAAE,SAAK,OAAO,iCAAiCC,IAAEW,GAAC,GAAE,KAAK,SAAQV,GAAC,GAAEU,MAAE,GAAE,KAAK,SAAS,mBAAmBX,IAAEW,GAAC,GAAEV,GAAC,GAAEU,MAAEX,IAAE,SAAO,GAAE,KAAK,OAAO,mBAAmBA,IAAEW,GAAC,GAAEV,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,UAAMO,MAAE,KAAK,QAAQ,SAAS,QAAOC,MAAE,KAAK,QAAQ,aAAYC,MAAE,KAAK,uBAAqB;AAAE,QAAIC,MAAE,KAAG,KAAGF,MAAEC;AAAI,SAAK,SAAS,mBAAiBC,KAAE,KAAK,SAAS,0BAAwB,GAAEA,OAAG,KAAK,SAAS,YAAW,KAAK,OAAO,mBAAiBA,KAAE,KAAK,OAAO,0BAAwBH,OAAG,KAAK,uBAAqB;AAAG,UAAMP,MAAE,IAAI,SAAMF,MAAE,IAAI,SAAMG,MAAE,CAACM,KAAEC,KAAEC,QAAI;AAAC,MAAAT,IAAE,KAAKO,GAAC,GAAEP,IAAE,KAAKQ,GAAC,GAAER,IAAE,KAAKS,GAAC,GAAEX,IAAE,KAAK,KAAK,eAAeS,GAAC,CAAC,GAAET,IAAE,KAAK,KAAK,eAAeU,GAAC,CAAC,GAAEV,IAAE,KAAK,KAAK,eAAeW,GAAC,CAAC;AAAA,IAAC;AAAE,aAAQV,MAAE,GAAEA,MAAES,KAAE,EAAET,KAAE;AAAC,YAAMS,MAAE,KAAK,QAAQ,QAAQ,IAAET,GAAC,GAAEW,MAAE,KAAK,QAAQ,QAAQ,IAAEX,MAAE,CAAC;AAAE,eAAQA,MAAE,GAAEA,MAAEU,KAAE,EAAEV,KAAE;AAAC,cAAMU,MAAEV,MAAEQ,MAAEC,KAAER,OAAGD,MAAE,KAAGQ,MAAEG,KAAEZ,MAAEC,MAAEQ,MAAEG;AAAE,QAAAT,IAAEQ,MAAGV,MAAE,KAAGQ,MAAEC,KAAER,GAAC,GAAEC,IAAEQ,KAAET,KAAEF,GAAC;AAAA,MAAC;AAAA,IAAC;AAAC,SAAK,SAAS,cAAc,KAAK,KAAK,SAAS,CAAC,GAAEG,GAAC,GAAE,KAAK,OAAO,cAAc,KAAK,KAAK,SAAS,KAAK,KAAK,SAAS,SAAO,CAAC,GAAEA,GAAC,GAAE,KAAK,gBAAcO,IAAER,GAAC,GAAE,KAAK,oBAAkBQ,IAAEV,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,SAAK,iBAAiB;AAAA,EAAC;AAAC;;;ACA1pH,IAAMa,MAAN,MAAO;AAAA,EAAC,iCAAiCC,KAAEC,KAAEC,KAAE;AAAC,aAAQC,MAAE,GAAEA,MAAEF,IAAE,SAAS,QAAO,EAAEE,IAAE,CAAAD,IAAEF,IAAE,OAAMC,IAAE,SAASE,GAAC,GAAEF,IAAE,QAAQE,GAAC,GAAE,GAAE,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,cAAgBL,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAE,KAAK,cAAY,GAAE,KAAK,aAAW;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAA,EAAC;AAAC;AAAC,IAAMM,MAAN,cAAgBN,IAAC;AAAA,EAAC,YAAYC,KAAEC,MAAE,GAAEC,MAAE,OAAG;AAAC,UAAM,GAAE,KAAK,UAAQF,KAAE,KAAK,qBAAmBC,KAAE,KAAK,OAAKC;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,QAAQ,SAAS;AAAA,EAAM;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,IAAE,KAAK,QAAQ;AAAA,EAAW;AAAA,EAAC,iCAAiCF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK;AAAmB,aAAQG,MAAE,GAAEA,MAAEL,IAAE,SAAS,QAAO,EAAEK,IAAE,CAAAJ,IAAEF,IAAE,OAAMC,IAAE,SAASK,GAAC,GAAEL,IAAE,QAAQK,GAAC,GAAEH,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAQG,MAAE,KAAK,OAAK,IAAE,IAAGC,MAAE,KAAK,oBAAmBR,MAAES;AAAE,IAAAT,IAAEA,KAAE,GAAE,CAAC;AAAE,aAAQC,MAAE,GAAEA,MAAEG,IAAE,SAAS,QAAO,EAAEH,IAAE,CAAAE,IAAED,IAAE,OAAME,IAAE,SAASH,GAAC,GAAED,KAAEQ,KAAED,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcN,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAQC,MAAE,KAAK,oBAAkBD,IAAE,QAAQ,CAAC;AAAE,aAAQI,MAAE,GAAEA,MAAEJ,IAAE,aAAY,EAAEI,KAAE;AAAC,YAAMN,MAAEE,IAAE,QAAQ,IAAEI,GAAC,GAAEC,MAAEL,IAAE,QAAQ,IAAEI,MAAE,CAAC,GAAEP,MAAE,KAAK,oBAAkBC,KAAEI,MAAE,KAAK,oBAAkBG;AAAE,WAAK,OAAKN,IAAEG,KAAEL,KAAEI,GAAC,IAAEF,IAAEE,KAAEJ,KAAEK,GAAC;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,IAAMK,MAAN,cAAgBV,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAM,GAAE,KAAK,OAAK,OAAG,KAAK,OAAK,GAAE,KAAK,eAAa,OAAG,KAAK,cAAY,GAAE,KAAK,UAAQA,IAAE,SAAQ,KAAK,OAAKA,IAAE,MAAK,KAAK,OAAK,KAAK,OAAK,IAAE,IAAG,KAAK,eAAaA,IAAE,cAAa,KAAK,cAAYA,IAAE;AAAA,EAAY;AAAA,EAAC,IAAI,cAAa;AAAC,QAAIA,MAAE,KAAK,QAAQ,SAAS,UAAQ,KAAK,cAAY,KAAG,KAAK,QAAQ,MAAM;AAAO,WAAO,KAAK,iBAAeA,OAAG,KAAK,QAAQ,SAAS,SAAQA;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,QAAIA,MAAE;AAAE,UAAMC,MAAE,KAAK;AAAQ,IAAAD,OAAG,IAAEC,IAAE,eAAa,KAAK,cAAY;AAAG,aAAQC,MAAE,GAAEA,MAAED,IAAE,aAAY,EAAEC,KAAE;AAAC,YAAMC,MAAEF,IAAE,QAAQ,IAAEC,GAAC,GAAEI,MAAEL,IAAE,QAAQ,IAAEC,MAAE,CAAC;AAAE,MAAAD,IAAE,YAAYE,GAAC,MAAIF,IAAE,YAAYK,GAAC,IAAEN,OAAG,IAAEA,OAAG;AAAA,IAAC;AAAC,WAAO,IAAEA;AAAA,EAAC;AAAA,EAAC,mBAAmBO,KAAER,KAAE;AAAC,UAAMK,MAAE,KAAK,SAAQC,MAAEE,IAAE,OAAME,MAAE,MAAG,KAAK,MAAKC,MAAEC,KAAEC,MAAEJ;AAAE,IAAAT,IAAEa,KAAE,GAAE,CAAC;AAAE,eAAUZ,OAAKI,IAAE,MAAM,CAAAJ,IAAE,SAAOD,IAAEM,KAAEL,IAAE,UAASA,IAAE,QAAOS,KAAE,CAAC,IAAEV,IAAEM,KAAEL,IAAE,UAASY,KAAEH,KAAE,KAAK,IAAI;AAAE,QAAG,KAAK,aAAa,UAAQT,MAAE,GAAEA,MAAEI,IAAE,SAAS,QAAO,EAAEJ,IAAE,CAAAD,IAAEM,KAAED,IAAE,SAASJ,GAAC,GAAEI,IAAE,QAAQJ,GAAC,GAAE,GAAE,CAAC;AAAE,aAAQA,MAAE,GAAEA,MAAE,KAAK,cAAY,GAAE,EAAEA,KAAE;AAAC,YAAMO,OAAG,KAAGP,MAAE,KAAG,KAAK,eAAa,KAAK,KAAG,KAAGW,MAAE,KAAK,IAAIJ,GAAC,GAAEC,MAAE,KAAK,IAAID,GAAC;AAAE,eAAQP,MAAE,GAAEA,MAAEI,IAAE,SAAS,QAAO,EAAEJ,KAAE;AAAC,cAAMO,MAAEH,IAAE,MAAMA,IAAE,YAAYJ,GAAC,CAAC;AAAE,QAAAA,IAAEU,KAAEN,IAAE,SAASJ,GAAC,GAAEO,IAAE,QAAQ,GAAEH,GAAEM,KAAEA,KAAEC,GAAC,GAAEJ,IAAE,UAAQM,IAAEH,KAAEA,KAAEH,IAAE,QAAQ,GAAER,IAAEM,KAAEK,KAAEH,IAAE,QAAOE,MAAED,KAAE,CAAC,MAAI,EAAEI,KAAEF,GAAC,GAAEN,GAAEQ,KAAEA,KAAED,GAAC,GAAEE,IAAEH,KAAEA,KAAEH,IAAE,QAAQ,GAAER,IAAEM,KAAEK,KAAEE,KAAEH,MAAED,KAAE,KAAK,OAAKA,GAAC;AAAA,MAAE;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,cAAcR,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAQC,MAAE,KAAK,eAAa,KAAK,oBAAkBD,IAAE,MAAM,SAAO,KAAK,yBAAwBI,MAAE,KAAK,eAAa,KAAK,oBAAkBJ,IAAE,MAAM,SAAOA,IAAE,SAAS,SAAO,KAAK,oBAAkBA,IAAE,MAAM;AAAO,aAAQK,MAAE,GAAEA,MAAEL,IAAE,aAAY,EAAEK,KAAE;AAAC,YAAMP,MAAEE,IAAE,QAAQ,IAAEK,GAAC,GAAER,MAAEG,IAAE,QAAQ,IAAEK,MAAE,CAAC,GAAEH,MAAE,KAAK,oBAAkBF,IAAE,YAAYF,GAAC,GAAEK,MAAE,KAAK,oBAAkBH,IAAE,YAAYH,GAAC;AAAE,UAAIU,MAAEN,MAAEH,KAAEW,MAAER,MAAEJ;AAAE,eAAQI,MAAE,GAAEA,MAAE,KAAK,cAAY,GAAE,EAAEA,KAAE;AAAC,cAAMI,MAAED,MAAEH,MAAED,IAAE,SAAS,SAAOF,KAAEI,MAAEE,MAAEH,MAAED,IAAE,SAAS,SAAOH;AAAE,aAAK,QAAME,IAAEM,KAAEI,KAAEF,GAAC,GAAER,IAAEU,KAAEJ,KAAEH,GAAC,MAAIH,IAAEQ,KAAEE,KAAEJ,GAAC,GAAEN,IAAEG,KAAEG,KAAEI,GAAC,IAAGF,MAAEF,KAAEI,MAAEP;AAAA,MAAC;AAAC,WAAK,QAAMH,IAAEG,KAAEO,KAAEF,GAAC,GAAEL,QAAIC,OAAGJ,IAAEG,KAAEC,KAAEM,GAAC,MAAIV,IAAEQ,KAAEE,KAAEP,GAAC,GAAEA,QAAIC,OAAGJ,IAAEU,KAAEN,KAAED,GAAC;AAAA,IAAE;AAAA,EAAC;AAAC;AAAC,IAAMO,MAAEJ,GAAE;AAAV,IAAYC,MAAED,GAAE;;;ACA5kF,IAAMO,MAAN,MAAO;AAAA,EAAC,qBAAoB;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,QAAQC,KAAEC,KAAEC,KAAE;AAAC,aAAQC,MAAE,GAAEA,MAAEF,IAAE,SAAS,QAAO,EAAEE,IAAE,CAAAD,IAAEF,IAAE,OAAMC,IAAE,SAASE,GAAC,GAAEF,IAAE,QAAQE,GAAC,GAAE,KAAE;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYJ,KAAEC,KAAE;AAAC,SAAK,cAAYD,KAAE,KAAK,sBAAoBC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,sBAAoB;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAEE,KAAEE,KAAE;AAAC,UAAMC,MAAEC,KAAE,EAAC,eAAcC,KAAE,eAAcT,KAAE,OAAMK,IAAC,IAAEH;AAAE,QAAG,KAAK,IAAIO,GAAC,KAAG,KAAK,aAAY;AAAC,YAAMC,MAAER,IAAE;AAAgB,eAAQM,MAAE,GAAEA,MAAE,KAAK,sBAAoB,GAAE,EAAEA,KAAE;AAAC,QAAAG,GAAEC,KAAE,MAAG,CAACH,MAAED,MAAEC,MAAE,KAAK,qBAAoBC,GAAC,GAAEG,IAAEN,KAAEF,KAAEO,GAAC;AAAE,iBAAQX,MAAE,GAAEA,MAAEG,IAAE,SAAS,QAAO,EAAEH,KAAE;AAAC,cAAGa,GAAEV,IAAE,SAASH,GAAC,GAAED,GAAC,IAAES,OAAG,EAAE,CAAAH,IAAEC,KAAEH,IAAE,SAASH,GAAC,GAAEG,IAAE,QAAQH,GAAC,GAAE,KAAE;AAAA,eAAM;AAAC,YAAAK,IAAED,KAAEH,IAAE,kBAAkBa,KAAEX,IAAE,SAASH,GAAC,CAAC,GAAEG,IAAE,QAAQH,GAAC,GAAE,IAAE;AAAA,UAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC,MAAM,UAAQA,MAAE,GAAEA,MAAE,KAAK,sBAAoB,GAAE,EAAEA,IAAE,UAAQM,MAAE,GAAEA,MAAEH,IAAE,SAAS,QAAO,EAAEG,KAAE;AAAC,YAAMN,MAAEa,GAAEV,IAAE,SAASG,GAAC,GAAEP,GAAC,IAAES,OAAG;AAAE,MAAAH,IAAED,KAAEH,IAAE,kBAAkBa,KAAEX,IAAE,SAASG,GAAC,CAAC,GAAEH,IAAE,QAAQG,GAAC,GAAE,CAACN,GAAC;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,IAAMS,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,KAAGD,GAAE,GAAE,KAAK,QAAMA,GAAE;AAAA,EAAC;AAAC;AAAC,SAASI,IAAEZ,KAAEC,KAAEC,KAAE;AAAC,EAAAa,GAAEf,IAAE,IAAGC,IAAE,IAAGC,GAAC,GAAEa,GAAEf,IAAE,OAAMC,IAAE,OAAMC,GAAC;AAAC;AAAC,IAAMY,MAAEN,GAAE;AAAV,IAAYG,MAAEV,IAAE;AAAhB,IAAkBM,MAAE,IAAIE;;;ACApxC,IAAMO,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEF,KAAEG,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMJ,KAAEF,KAAE,MAAKK,IAAE,MAAKC,GAAC,GAAE,KAAK,OAAKH,KAAE,KAAK,aAAWC,KAAE,KAAK,eAAaC;AAAA,EAAC;AAAC;AAAC,IAAIF;AAAE,SAASC,IAAEF,KAAE;AAAC,SAAM,UAASA;AAAC;AAAC,CAAC,SAASA,KAAE;AAAC,EAAAA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,IAAEA,IAAE,OAAK,CAAC,IAAE;AAAM,EAAEC,QAAIA,MAAE,CAAC,EAAE;;;ACA6kB,IAAMI,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,UAAQA;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,SAAK,QAAQ,cAAc;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,cAAgBF,GAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,GAAC,GAAE,KAAK,QAAME,GAAE,KAAI,KAAI,KAAI,GAAG,GAAE,KAAK,QAAMC,GAAE,GAAE,KAAK,YAAUA,IAAE,IAAE,KAAK,QAAQ,gBAAgB,GAAE,KAAK,UAAQ,IAAI,WAAW,IAAE,KAAK,QAAQ,gBAAgB;AAAA,EAAC;AAAA,EAAC,iBAAiBH,KAAE;AAAC,SAAK,MAAM,CAAC,IAAE,MAAIA,IAAE,CAAC,GAAE,KAAK,MAAM,CAAC,IAAE,MAAIA,IAAE,CAAC,GAAE,KAAK,MAAM,CAAC,IAAE,MAAIA,IAAE,CAAC,GAAE,KAAK,MAAM,CAAC,IAAE,OAAKA,IAAE,SAAO,IAAEA,IAAE,CAAC,IAAE;AAAA,EAAE;AAAA,EAAC,KAAKI,KAAE;AAAC,IAAAF,IAAE,KAAK,OAAME,GAAC;AAAE,UAAK,EAAC,kBAAiBC,KAAE,gBAAeC,KAAE,WAAUC,KAAE,kBAAiBC,KAAE,eAAcC,KAAE,yBAAwBC,KAAE,gBAAeC,IAAC,IAAE,KAAK;AAAQ,aAAQX,MAAE,GAAEA,MAAEK,KAAE,EAAEL,KAAE;AAAC,UAAIK,MAAEC,IAAEN,GAAC;AAAE,MAAAK,OAAG;AAAE,YAAMO,KAAEC;AAAE,UAAIC,MAAE,GAAEf,KAAE;AAAE,YAAME,KAAEO,IAAEO,IAAEP,KAAER,GAAC,GAAEgB,KAAER,IAAES,IAAER,KAAET,GAAC,GAAEkB,MAAE,IAAElB,KAAEmB,MAAEC,IAAEC,IAAEX,IAAEQ,GAAC,IAAEd,IAAE,CAAC,GAAEM,IAAEQ,MAAE,CAAC,IAAEd,IAAE,CAAC,CAAC,GAAEkB,MAAE,IAAEtB;AAAE,UAAG,MAAIW,IAAEW,MAAE,CAAC,EAAE,CAAAC,GAAEX,IAAEI,IAAEf,EAAC,GAAEa,MAAEH,IAAEW,GAAC,IAAElB,IAAE,CAAC,GAAEL,KAAEY,IAAEW,MAAE,CAAC;AAAA,WAAM;AAAC,cAAMtB,MAAEwB,KAAEpB,MAAEqB;AAAE,QAAAL,IAAEpB,KAAEW,IAAEW,GAAC,GAAEX,IAAEW,MAAE,CAAC,CAAC;AAAE,cAAMI,MAAEC,GAAE3B,GAAC;AAAE,UAAEA,KAAEA,GAAC;AAAE,cAAMK,MAAEa,GAAEC,KAAEnB,GAAC;AAAE,YAAG,KAAK,IAAIK,GAAC,IAAEqB,KAAE;AAAC,UAAAN,IAAEhB,KAAE,CAACJ,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAE,gBAAM4B,MAAEV,GAAEC,KAAEf,GAAC;AAAE,UAAAsB,GAAE1B,KAAEA,KAAE0B,MAAE,KAAK,KAAKrB,GAAC,CAAC,GAAEqB,GAAEtB,KAAEA,KAAEwB,GAAC,GAAEpB,IAAEW,KAAEnB,KAAEI,GAAC;AAAA,QAAC;AAAC,QAAAgB,GAAER,IAAE,GAAE,GAAE,CAAC;AAAA,MAAC;AAAC,YAAMiB,KAAE5B,GAAE,CAAC,IAAEkB,IAAE,CAAC,IAAEH,GAAE,CAAC,IAAEG,IAAE,CAAC,GAAEW,KAAE7B,GAAE,CAAC,IAAEkB,IAAE,CAAC,IAAEH,GAAE,CAAC,IAAEG,IAAE,CAAC,GAAEI,MAAEtB,GAAE,CAAC,IAAEkB,IAAE,CAAC,IAAEH,GAAE,CAAC,IAAEG,IAAE,CAAC;AAAE,WAAK,UAAUG,GAAC,IAAEf,IAAEF,GAAC,IAAEwB,KAAEjB,GAAE,CAAC,IAAEE,KAAE,KAAK,UAAUQ,MAAE,CAAC,IAAEf,IAAEF,MAAE,CAAC,IAAEyB,KAAElB,GAAE,CAAC,IAAEE,KAAE,KAAK,UAAUQ,MAAE,CAAC,IAAEf,IAAEF,MAAE,CAAC,IAAEkB,MAAEX,GAAE,CAAC,IAAEE;AAAE,YAAMiB,KAAErB,IAAEQ,MAAE,CAAC,GAAEc,KAAEtB,IAAEQ,MAAE,CAAC;AAAE,MAAAe,IAAE,KAAK,SAAQjC,KAAEC,GAAE,CAAC,IAAE8B,KAAEf,GAAE,CAAC,IAAEgB,KAAEpB,GAAE,CAAC,IAAEb,IAAEE,GAAE,CAAC,IAAE8B,KAAEf,GAAE,CAAC,IAAEgB,KAAEpB,GAAE,CAAC,IAAEb,IAAEE,GAAE,CAAC,IAAE8B,KAAEf,GAAE,CAAC,IAAEgB,KAAEpB,GAAE,CAAC,IAAEb,EAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMC,MAAE,KAAK,QAAQ;AAAc,WAAM,CAAC,CAACiC,IAAE,UAAS,IAAIjC,IAAE,KAAK,WAAUA,KAAE,GAAE,IAAE,CAAC,GAAE,CAACiC,IAAE,kBAAiB,IAAIjC,IAAE,KAAK,SAAQA,KAAE,GAAE,IAAE,CAAC,GAAE,CAACiC,IAAE,OAAM,IAAIjC,IAAE,KAAK,OAAM,EAAEA,IAAE,MAAM,GAAE,GAAE,IAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,UAAM,cAAcA,GAAC,GAAE,KAAK,KAAK,KAAK,IAAI;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAEiC,KAAEL,KAAEM,KAAE;AAAC,UAAMhC,MAAE,KAAK,QAAQ,eAAckB,MAAE,IAAIQ,IAAE,KAAK,WAAU,CAAC,GAAEzB,MAAED,IAAE,SAAO;AAAE,IAAAH,GAAEC,KAAEiC,KAAE,GAAE9B,KAAED,KAAEkB,KAAE,QAAOQ,KAAG,CAAC5B,KAAEiC,KAAEL,QAAIM,IAAElC,KAAE4B,KAAEK,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAC;AAAC,IAAMjB,KAAN,cAAgBjB,GAAC;AAAA,EAAC,YAAYC,KAAEiC,KAAEL,KAAEM,KAAE;AAAC,UAAMlC,GAAC,GAAE,KAAK,qBAAmBiC,KAAE,KAAK,sBAAoBL,KAAE,KAAK,wBAAsBM,KAAE,KAAK,QAAM,IAAIjC,GAAED,GAAC,GAAE,KAAK,UAAQG,IAAE,KAAK,QAAQ,KAAK,SAAS,MAAM,EAAE,KAAK8B,GAAC,GAAE,KAAK,WAAS9B,IAAE,KAAK,QAAQ,KAAK,SAAS,MAAM,EAAE,KAAKyB,GAAC,GAAE,KAAK,aAAWzB,IAAE,KAAK,QAAQ,KAAK,SAAS,MAAM,EAAE,KAAK+B,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMlC,MAAE,KAAK,SAAQ,EAAC,mBAAkBiC,KAAE,eAAcL,IAAC,IAAE5B;AAAE,WAAM,CAAC,CAACiC,IAAE,UAAS,IAAIjC,IAAEA,IAAE,WAAUiC,KAAE,GAAE,IAAE,CAAC,GAAE,CAACA,IAAE,wBAAuB,IAAIjC,IAAEA,IAAE,yBAAwB4B,KAAE,GAAE,IAAE,CAAC,GAAE,CAACK,IAAE,gBAAe,IAAIjC,IAAEA,IAAE,gBAAe4B,KAAE,GAAE,IAAE,CAAC,GAAE,CAACK,IAAE,cAAa,IAAIjC,IAAEA,IAAE,kBAAiB4B,KAAE,GAAE,IAAE,CAAC,GAAE,CAACK,IAAE,WAAU,IAAIjC,IAAEA,IAAE,eAAc4B,KAAE,GAAE,IAAE,CAAC,GAAE,CAACK,IAAE,sBAAqB,IAAIjC,IAAE,KAAK,SAAQiC,KAAE,GAAE,IAAE,CAAC,GAAE,CAACA,IAAE,uBAAsB,IAAIjC,IAAE,KAAK,UAASiC,KAAE,GAAE,IAAE,CAAC,GAAE,CAACA,IAAE,yBAAwB,IAAIjC,IAAE,KAAK,YAAWiC,KAAE,GAAE,IAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcjC,KAAE;AAAC,UAAM,cAAcA,GAAC;AAAE,UAAMiC,MAAEjC,IAAE,oBAAoBiC,IAAE,QAAQ;AAAE,IAAAA,QAAIA,IAAE,OAAK,KAAK,QAAQ;AAAA,EAAU;AAAC;AAAC,IAAMZ,KAAElB,GAAE;AAAV,IAAYqB,MAAErB,GAAE;AAAhB,IAAkBsB,KAAEtB,GAAE;AAAtB,IAAwBU,KAAEV,GAAE;AAA5B,IAA8BY,KAAEZ,GAAE;AAAlC,IAAoCc,KAAEd,GAAE;;;ACA/jG,SAASgC,IAAEA,KAAEC,KAAE;AAAC,MAAIC,KAAE;AAAK,QAAMC,MAAEH,IAAE,SAAS,QAAOI,MAAE,eAAaC,MAAEJ,GAAE,GAAEK,MAAEL,GAAE,GAAEM,KAAEN,GAAE,GAAEO,MAAEP,GAAE,GAAEQ,MAAER,GAAE,GAAES,MAAET,GAAE,GAAEU,MAAEC,GAAE;AAAE,MAAIC,KAAEb,IAAE,SAAS,CAAC;AAAE,EAAAc,GAAER,KAAEL,GAAC,GAAEc,GAAEV,KAAE,GAAE,GAAE,CAAC,GAAE,GAAEQ,GAAE,QAAOP,KAAED,KAAEA,KAAEE,IAAED,KAAEF,GAAC,GAAEU,GAAED,GAAE,MAAM,IAAGP,GAAC,GAAEQ,GAAED,GAAE,MAAM,OAAMN,EAAC;AAAE,QAAMK,KAAEZ,IAAE;AAAU,MAAIgB,MAAEhB,IAAE;AAAO,EAAAE,KAAEW;AAAE,WAAQI,MAAE,GAAEA,MAAEd,KAAE,EAAEc,KAAE;AAAC,IAAAJ,KAAEb,IAAE,SAASiB,GAAC,GAAEd,IAAEM,KAAEI,GAAE,OAAMA,GAAE,MAAM;AAAE,QAAIK,MAAEC,GAAEV,GAAC;AAAE,IAAAS,MAAE,KAAGA,MAAE,IAAE,KAAK,KAAKA,GAAC,GAAET,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAES,KAAET,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAES,KAAET,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAES,QAAIT,IAAE,CAAC,IAAEI,GAAE,OAAO,CAAC,GAAEJ,IAAE,CAAC,IAAEI,GAAE,OAAO,CAAC,GAAEJ,IAAE,CAAC,IAAEI,GAAE,OAAO,CAAC,IAAGH,IAAE,CAAC,IAAEE,GAAEI,GAAC,IAAEd,GAAE,MAAM,GAAG,CAAC,GAAEQ,IAAE,CAAC,IAAEE,GAAEI,MAAE,CAAC,IAAEd,GAAE,MAAM,GAAG,CAAC,GAAEQ,IAAE,CAAC,IAAEE,GAAEI,MAAE,CAAC,IAAEd,GAAE,MAAM,GAAG,CAAC,GAAEc,OAAG;AAAE,UAAMf,MAAEc,GAAEK,KAAER,GAAEI,GAAC,GAAEJ,GAAEI,MAAE,CAAC,GAAEJ,GAAEI,MAAE,CAAC,CAAC;AAAE,IAAAK,GAAEpB,KAAEQ,KAAEE,GAAC;AAAE,IAAAA,GAAEA,KAAED,GAAEA,KAAEG,GAAE,KAAK,GAAEL,GAAC,KAAGA,IAAE,CAAC,KAAGI,GAAEI,GAAC,GAAER,IAAE,CAAC,KAAGI,GAAEI,MAAE,CAAC,GAAER,IAAE,CAAC,KAAGI,GAAEI,MAAE,CAAC,GAAEM,GAAEhB,KAAEE,GAAC,GAAEe,GAAEhB,IAAEE,KAAEH,GAAC,GAAEgB,GAAEf,IAAEA,EAAC,KAAG,GAAEE,KAAEP,GAAE,MAAM,IAAGA,GAAE,MAAM,OAAMG,KAAEE,IAAED,KAAEF,GAAC,GAAEU,GAAED,GAAE,MAAM,IAAGP,GAAC,GAAEQ,GAAED,GAAE,MAAM,OAAMN,EAAC,GAAEL,KAAEW;AAAA,EAAC;AAAC;AAAC,IAAMO,MAAEnB,GAAE;;;ACA1zB,IAAMuB,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,WAAS,IAAI,SAAM,KAAK,UAAQ,IAAI,SAAM,KAAK,UAAQ,IAAI,SAAM,KAAK,QAAM,IAAI,SAAM,KAAK,cAAY,IAAI;AAAA,EAAK;AAAA,EAAC,UAAUC,KAAEC,KAAE;AAAC,WAAO,KAAK,SAAS,KAAKD,GAAEA,GAAC,CAAC,GAAE,KAAK,QAAQ,KAAKA,GAAEC,GAAC,CAAC,GAAE,KAAK,SAAS,SAAO;AAAA,EAAC;AAAA,EAAC,QAAQD,KAAEC,MAAE,MAAK;AAAC,WAAO,KAAK,MAAM,KAAK,EAAC,UAASD,GAAEA,GAAC,GAAE,QAAOC,MAAED,GAAEC,GAAC,IAAE,KAAI,CAAC,GAAE,KAAK,MAAM,SAAO;AAAA,EAAC;AAAA,EAAC,WAAWD,KAAEC,MAAE,MAAK;AAAC,SAAK,QAAQ,KAAKD,IAAE,EAAE,GAAE,KAAK,QAAQ,KAAKA,IAAE,EAAE,GAAEC,QAAI,KAAK,YAAY,KAAKA,IAAE,EAAE,GAAE,KAAK,YAAY,KAAKA,IAAE,EAAE;AAAA,EAAE;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,QAAQ,SAAO;AAAA,EAAC;AAAA,EAAC,UAAUD,KAAEC,KAAE;AAAC,eAAUC,OAAK,KAAK,SAAS,CAAAA,IAAE,CAAC,KAAGF,KAAEE,IAAE,CAAC,KAAGD;AAAE,eAAUC,OAAK,KAAK,MAAM,CAAAA,IAAE,SAAS,CAAC,KAAGF,KAAEE,IAAE,SAAS,CAAC,KAAGD;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,SAAS,SAAOE,GAAE,KAAK,SAAS,CAAC,CAAC,IAAE,IAAEA,GAAE,KAAK,OAAO;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAE,EAAC,KAAI,CAAC,GAAE,IAAG,GAAE,QAAO,CAAC,GAAE,GAAE,EAAC;AAAE,SAASD,IAAEH,KAAE;AAAC,QAAME,MAAE,KAAGC,MAAEE,KAAEC,MAAE,IAAIP,OAAEQ,MAAE,EAAC,IAAG,GAAE,IAAG,EAAC;AAAE,EAAAD,IAAE,QAAQP,GAAE,GAAE,CAAC,CAAC;AAAE,WAAQS,MAAE,GAAEA,MAAEL,KAAE,EAAEK,KAAE;AAAC,UAAMR,MAAE,IAAEQ,MAAE,KAAK,KAAGL,KAAEJ,MAAE,KAAK,IAAIC,GAAC,GAAEI,MAAE,KAAK,IAAIJ,GAAC,GAAEO,MAAER,GAAEA,MAAEG,KAAEE,MAAEF,GAAC,GAAEG,MAAEN,GAAEA,KAAEK,GAAC;AAAE,IAAAE,IAAE,UAAUC,KAAEF,GAAC;AAAA,EAAC;AAAC,WAAQJ,MAAE,GAAEA,MAAEE,MAAE,GAAE,EAAEF,KAAE;AAAC,UAAMD,MAAE,EAAC,IAAGC,KAAE,IAAGA,MAAE,EAAC;AAAE,IAAAK,IAAE,WAAWN,KAAEO,GAAC;AAAA,EAAC;AAAC,QAAMF,MAAE,EAAC,IAAGF,MAAE,GAAE,IAAG,EAAC;AAAE,MAAGG,IAAE,WAAWD,KAAEE,GAAC,GAAE,aAAWP,KAAE;AAAC,UAAMC,MAAEG,IAAEJ,GAAC;AAAE,IAAAM,IAAE,UAAUL,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAA,EAAC;AAAC,SAAOK;AAAC;AAAC,IAAMA,KAAE,EAAC,QAAOH,IAAE,QAAQ,GAAE,KAAIA,IAAE,KAAK,GAAE,QAAOA,IAAE,QAAQ,EAAC;AAA3D,IAA6DI,MAAE,EAAC,QAAOF,IAAE,QAAQ,GAAE,KAAIA,IAAE,KAAK,GAAE,QAAOA,IAAE,QAAQ,EAAC;AAAE,SAASA,IAAEL,KAAE;AAAC,QAAME,MAAE,GAAEM,MAAE,GAAEL,MAAE,IAAIJ,OAAEO,MAAEP,GAAE,MAAI,IAAG,GAAEQ,MAAER,GAAE,MAAGG,KAAE,IAAG,GAAEG,MAAEN,GAAE,MAAGG,KAAE,MAAGM,GAAC,GAAEC,MAAEV,GAAE,MAAI,MAAGS,GAAC,GAAEE,MAAEX,GAAE,GAAE,EAAE,GAAEY,KAAEZ,GAAE,GAAE,CAAC,GAAEa,MAAEb,GAAE,GAAE,CAAC,GAAEc,MAAEd,GAAE,IAAG,CAAC;AAAE,MAAGI,IAAE,QAAQJ,GAAE,GAAE,MAAGS,GAAC,GAAEI,GAAC,GAAET,IAAE,QAAQJ,GAAE,GAAE,MAAGS,GAAC,CAAC,GAAEL,IAAE,QAAQJ,GAAE,GAAE,IAAG,CAAC,GAAEI,IAAE,QAAQJ,GAAE,GAAE,IAAG,GAAEW,GAAC,GAAEP,IAAE,UAAUG,KAAEI,GAAC,GAAEP,IAAE,UAAUI,KAAEG,GAAC,GAAEP,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAEA,IAAE,UAAUI,KAAEI,EAAC,GAAER,IAAE,UAAUE,KAAEM,EAAC,GAAER,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAEA,IAAE,UAAUE,KAAEO,GAAC,GAAET,IAAE,UAAUM,KAAEG,GAAC,GAAET,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAEA,IAAE,UAAUM,KAAEI,GAAC,GAAEV,IAAE,UAAUG,KAAEO,GAAC,GAAEV,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAE,aAAWH,KAAE;AAAC,UAAMC,MAAEG,IAAEJ,GAAC;AAAE,IAAAG,IAAE,UAAUF,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAA,EAAC;AAAC,SAAOE;AAAC;;;ACAp+D,SAASW,IAAEC,KAAED,KAAE;AAAC,SAAOC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC;AAAC;AAAC,SAASC,IAAED,KAAE;AAAC,SAAOA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA;AAAC;AAAC,SAASE,IAAEF,KAAED,KAAEE,KAAEC,KAAEC,KAAE;AAAC,SAAOH,IAAE,CAAC,IAAED,KAAEC,IAAE,CAAC,IAAEC,KAAED,IAAE,CAAC,IAAEE,KAAEF,IAAE,CAAC,IAAEG,KAAEH;AAAC;AAAC,SAASG,IAAEH,KAAED,KAAE;AAAC,MAAGC,QAAID,KAAE;AAAC,UAAME,MAAEF,IAAE,CAAC;AAAE,IAAAC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAEC;AAAA,EAAC,MAAM,CAAAD,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC;AAAE,SAAOC;AAAC;AAAC,SAASI,IAAEJ,KAAED,KAAE;AAAC,QAAME,MAAEF,IAAE,CAAC,GAAEG,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC;AAAE,MAAIM,MAAEJ,MAAEG,MAAED,MAAED;AAAE,SAAOG,OAAGA,MAAE,IAAEA,KAAEL,IAAE,CAAC,IAAEI,MAAEC,KAAEL,IAAE,CAAC,IAAE,CAACE,MAAEG,KAAEL,IAAE,CAAC,IAAE,CAACG,MAAEE,KAAEL,IAAE,CAAC,IAAEC,MAAEI,KAAEL,OAAG;AAAI;AAAC,SAASK,IAAEL,KAAED,KAAE;AAAC,QAAME,MAAEF,IAAE,CAAC;AAAE,SAAOC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAE,CAACD,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAE,CAACD,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAEC,KAAED;AAAC;AAAC,SAASM,IAAEN,KAAE;AAAC,SAAOA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC;AAAC;AAAC,SAASO,IAAEP,KAAED,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEP,IAAE,CAAC,GAAEQ,MAAER,IAAE,CAAC;AAAE,SAAOD,IAAE,CAAC,IAAEE,MAAEI,MAAEF,MAAEG,KAAEP,IAAE,CAAC,IAAEG,MAAEG,MAAED,MAAEE,KAAEP,IAAE,CAAC,IAAEE,MAAEM,MAAEJ,MAAEK,KAAET,IAAE,CAAC,IAAEG,MAAEK,MAAEH,MAAEI,KAAET;AAAC;AAAC,SAASQ,IAAER,KAAED,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAE,KAAK,IAAIL,GAAC,GAAEM,MAAE,KAAK,IAAIN,GAAC;AAAE,SAAOD,IAAE,CAAC,IAAEE,MAAEK,MAAEH,MAAEE,KAAEN,IAAE,CAAC,IAAEG,MAAEI,MAAEF,MAAEC,KAAEN,IAAE,CAAC,IAAEE,MAAE,CAACI,MAAEF,MAAEG,KAAEP,IAAE,CAAC,IAAEG,MAAE,CAACG,MAAED,MAAEE,KAAEP;AAAC;AAAC,SAASS,IAAET,KAAED,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC;AAAE,SAAOD,IAAE,CAAC,IAAEE,MAAEI,KAAEN,IAAE,CAAC,IAAEG,MAAEG,KAAEN,IAAE,CAAC,IAAEI,MAAEG,KAAEP,IAAE,CAAC,IAAEK,MAAEE,KAAEP;AAAC;AAAC,SAASU,IAAEV,KAAED,KAAE;AAAC,QAAME,MAAE,KAAK,IAAIF,GAAC,GAAEG,MAAE,KAAK,IAAIH,GAAC;AAAE,SAAOC,IAAE,CAAC,IAAEE,KAAEF,IAAE,CAAC,IAAEC,KAAED,IAAE,CAAC,IAAE,CAACC,KAAED,IAAE,CAAC,IAAEE,KAAEF;AAAC;AAAC,SAASW,GAAEX,KAAED,KAAE;AAAC,SAAOC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC;AAAC;AAAC,SAASY,IAAEZ,KAAE;AAAC,SAAM,UAAQA,IAAE,CAAC,IAAE,OAAKA,IAAE,CAAC,IAAE,OAAKA,IAAE,CAAC,IAAE,OAAKA,IAAE,CAAC,IAAE;AAAG;AAAC,SAASa,IAAEb,KAAE;AAAC,SAAO,KAAK,KAAKA,IAAE,CAAC,KAAG,IAAEA,IAAE,CAAC,KAAG,IAAEA,IAAE,CAAC,KAAG,IAAEA,IAAE,CAAC,KAAG,CAAC;AAAC;AAAC,SAASc,IAAEd,KAAED,KAAEE,KAAEC,KAAE;AAAC,SAAOF,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAED,IAAE,CAAC,IAAEC,IAAE,CAAC,GAAED,IAAE,CAAC,IAAEC,IAAE,CAAC,GAAED,IAAE,CAAC,IAAEC,IAAE,CAAC,IAAEF,IAAE,CAAC,IAAEC,IAAE,CAAC,GAAE,CAACD,KAAED,KAAEE,GAAC;AAAC;AAAC,SAASc,IAAEf,KAAED,KAAEE,KAAE;AAAC,SAAOD,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED;AAAC;AAAC,SAASgB,IAAEhB,KAAED,KAAEE,KAAE;AAAC,SAAOD,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED;AAAC;AAAC,SAASiB,IAAEjB,KAAED,KAAE;AAAC,SAAOC,IAAE,CAAC,MAAID,IAAE,CAAC,KAAGC,IAAE,CAAC,MAAID,IAAE,CAAC,KAAGC,IAAE,CAAC,MAAID,IAAE,CAAC,KAAGC,IAAE,CAAC,MAAID,IAAE,CAAC;AAAC;AAAC,SAASmB,GAAEnB,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEP,IAAE,CAAC,GAAEQ,MAAER,IAAE,CAAC,GAAES,MAAEL,GAAE;AAAE,SAAO,KAAK,IAAIH,MAAEI,GAAC,KAAGI,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIR,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC,KAAG,KAAK,IAAIH,MAAEI,GAAC,KAAGG,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIP,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC,KAAG,KAAK,IAAIH,MAAEI,GAAC,KAAGE,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIN,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC,KAAG,KAAK,IAAIH,MAAEI,GAAC,KAAGC,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIL,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC;AAAC;AAAC,SAASU,GAAEnB,KAAED,KAAEE,KAAE;AAAC,SAAOD,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED;AAAC;AAAC,SAASoB,GAAEpB,KAAED,KAAEE,KAAEC,KAAE;AAAC,SAAOF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF;AAAC;AAAC,IAAMqB,KAAEd;AAAR,IAAUe,MAAEN;AAAZ,IAAcO,KAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,KAAIT,KAAE,KAAIC,KAAE,SAAQV,KAAE,MAAKN,KAAE,aAAYO,KAAE,QAAOY,IAAE,aAAYD,KAAE,MAAKJ,KAAE,cAAaH,KAAE,aAAYC,IAAE,UAASV,KAAE,QAAOG,KAAE,KAAIiB,IAAE,UAASd,KAAE,gBAAeY,IAAE,sBAAqBC,IAAE,QAAOZ,KAAE,OAAMC,KAAE,KAAIP,KAAE,KAAIU,KAAE,KAAIU,KAAE,UAASN,KAAE,WAAUb,IAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;;;ACAj2E,SAASqB,MAAG;AAAC,SAAM,CAAC,GAAE,GAAE,GAAE,CAAC;AAAC;AAAC,SAASC,IAAED,KAAE;AAAC,SAAM,CAACA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAC;AAAC,SAASE,IAAEF,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAM,CAACH,KAAEC,KAAEC,KAAEC,GAAC;AAAC;AAAC,IAAMA,MAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAMF,KAAE,QAAOD,KAAE,YAAWE,IAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;;;ACA2b,IAAME,KAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,QAAMC,GAAE,GAAE,KAAK,SAAOA,GAAE,GAAE,KAAK,oBAAkB,GAAE,KAAK,QAAM,IAAIC;AAAA,EAAC;AAAA,EAAC,qBAAqBC,KAAE;AAAC,IAAAC,GAAE,KAAK,MAAM,IAAGD,GAAC,GAAEE,IAAEC,IAAE,KAAK,OAAM,KAAK,MAAM,GAAEC,GAAED,IAAEA,EAAC,GAAEE,GAAEC,KAAE,KAAK,MAAM,IAAGC,GAAEJ,IAAE,KAAK,MAAM,EAAE,CAAC,GAAEK,GAAEC,IAAEN,IAAEG,GAAC,GAAEF,GAAEK,IAAEA,EAAC,GAAEC,GAAE,KAAK,MAAM,OAAMD,IAAE,KAAK,MAAM,EAAE;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,KAAG,KAAK;AAAA,EAAa;AAAC;AAAC,IAAME,KAAN,cAAgBd,GAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,MAAM;AAAA,EAAE;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAOI;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,IAAAI,GAAEO,IAAE,KAAK,MAAM,IAAGL,GAAE,KAAK,MAAM,IAAG,KAAK,KAAK,CAAC,GAAEC,GAAEI,IAAE,KAAK,OAAMA,EAAC,GAAEC,GAAED,IAAEA,EAAC,GAAER,GAAEQ,IAAEA,EAAC,GAAEP,GAAEQ,KAAE,KAAK,MAAM,IAAGN,GAAE,KAAK,MAAM,IAAG,KAAK,MAAM,CAAC,GAAEC,GAAEK,KAAE,KAAK,QAAOA,GAAC,GAAET,GAAES,KAAEA,GAAC,GAAEH,GAAEI,IAAE,KAAK,iBAAgB,KAAK,KAAK;AAAE,WAAO,KAAK,KAAKP,GAAEO,IAAE,KAAK,MAAM,CAAC,KAAG,KAAK,KAAGC,GAAER,GAAEK,IAAEC,GAAC,CAAC;AAAA,EAAE;AAAA,EAAC,IAAI,qBAAoB;AAAC,WAAO,KAAK,IAAI,KAAK,oBAAkB,KAAK,IAAI,MAAG,KAAK,YAAY,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBb,KAAEgB,KAAE;AAAC,UAAMf,MAAE,KAAK;AAAc,QAAG,KAAK,IAAIA,GAAC,KAAG,EAAE,QAAOe;AAAE,UAAMC,MAAE,EAAE,KAAK,IAAI,MAAGhB,GAAC,CAAC;AAAE,WAAOiB,IAAElB,MAAGiB,MAAE,IAAE,KAAGD,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMG,KAAN,cAAgBtB,GAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,UAAMG,MAAE,KAAK,KAAKO,GAAE,KAAK,MAAM,OAAM,KAAK,MAAM,CAAC;AAAE,WAAOG,GAAEN,KAAE,KAAK,QAAO,KAAK,KAAK,GAAEC,GAAED,KAAEA,KAAEJ,GAAC,GAAEI,GAAEA,KAAEA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,UAAMJ,MAAE,KAAK,iBAAgBoB,MAAEb,GAAEP,KAAE,KAAK,MAAM,EAAE,GAAEgB,MAAET,GAAEP,KAAE,KAAK,MAAM,KAAK;AAAE,WAAOK,GAAEgB,IAAE,KAAK,MAAM,IAAG,CAACL,GAAC,GAAEX,GAAEE,IAAE,KAAK,MAAM,OAAMa,GAAC,GAAElB,IAAEmB,IAAEA,IAAEd,EAAC,GAAEH,GAAEiB,IAAEA,EAAC,GAAEC,GAAEC,IAAE,KAAK,OAAMF,EAAC,GAAEE;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,UAAMH,MAAE,KAAK,KAAKb,GAAE,KAAK,MAAM,OAAM,KAAK,MAAM,CAAC;AAAE,WAAOM,GAAEC,IAAE,KAAK,KAAK,GAAE,CAACM,OAAG,KAAK,KAAGL,GAAER,GAAEO,IAAE,KAAK,MAAM,CAAC;AAAA,EAAE;AAAA,EAAC,IAAI,qBAAoB;AAAC,WAAO,KAAK,IAAI,KAAK,oBAAkB,EAAE,KAAK,IAAI,MAAG,KAAK,YAAY,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBd,KAAEC,KAAE;AAAC,UAAMuB,MAAE,KAAK;AAAc,QAAG,MAAI,KAAK,IAAIA,GAAC,EAAE,QAAOvB;AAAE,UAAMwB,MAAE,EAAE,KAAK,IAAI,MAAGD,GAAC,CAAC,GAAEN,MAAE,KAAK,eAAcpB,MAAE0B,IAAEE,KAAE,KAAGD,MAAE,KAAGP,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAGO,MAAE,KAAGP,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAGO,MAAE,KAAGP,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAE,KAAGO,MAAE,KAAGP,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC;AAAE,WAAOX,GAAEP,KAAEC,KAAEH,GAAC;AAAA,EAAC;AAAC;AAAC,SAASwB,GAAEtB,KAAEoB,KAAEJ,KAAE;AAAC,EAAAE,IAAElB,KAAEO,GAAES,KAAEI,IAAE,KAAK,GAAEb,GAAES,KAAEI,IAAE,EAAE,CAAC;AAAC;AAAC,SAASO,IAAE3B,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAKkB,IAAE;AAAM,aAAO,IAAIP;AAAA,IAAE,KAAKO,IAAE;AAAK,aAAO,IAAIC;AAAA,EAAC;AAAC;AAAC,IAAMf,MAAEN,GAAE;AAAV,IAAYyB,KAAEzB,GAAE;AAAhB,IAAkBuB,KAAEvB,GAAE;AAAtB,IAAwBS,KAAET,GAAE;AAA5B,IAA8BgB,KAAEhB,GAAE;AAAlC,IAAoCc,KAAEd,GAAE;AAAxC,IAA0Ce,MAAEf,GAAE;AAA9C,IAAgDQ,MAAER,GAAE;AAApD,IAAsDK,KAAEL,GAAE;AAA1D,IAA4DW,KAAEX,GAAE;AAAhE,IAAkE4B,MAAET,IAAE;;;ACAnyC,IAAMW,MAAN,cAAgBC,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,UAAQC,GAAE,KAAG,KAAG,GAAE,GAAE,KAAK,UAAQA,GAAE,KAAG,KAAG,GAAE,GAAE,KAAK,UAAQ,GAAE,KAAK,SAAOC,GAAE,GAAE,KAAK,sBAAoB,MAAK,KAAK,aAAWC,KAAE,KAAK,mBAAiB,GAAE,KAAK,iBAAeC,GAAE,OAAM,KAAK,oBAAkBA;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,cAAgBA,GAAC;AAAA,EAAC,YAAYC,KAAEL,KAAE;AAAC,UAAMK,KAAEL,KAAE,IAAIE,IAAEI,IAAG,MAAI,OAAO,yBAAyB,CAAE,GAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,KAAE;AAAC,UAAK,EAAC,QAAOL,KAAE,aAAYQ,KAAE,eAAcN,KAAE,iBAAgBO,KAAE,cAAaR,KAAE,SAAQE,IAAC,IAAEE,KAAEK,KAAEP,QAAIM,IAAE,MAAKE,MAAER,QAAIM,IAAE;AAAU,WAAOG,GAAE,EAAC,UAASC,IAAEb,GAAC,KAAGQ,MAAEM,IAAEX,GAAC,IAAE,MAAK,SAAQD,OAAG,CAACM,OAAGC,QAAIM,GAAE,OAAKF,MAAE,MAAK,WAAU,EAAC,MAAKG,GAAEb,GAAC,EAAC,GAAE,YAAWO,MAAGC,MAAEG,MAAE,MAAK,aAAYG,IAAEjB,KAAEkB,GAAEf,KAAEH,GAAC,CAAC,GAAE,YAAWI,IAAE,cAAaH,MAAED,MAAE,MAAK,aAAYC,MAAEkB,KAAE,MAAK,eAAcT,MAAGC,MAAE,OAAKM,GAAC,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMV,KAAE,oBAAI,IAAI,CAAC,CAACP,IAAE,UAAS,CAAC,GAAE,CAACA,IAAE,wBAAuB,CAAC,GAAE,CAACA,IAAE,cAAa,CAAC,GAAE,CAACA,IAAE,WAAU,CAAC,GAAE,CAACA,IAAE,sBAAqB,CAAC,GAAE,CAACA,IAAE,uBAAsB,CAAC,GAAE,CAACA,IAAE,yBAAwB,CAAC,GAAE,CAACA,IAAE,WAAU,CAAC,GAAE,CAACA,IAAE,gBAAe,CAAC,CAAC,CAAC;;;ACAriD,IAAMoB,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAM,GAAE,KAAK,YAAUA,KAAE,KAAK,UAAQC,IAAE,UAAS,KAAK,kBAAgBC,GAAE,MAAK,KAAK,iBAAeC,GAAE,MAAK,KAAK,iBAAe,OAAG,KAAK,0BAAwB,OAAG,KAAK,SAAO,OAAG,KAAK,UAAQ,OAAG,KAAK,YAAU,OAAG,KAAK,cAAY,OAAG,KAAK,eAAa,OAAG,KAAK,mBAAiB,OAAG,KAAK,mBAAiB,OAAG,KAAK,WAAS,OAAG,KAAK,YAAU,OAAG,KAAK,wBAAsBC,IAAE,MAAK,KAAK,gBAAc,OAAG,KAAK,kBAAgB,MAAG,KAAK,+BAA6B,OAAG,KAAK,gBAAc,OAAG,KAAK,kBAAgB,OAAG,KAAK,iCAA+B,OAAG,KAAK,8BAA4B,OAAG,KAAK,sBAAoB,OAAG,KAAK,mBAAiB,OAAG,KAAK,SAAO,OAAG,KAAK,iBAAe;AAAA,EAAE;AAAA,EAAC,IAAI,4BAA2B;AAAC,WAAO,KAAK;AAAA,EAAW;AAAC;AAAC,EAAE,CAACF,IAAE,EAAC,OAAMD,IAAE,MAAK,CAAC,CAAC,GAAEH,IAAE,WAAU,WAAU,MAAM,GAAE,EAAE,CAACI,IAAE,EAAC,OAAMA,GAAE,MAAK,CAAC,CAAC,GAAEJ,IAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACI,IAAE,EAAC,OAAMC,GAAE,MAAK,CAAC,CAAC,GAAEL,IAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,2BAA0B,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,WAAU,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAACI,IAAE,CAAC,GAAEJ,IAAE,WAAU,aAAY,MAAM;;;ACAld,IAAMO,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMD,KAAEE,GAAC,GAAE,KAAK,2BAAyBC,IAAE,KAAK,gBAAc,MAAG,KAAK,OAAKC,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,OAAKA,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,WAAS,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAgB,CAAAL,SAAI,KAAK,WAAW,eAAaM,IAAEN,GAAC,KAAGI,IAAEJ,GAAC,MAAI,CAAC,KAAK,WAAW,GAAE,CAACK,GAAE,sBAAqB,CAAAL,SAAI,KAAK,WAAW,eAAaM,IAAEN,GAAC,KAAGI,IAAEJ,GAAC,MAAI,KAAK,WAAW,CAAC,CAAC,GAAE,KAAK,iBAAe,IAAIO,IAAEN,IAAE,SAAS;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,WAAW,mBAAiB;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAEC,KAAE;AAAC,WAAO,MAAM,iBAAiBD,KAAEC,KAAE,KAAK,cAAc,GAAE,KAAK,eAAe,SAAO,CAAC,CAAC,KAAK,WAAW,QAAO,KAAK,eAAe,UAAQ,CAAC,CAAC,KAAK,WAAW,SAAQ,KAAK,eAAe,YAAU,CAAC,CAAC,KAAK,WAAW,WAAU,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,cAAY,KAAK,aAAY,KAAK,eAAe,eAAaA,IAAE,cAAaO,IAAER,GAAC,KAAG,KAAK,eAAe,kBAAgB,KAAK,WAAW,eAAa,aAAW,KAAK,WAAW,kBAAgBS,GAAE,OAAK,KAAK,WAAW,eAAa,oBAAkB,KAAK,WAAW,kBAAgBA,GAAE,eAAaA,GAAE,MAAK,KAAK,eAAe,iBAAeR,IAAE,UAAU,SAAQ,KAAK,eAAe,0BAAwB,QAAMA,IAAE,QAAM,KAAK,eAAe,iBAAe,KAAK,eAAe,0BAAwB,OAAG,KAAK,eAAe,UAAQ,KAAK,WAAW,SAAOF,IAAE,YAAUA,IAAE,UAAS,KAAK,eAAe,iBAAe,KAAK,WAAW,SAAOW,GAAE,cAAYA,GAAE,MAAK,KAAK,eAAe,WAASC,GAAEX,GAAC,GAAE,KAAK,eAAe,UAAQC,IAAE,SAAQ,KAAK,eAAe,mBAAiBA,IAAE,kBAAiB,KAAK,eAAe,mBAAiBA,IAAE,kBAAiB,KAAK,eAAe,YAAUA,IAAE,WAAU,KAAK;AAAA,EAAc;AAAA,EAAC,mBAAmBD,KAAE;AAAC,WAAOA,QAAID,IAAE,UAAQC,QAAID,IAAE,0BAAwBC,QAAID,IAAE,mBAAiB,KAAK,WAAW;AAAA,EAAW;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,WAAW,WAASO;AAAA,EAAC;AAAA,EAAC,UAAUN,KAAEC,KAAEQ,KAAEL,KAAEQ,KAAEN,KAAE;AAAC,SAAK,WAAWN,KAAES,KAAEL,KAAEQ,KAAEN,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBN,KAAEC,KAAEQ,KAAEL,KAAE;AAAC,WAAO,KAAK,KAAK,CAAC,IAAE,KAAK,KAAK,CAAC,IAAEK,IAAE,CAAC,GAAE,KAAK,KAAK,CAAC,IAAE,KAAK,KAAK,CAAC,IAAEA,IAAE,CAAC,GAAE,KAAK,WAAWT,KAAEC,KAAE,KAAK,MAAK,KAAK,MAAKG,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWK,KAAEG,KAAEN,KAAEO,KAAEd,KAAE;AAAC,UAAMQ,MAAEE;AAAE,QAAG,CAACG,IAAEL,GAAC,EAAE;AAAO,UAAMO,MAAEP,IAAE,MAAKQ,MAAEf,GAAE,KAAK,WAAW,IAAI;AAAE,QAAG,KAAK,WAAW,QAAO;AAAC,YAAK,EAAC,QAAOC,KAAE,QAAOQ,KAAE,SAAQL,KAAE,SAAQQ,KAAE,UAASN,IAAC,IAAE,KAAK,WAAW,QAAOO,MAAEC,IAAE;AAAmB,aAAO,MAAMD,GAAC,KAAGE,IAAE,CAAC,KAAGT,IAAE,CAAC,GAAES,IAAE,CAAC,KAAGT,IAAE,CAAC,MAAIS,IAAE,CAAC,KAAGX,GAAEH,IAAE,CAAC,IAAEY,MAAEJ,IAAE,CAAC,GAAEL,IAAE,CAAC,GAAEQ,IAAE,CAAC,CAAC,GAAEG,IAAE,CAAC,KAAGX,GAAEH,IAAE,CAAC,IAAEY,MAAEJ,IAAE,CAAC,GAAEL,IAAE,CAAC,GAAEQ,IAAE,CAAC,CAAC;AAAA,IAAE;AAAC,UAAMJ,MAAE,IAAID,GAAE,OAAGK,IAAE,QAAQ,cAAc,GAAEI,MAAE,KAAK,IAAID,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAEE,MAAER,IAAE;AAAa,QAAG,QAAMQ,IAAE,QAAO,KAAKC,GAAEJ,KAAEC,KAAET,KAAEO,KAAEL,KAAET,GAAC;AAAE,UAAMW,MAAEG,GAAEI,IAAE,MAAM,CAAC,IAAED,KAAEC,IAAE,MAAM,CAAC,IAAED,KAAEC,IAAE,MAAM,CAAC,IAAED,KAAEC,IAAE,MAAM,CAAC,IAAED,KAAEC,IAAE,MAAM,CAAC,IAAED,KAAEC,IAAE,MAAM,CAAC,IAAED,GAAC,GAAEG,MAAE,CAACN,IAAE,CAAC,IAAEP,IAAE,CAAC,GAAEO,IAAE,CAAC,IAAEP,IAAE,CAAC,GAAEO,IAAE,CAAC,IAAEP,IAAE,CAAC,CAAC,GAAEc,MAAE,KAAK,KAAKD,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC,GAAEE,MAAE,CAACD,MAAED,IAAE,CAAC,GAAEC,MAAED,IAAE,CAAC,GAAEC,MAAED,IAAE,CAAC,CAAC;AAAE,IAAAR,GAAED,KAAEJ,KAAEe,KAAET,IAAE,SAAS,KAAGM,GAAEJ,KAAEC,KAAET,KAAEO,KAAEL,KAAET,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,IAAIW,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,UAAMV,MAAEsB,GAAE,EAAE,MAAMrB,IAAE,QAAQ,EAAE,QAAQA,IAAE,sBAAsB,EAAE,QAAQA,IAAE,cAAa,EAAC,cAAa,KAAE,CAAC,EAAE,QAAQA,IAAE,WAAU,EAAC,cAAa,KAAE,CAAC;AAAE,WAAO,KAAK,WAAW,UAAQD,IAAE,IAAIC,IAAE,oBAAoB,GAAE,KAAK,WAAW,WAASD,IAAE,IAAIC,IAAE,qBAAqB,GAAE,KAAK,WAAW,aAAWD,IAAE,IAAIC,IAAE,uBAAuB,GAAEA,IAAE,KAAGD,IAAE,OAAOC,IAAE,SAAS,GAAED,IAAE,QAAQC,IAAE,cAAc,GAAED;AAAA,EAAC;AAAA,EAAC,iBAAiBA,KAAE;AAAC,WAAO,IAAIuB,GAAEvB,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,UAAK,EAAC,YAAWA,IAAC,IAAE;AAAK,WAAOA,IAAE,iBAAeA,IAAE,UAAQ;AAAA,EAAC;AAAC;AAAC,IAAMuB,KAAN,cAAgBtB,IAAC;AAAA,EAAC,UAAUD,KAAE;AAAC,WAAO,KAAK,aAAawB,KAAExB,GAAC;AAAA,EAAC;AAAC;AAAC,SAASkB,GAAElB,KAAEC,KAAEQ,KAAEL,KAAEQ,KAAEN,KAAE;AAAC,EAAAN,IAAE,MAAM,QAAMA,IAAE,MAAM,KAAK,CAAC,MAAIC,IAAE,CAAC,KAAGD,IAAE,MAAM,KAAK,CAAC,MAAIC,IAAE,CAAC,KAAGD,IAAE,MAAM,KAAKC,GAAC,GAAED,IAAE,MAAM,UAAUS,KAAEL,KAAEQ,KAAEN,GAAC;AAAC;AAAC,IAAMJ,MAAN,cAAgBG,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,cAAY,OAAG,KAAK,kBAAgB,UAAS,KAAK,cAAY,MAAG,KAAK,gBAAc,OAAG,KAAK,gBAAc,OAAG,KAAK,SAAO;AAAA,EAAE;AAAC;;;ACAt6D,IAAM,KAAG,CAAC,UAAU;AAAE,IAAM,KAAN,cAAiBoB,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,KAAEC,IAAGH,GAAC,CAAC,GAAE,KAAK,iBAAeC,GAAE,GAAE,CAAC,GAAE,KAAK,qBAAmBG,IAAE,MAAK,KAAK,gBAAc,KAAG,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,UAAML,MAAE,KAAK,aAAYE,MAAE,QAAMF,IAAE,QAAMA,IAAE,QAAMA,IAAE,QAAOG,MAAE,QAAMH,IAAE,SAAOA,IAAE,SAAOE;AAAE,SAAK,oBAAkB,IAAII,GAAE,EAAC,UAAS,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,OAAG,SAAQ,KAAE,GAAE,WAAU,CAAC,GAAE,GAAE,CAAC,GAAE,YAAW,CAACJ,KAAE,GAAEC,GAAC,GAAE,cAAa,KAAK,SAAS,mBAAmB,cAAa,eAAc,KAAK,4BAA4B,GAAE,cAAa,CAACD,KAAE,GAAEC,GAAC,EAAC,CAAC;AAAE,UAAMI,MAAE,KAAK,SAAS,UAAU;AAAgB,SAAK,eAAaA,KAAG,SAAO,EAAE,KAAK,SAAS,UAAS,KAAK,iBAAiB,IAAE;AAAK,UAAMC,MAAER,IAAE,UAAQ;AAAS,SAAK,qBAAmB,cAAYA,IAAE,kBAAgBK,IAAE,QAAMA,IAAE;AAAK,UAAMI,MAAET,IAAE,WAAS;AAAS,YAAOS,KAAE;AAAA,MAAC;AAAA,MAAQ,KAAI;AAAS,aAAK,WAASC,GAAEF,GAAC;AAAE;AAAA,MAAM,KAAI;AAAO,aAAK,WAASG,IAAEH,GAAC;AAAA,IAAC;AAAC,YAAOR,IAAE,MAAK;AAAA,MAAC,KAAI;AAAQ,aAAK,YAAU,IAAIW,IAAE,GAAEN,GAAC;AAAE;AAAA,MAAM,KAAI;AAAQ,aAAK,YAAU,IAAIM,IAAE,GAAE,CAAC;AAAE;AAAA,MAAM,KAAI;AAAQ,aAAK,YAAU,IAAIA,IAAE,MAAG,KAAK,IAAG,CAAC;AAAE;AAAA,MAAM;AAAQ,aAAK,YAAU,IAAIF;AAAA,IAAC;AAAC,UAAMG,MAAEZ,IAAE,OAAK;AAAO,YAAOY,KAAE;AAAA,MAAC,KAAI;AAAO,aAAK,YAAU,IAAIC,OAAE,KAAK,UAAQ,IAAIA;AAAE;AAAA,MAAM,KAAI;AAAA,MAAO;AAAQ,aAAK,YAAU,IAAIC,IAAE,KAAK,UAAS,CAAC,GAAE,KAAK,UAAQ,IAAIA,IAAE,KAAK,UAAS,GAAE,IAAE;AAAE;AAAA,MAAM,KAAI;AAAS,aAAK,YAAU,IAAIA,IAAE,KAAK,UAAS,IAAG,GAAE,KAAK,UAAQ,IAAIA,IAAE,KAAK,UAAS,KAAG,IAAE;AAAE;AAAA,MAAM,KAAI,SAAQ;AAAC,cAAMd,MAAE,WAASS;AAAE,aAAK,YAAU,IAAIG,IAAE,EAAC,SAAQ,KAAK,UAAS,MAAK,OAAG,cAAaZ,KAAE,cAAaC,IAAC,CAAC,GAAE,KAAK,UAAQ,IAAIW,IAAE,EAAC,SAAQ,KAAK,UAAS,MAAK,MAAG,cAAaZ,KAAE,cAAaC,IAAC,CAAC;AAAE;AAAA,MAAK;AAAA,IAAC;AAAC,UAAMc,MAAE,KAAK,aAAa,UAAU,OAAMD,MAAE,KAAK,4BAA4BC,GAAC,GAAEL,MAAEM,GAAEF,GAAC,GAAEE,MAAEF,IAAE,CAAC,GAAEG,MAAE,KAAK,4BAA2BC,MAAElB,IAAE,UAAU,UAASD,MAAE,EAAC,SAAQW,KAAE,SAAQA,KAAE,kBAAiBQ,KAAG,YAAU,GAAE,gBAAeP,GAAE,OAAM,SAAQK,KAAE,eAAcC,KAAE,iBAAgB,OAAG,eAAc,KAAK,SAAS,mBAAkB,aAAY,KAAK,YAAY,aAAY,4BAA2B,KAAE;AAAE,QAAG,CAAC,KAAK,kBAAkB,SAAOZ,IAAE,KAAK,gBAAeH,KAAEC,GAAC,GAAE,CAACgB,GAAE,KAAK,eAAe,CAAC,CAAC,KAAG,CAACA,GAAE,KAAK,eAAe,CAAC,CAAC,GAAG,OAAM,IAAI,EAAE,0CAAyC,yCAAyC;AAAE,QAAIC;AAAE,SAAK,cAAc,gBAAgB,QAAMP,GAAE,KAAK,gBAAe,KAAK,gBAAe,IAAE,KAAK,SAAS,mBAAmB,YAAY,GAAE,KAAK,eAAaO,MAAE,IAAIC,GAAG,EAAC,GAAGtB,KAAE,GAAG,KAAK,aAAa,oBAAmB,MAAKM,GAAE,KAAK,cAAc,EAAC,GAAE,KAAK,QAAQ,KAAGN,IAAE,kBAAgB,KAAK,kBAAkB,SAAO,KAAK,kBAAkB,SAAQA,IAAE,aAAWY,IAAE,YAAWS,MAAE,IAAIE,GAAGvB,KAAE,KAAK,QAAQ,IAAGqB,IAAE,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,MAAG,UAASA,IAAE,eAAa,WAASR,MAAEZ,IAAE,OAAKA,IAAE,KAAI,CAAC,GAAE,KAAK,WAAW,CAAC,IAAEoB;AAAA,EAAC;AAAA,EAAC,wBAAwBpB,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAAS,IAAG,KAAK,YAAY,IAAI,EAAE,QAAO;AAAK,UAAMC,MAAE,KAAK,2BAA2BD,GAAC;AAAE,WAAO,KAAK,iBAAiBD,KAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,UAAMF,MAAE,KAAK,aAAa,UAAU,OAAMC,MAAE,KAAK,oBAAoBD,GAAC;AAAE,SAAK,WAAW,CAAC,GAAG,cAAc,EAAC,SAAQC,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEgB,GAAC;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,WAAO,KAAK,WAAW,CAAC,GAAG,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAO,KAAK,WAAW,CAAC,GAAG,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE,CAAC,GAAE;AAAA,EAAE;AAAA,EAAC,kBAAkBjB,KAAEC,KAAE;AAAC,eAAUC,OAAKF,IAAE,MAAK;AAAC,UAAG,sBAAoBE,IAAE,QAAOF,IAAE;AAAe,UAAG,CAAC,EAAE,KAAK,cAAaC,KAAE,KAAK,iBAAiB,EAAE,QAAOD,IAAE;AAAe,WAAK,WAAW,CAAC,GAAG,cAAc,KAAK,aAAa,kBAAkB;AAAA,IAAC;AAAC,WAAOA,IAAE;AAAA,EAAU;AAAA,EAAC,eAAeA,KAAE;AAAC,QAAIC,MAAE;AAAE,UAAMC,MAAEF,IAAE,OAAMG,MAAE,CAAC,GAAEI,MAAEP,IAAE,kBAAiBW,MAAE,KAAK,SAAS,kBAAkB,kBAAiBN,MAAE,KAAK,SAAS,mBAAmB;AAAiB,eAAUO,OAAKV,IAAE,CAAAD,OAAGW,IAAE;AAAO,UAAMJ,MAAEP,GAAE,IAAEA,GAAC;AAAE,QAAIY,KAAEJ,MAAE;AAAE,eAAUG,OAAKV,KAAE;AAAC,MAAAC,IAAE,KAAK,EAAC,QAAOM,KAAE,aAAYG,IAAE,OAAM,CAAC;AAAE,iBAAUX,OAAKW,IAAE,CAAAJ,IAAEC,KAAG,IAAER,IAAE,CAAC,GAAEO,IAAEC,KAAG,IAAER,IAAE,CAAC,GAAEO,IAAEC,KAAG,IAAET,IAAE,OAAKC,IAAE,CAAC,IAAE;AAAA,IAAC;AAAC,WAAO,QAAMU,OAAGJ,IAAE,OAAOI,GAAC,KAAGN,GAAEG,KAAED,KAAE,GAAEC,KAAEG,KAAE,GAAEV,GAAC,KAAG,QAAMU,OAAGA,IAAE,OAAON,GAAC,IAAEQ,MAAEb,GAAEQ,GAAC,KAAGK,MAAEZ,GAAE,IAAEA,GAAC,GAAEI,GAAEG,KAAEG,KAAE,GAAEE,KAAER,KAAE,GAAEJ,GAAC,IAAG,EAAC,qBAAoBE,KAAE,cAAaK,KAAE,cAAaK,IAAC,KAAG;AAAA,EAAI;AAAA,EAAC,iBAAiBb,KAAEC,KAAE;AAAC,UAAK,EAAC,SAAQU,KAAE,eAAcN,IAAC,IAAEL,KAAEQ,MAAEG,IAAE,UAASE,MAAE,KAAK,eAAeL,GAAC;AAAE,QAAG,QAAMK,IAAE,QAAO,KAAK,OAAO,KAAK,wGAAwG,GAAE;AAAK,QAAG,MAAIA,IAAE,oBAAoB,OAAO,QAAO,MAAIL,IAAE,MAAM,UAAQA,IAAE,MAAM,KAAM,CAAAR,QAAGA,IAAE,SAAO,CAAE,KAAG,KAAK,OAAO,KAAK,yEAAyE,GAAE;AAAK,UAAMuB,MAAE,IAAI,SAAMR,MAAEP,IAAE,kBAAiBM,MAAEE,GAAE,GAAEN,MAAE,KAAK,SAAS,oBAAmBX,MAAE,IAAIG,IAAEW,IAAE,YAAY,GAAEO,MAAET,IAAE,KAAIa,MAAEhB,IAAEK,IAAE,aAAa,MAAM;AAAE,eAAUG,OAAKH,IAAE,qBAAoB;AAAC,YAAMb,MAAEgB,IAAE;AAAY,UAAGhB,MAAE,EAAE;AAAS,YAAMQ,MAAEQ,IAAE;AAAO,UAAG,QAAM,KAAK,SAAS,mBAAiBX,GAAEQ,IAAE,cAAaL,KAAER,KAAEc,GAAC,GAAE,CAAC,EAAEA,KAAE,KAAK,SAAS,cAAc,GAAG;AAAS,YAAMW,KAAE,IAAI,SAAMC,KAAElB,MAAE,IAAER;AAAE,eAAQE,MAAEM,KAAEN,MAAEwB,IAAExB,OAAG,GAAE;AAAC,QAAAH,IAAE,SAAOG;AAAE,cAAMF,MAAEc,IAAEf,KAAE,KAAK,SAAS,mBAAkBE,KAAES,GAAC;AAAE,QAAAL,GAAEsB,KAAGd,IAAE,aAAaX,GAAC,GAAEW,IAAE,aAAaX,MAAE,CAAC,GAAEW,IAAE,aAAaX,MAAE,CAAC,CAAC,GAAEQ,IAAE,YAAYiB,KAAG3B,GAAC,GAAEa,IAAE,aAAaX,GAAC,IAAEyB,IAAG,CAAC,GAAEd,IAAE,aAAaX,MAAE,CAAC,IAAEyB,IAAG,CAAC,GAAEd,IAAE,aAAaX,MAAE,CAAC,IAAEyB,IAAG,CAAC,GAAEF,GAAE,KAAKf,IAAG,KAAK,kBAAkB,CAAC;AAAA,MAAC;AAAC,YAAMW,MAAE,IAAIP,IAAEW,IAAEZ,IAAE,cAAaA,IAAE,cAAaL,KAAEgB,GAAC;AAAE,MAAAI,IAAGP,KAAE,KAAK,oBAAmB,KAAK,SAAS,kBAAkB;AAAE,YAAMQ,MAAE,IAAIjB,IAAES,KAAE,KAAK,UAAS,KAAK,WAAU,KAAK,WAAU,KAAK,OAAO;AAAE,UAAIS,MAAE;AAAK,UAAG,KAAK,cAAa;AAAC,cAAM9B,MAAE,KAAK,aAAa,iBAAgBC,MAAE,GAAED,IAAE,MAAM,OAAMW,GAAC,KAAG,GAAET,MAAE,GAAEF,IAAE,OAAO,OAAMW,GAAC,KAAG,GAAER,MAAE,GAAEH,IAAE,SAAS,OAAMW,GAAC,KAAG;AAAE,QAAAmB,MAAE,IAAIC,GAAEF,KAAE5B,KAAEC,KAAEC,GAAC;AAAA,MAAC,OAAK;AAAC,cAAMH,MAAEC,GAAE,KAAK,cAAc;AAAE,YAAG,KAAK,kBAAkB,MAAK;AAAC,gBAAMA,MAAEI,IAAE,QAAM,CAAC,gBAAe,gBAAe,cAAc;AAAE,UAAAL,IAAE,CAAC,KAAGgC,IAAG/B,IAAE,CAAC,GAAE,mBAAiBA,IAAE,CAAC,IAAE,KAAK,YAAY,UAAQ,IAAEA,IAAE,CAAC,GAAE,KAAK,YAAY,SAAO,CAAC,GAAED,IAAE,CAAC,KAAGgC,IAAG/B,IAAE,CAAC,GAAE,mBAAiBA,IAAE,CAAC,IAAE,KAAK,YAAY,SAAO,IAAEA,IAAE,CAAC,GAAE,KAAK,YAAY,UAAQ,CAAC;AAAA,QAAC;AAAC,YAAIA;AAAE,YAAG,KAAK,kBAAkB,UAAQA,MAAEI,IAAE,SAAO,KAAK,4BAA4B,IAAG,KAAK,kBAAkB,SAAQ;AAAC,gBAAML,MAAEK,IAAE,WAAS,KAAK,4BAA4B,EAAE,CAAC;AAAE,UAAAJ,MAAEA,MAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAED,GAAC,IAAE,CAAC,GAAE,GAAE,GAAEA,GAAC;AAAA,QAAC;AAAC,cAAME,MAAE,IAAI+B,GAAEJ,GAAC;AAAE,QAAA3B,IAAE,KAAKF,GAAC,GAAEC,OAAGC,IAAE,iBAAiBD,GAAC,GAAE6B,MAAE5B;AAAA,MAAC;AAAC,YAAMgC,KAAEJ,IAAE,mBAAmB,GAAEK,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWf,KAAE,cAAa,KAAK,SAAS,aAAY,CAAC,GAAEgB,MAAE,IAAIpC,IAAE,KAAK,WAAW,CAAC,GAAEkC,IAAEJ,KAAEf,KAAE,KAAK,eAAcoB,GAAC;AAAE,MAAAC,IAAE,iBAAejC,GAAEH,IAAE,GAAEE,IAAE2B,IAAE,KAAK,MAAM,GAAEN,IAAE,KAAKa,GAAC;AAAA,IAAC;AAAC,QAAG,MAAIb,IAAE,OAAO,QAAO;AAAK,UAAMF,MAAE,IAAIe,GAAE,EAAC,YAAWb,KAAE,cAAa,KAAK,SAAS,cAAa,YAAWH,IAAC,CAAC,GAAEU,MAAE,IAAIP,IAAE,MAAKF,KAAE,MAAM,CAACrB,KAAEC,KAAEC,KAAEC,KAAEI,QAAI8B,IAAGrC,KAAEC,KAAEE,KAAEI,KAAE,KAAK,kBAAkB,GAAGN,KAAE,IAAI;AAAE,WAAO6B,IAAE,0BAAwB,GAAEA,IAAE,wBAAsBb,IAAEhB,IAAE,IAAI,GAAE6B;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAM7B,MAAE,KAAK,aAAa,UAAU;AAAM,WAAOY,GAAE,WAAWZ,GAAC,KAAGU;AAAA,EAAC;AAAC;AAAC,SAASiB,IAAG5B,KAAEC,KAAEC,KAAE;AAAC,QAAK,EAAC,QAAOC,KAAE,WAAUI,IAAC,IAAEP;AAAE,MAAIW,MAAEX,IAAE;AAAO,UAAOC,KAAE;AAAA,IAAC;AAAA,IAAQ,KAAKI,IAAE;AAAM,iBAAUJ,OAAKD,IAAE,SAAS,CAAA2B,IAAG,CAAC,IAAEpB,IAAEI,KAAG,IAAER,IAAE,CAAC,GAAEwB,IAAG,CAAC,IAAEpB,IAAEI,KAAG,IAAER,IAAE,CAAC,GAAEwB,IAAG,CAAC,IAAEpB,IAAEI,KAAG,IAAER,IAAE,CAAC,GAAED,IAAE,kBAAkByB,KAAGA,GAAE,GAAE1B,IAAE,qBAAqB0B,GAAE;AAAE;AAAA,IAAM,KAAKtB,IAAE;AAAK,MAAAsB,IAAG,CAAC,IAAEpB,IAAEI,GAAC,IAAER,IAAE,CAAC,GAAEwB,IAAG,CAAC,IAAEpB,IAAEI,MAAE,CAAC,IAAER,IAAE,CAAC,GAAEwB,IAAG,CAAC,IAAEpB,IAAEI,MAAE,CAAC,IAAER,IAAE,CAAC,GAAED,IAAE,kBAAkByB,KAAGA,GAAE,GAAEV,IAAEjB,KAAE2B,GAAE;AAAA,EAAC;AAAC;AAAC,SAASK,IAAGhC,KAAEC,KAAEC,KAAE;AAAC,UAAOF,KAAE;AAAA,IAAC,KAAI;AAAe,aAAOE;AAAA,IAAE,KAAI;AAAe,aAAOD;AAAA,IAAE;AAAQ,aAAOD;AAAA,EAAC;AAAC;AAAC,SAASsC,IAAGtC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,MAAII,MAAE;AAAE,QAAK,EAAC,QAAOI,KAAE,UAASN,KAAE,WAAUG,KAAE,aAAYK,IAAC,IAAEb,KAAES,MAAET,IAAE,SAAO,IAAEK,IAAE;AAAO,WAAQkB,MAAEvB,IAAE,QAAOuB,MAAEd,KAAEc,OAAG,EAAE,CAAAlB,GAAEsB,KAAGd,IAAEU,GAAC,GAAEV,IAAEU,MAAE,CAAC,GAAEV,IAAEU,MAAE,CAAC,CAAC,GAAErB,IAAEyB,KAAGY,GAAE,GAAEhC,OAAGgC,IAAG,kBAAiBZ,IAAG,CAAC,IAAEnB,IAAEe,GAAC,IAAEZ,IAAE,CAAC,GAAEgB,IAAG,CAAC,IAAEnB,IAAEe,MAAE,CAAC,IAAEZ,IAAE,CAAC,GAAEgB,IAAG,CAAC,IAAEnB,IAAEe,MAAE,CAAC,IAAEZ,IAAE,CAAC,GAAER,IAAE,YAAYwB,KAAGY,IAAG,CAAC,GAAE/B,IAAEe,GAAC,IAAEI,IAAG,CAAC,IAAEhB,IAAE,CAAC,GAAEH,IAAEe,MAAE,CAAC,IAAEI,IAAG,CAAC,IAAEhB,IAAE,CAAC,GAAEH,IAAEe,MAAE,CAAC,IAAEI,IAAG,CAAC,IAAEhB,IAAE,CAAC;AAAE,SAAOX,IAAE,4BAA4B,GAAEO,MAAEF,IAAE;AAAM;AAAC,SAASgC,IAAGrC,KAAEC,KAAEC,KAAEC,KAAEI,KAAE;AAAC,QAAMI,MAAEX,IAAE,aAAYK,MAAEM,IAAE;AAAW,MAAIH,MAAE;AAAE,aAAUK,OAAKR,KAAE;AAAC,QAAG,CAACE,IAAEM,GAAC,EAAE;AAAS,UAAMb,MAAEa,IAAE,MAAKR,MAAEL,IAAE,QAAQ;AAAK,IAAAQ,OAAG8B,IAAGjC,KAAEJ,KAAEC,KAAEC,GAAC,GAAEI,QAAIF,IAAE,SAAOuB,IAAGvB,KAAEE,KAAEJ,GAAC,GAAEH,IAAE,cAAca,GAAC,GAAEA,IAAE,uBAAuB,GAAEF,IAAE,+BAA+BE,KAAEb,IAAG,QAAQ;AAAA,EAAC;AAAC,SAAOQ,MAAEH,IAAE;AAAM;AAAC,SAASD,IAAGJ,KAAE;AAAC,SAAO,OAAKA,IAAE,UAAU,OAAO,KAAG;AAAE;AAAC,IAAM2B,MAAGnB,GAAE;AAAX,IAAa+B,MAAG,IAAIC;;;ACAzlU,SAASC,GAAEC,KAAEC,KAAEC,KAAEC,KAAEC,MAAE,GAAE;AAAC,MAAGF,IAAE,gBAAcC,QAAIE,IAAE,QAAO;AAAC,UAAML,MAAEA,GAAEC,IAAE,MAAM,GAAEK,MAAEL,IAAE,QAAOE,MAAEA,GAAED,GAAC;AAAE,aAAQA,MAAE,GAAEA,MAAEI,KAAEJ,OAAG,EAAE,CAAAK,GAAEN,KAAEC,KAAEF,KAAEE,KAAEC,GAAC;AAAE,IAAAF,MAAED;AAAA,EAAC;AAAC,EAAAM,IAAEE,KAAE,OAAO,mBAAkB,OAAO,iBAAiB;AAAE,WAAQF,MAAE,GAAEA,MAAEL,IAAE,QAAOK,OAAG,EAAE,CAAAE,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEP,IAAEK,GAAC,CAAC,GAAEE,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEP,IAAEK,MAAE,CAAC,CAAC;AAAE,QAAMG,MAAED,IAAE,CAAC,IAAEJ,KAAEM,MAAEF,IAAE,CAAC,IAAEJ,KAAEO,MAAEH,IAAE,CAAC,IAAEC,KAAEG,MAAEJ,IAAE,CAAC,IAAEE;AAAE,WAAQJ,MAAE,GAAEA,MAAEL,IAAE,QAAOK,OAAG,GAAE;AAAC,UAAMJ,MAAEI,MAAE,IAAE;AAAE,IAAAN,IAAEE,GAAC,KAAGD,IAAEK,GAAC,IAAEK,OAAGP,KAAEJ,IAAEE,MAAE,CAAC,KAAGD,IAAEK,MAAE,CAAC,IAAEM,OAAGR,KAAEJ,IAAEE,MAAE,CAAC,IAAES,MAAEP,KAAEJ,IAAEE,MAAE,CAAC,IAAEU,MAAER;AAAA,EAAC;AAAC;AAAC,SAASS,GAAEb,KAAEC,KAAEU,KAAEC,KAAEP,MAAE,GAAE;AAAC,EAAAC,GAAEQ,IAAE,GAAE,GAAE,CAAC,GAAER,GAAES,IAAE,GAAE,GAAE,CAAC,GAAET,GAAEU,IAAE,GAAE,GAAE,CAAC,GAAEC,GAAEC,IAAEP,GAAC,GAAEQ,GAAEC,IAAET,GAAC,KAAGU,GAAED,IAAEN,IAAEC,IAAEC,IAAEJ,KAAEM,EAAC,GAAEZ,IAAEE,KAAE,OAAO,mBAAkB,OAAO,iBAAiB,GAAEF,IAAEgB,KAAE,OAAO,mBAAkB,OAAO,iBAAiB;AAAE,WAAQhB,MAAE,GAAEA,MAAEK,IAAE,QAAOL,OAAG,GAAE;AAAC,IAAAA,GAAEiB,KAAEZ,IAAEL,GAAC,GAAEK,IAAEL,MAAE,CAAC,GAAEK,IAAEL,MAAE,CAAC,CAAC;AAAE,UAAMN,MAAEsB,GAAER,IAAES,GAAC,GAAEtB,MAAEqB,GAAEP,IAAEQ,GAAC;AAAE,IAAAf,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAER,GAAC,GAAEQ,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEP,GAAC,GAAEqB,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEtB,GAAC,GAAEsB,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAErB,GAAC;AAAA,EAAC;AAAC,QAAMuB,MAAEF,GAAEN,IAAEE,EAAC;AAAE,EAAAO,IAAEC,IAAElB,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEgB,KAAEV,IAAEC,IAAEC,EAAC,GAAES,IAAEN,KAAEG,IAAE,CAAC,GAAEd,IAAE,CAAC,GAAEgB,KAAEV,IAAEC,IAAEC,EAAC,GAAES,IAAEE,IAAEnB,IAAE,CAAC,GAAEc,IAAE,CAAC,GAAEE,KAAEV,IAAEC,IAAEC,EAAC,GAAEJ,GAAEO,KAAEA,KAAEO,EAAC,GAAEE,GAAET,KAAEA,KAAE,GAAE,GAAEP,GAAEe,IAAEA,IAAED,EAAC,GAAEE,GAAED,IAAEA,IAAE,GAAE,GAAEE,IAAEH,IAAEA,IAAEP,GAAC,GAAEU,IAAEH,IAAEA,IAAEC,EAAC;AAAE,QAAMG,MAAEtB,IAAE,CAAC,IAAEH,KAAEE,MAAEC,IAAE,CAAC,IAAEH,KAAE0B,MAAEvB,IAAE,CAAC,IAAEsB,KAAEE,KAAExB,IAAE,CAAC,IAAED;AAAE,WAAQD,MAAE,GAAEA,MAAEK,IAAE,QAAOL,OAAG,GAAE;AAAC,IAAAA,GAAEiB,KAAEZ,IAAEL,GAAC,GAAEK,IAAEL,MAAE,CAAC,GAAEK,IAAEL,MAAE,CAAC,CAAC;AAAE,UAAMF,MAAEE,MAAE,GAAEG,MAAE,IAAEL;AAAE,IAAAJ,IAAES,GAAC,KAAGa,GAAER,IAAES,GAAC,IAAEQ,OAAG1B,KAAEL,IAAES,MAAE,CAAC,KAAGa,GAAEP,IAAEQ,GAAC,IAAES,MAAG3B,KAAEL,IAAES,MAAE,CAAC,IAAEsB,MAAE1B,KAAEL,IAAES,MAAE,CAAC,IAAEuB,KAAE3B;AAAE,UAAMK,MAAE,IAAEN;AAAE,aAAQJ,MAAE,GAAEA,MAAE,GAAEA,MAAI,CAAAC,IAAES,MAAEV,GAAC,IAAE0B,GAAE1B,GAAC,GAAEC,IAAES,MAAEV,MAAE,CAAC,IAAEmB,IAAEnB,GAAC,GAAEC,IAAES,MAAEV,MAAE,CAAC,IAAE2B,GAAE3B,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMkB,KAAEP,GAAE;AAAV,IAAYY,MAAEZ,GAAE;AAAhB,IAAkBS,KAAEP,GAAE;AAAtB,IAAwBC,KAAEH,GAAE;AAA5B,IAA8BI,KAAEJ,GAAE;AAAlC,IAAoCK,KAAEL,GAAE;AAAxC,IAA0CH,MAAEG,GAAE;AAA9C,IAAgDW,MAAEX,GAAE;AAApD,IAAsDe,KAAEf,GAAE;AAA1D,IAA4DQ,MAAER,GAAE;AAAhE,IAAkEgB,KAAEhB,GAAE;AAAE,SAASU,GAAErB,KAAEM,KAAEL,KAAEG,KAAEM,KAAEoB,KAAE;AAAC,UAAMpB,OAAGA,IAAE,sBAAsBoB,KAAEG,GAAC,GAAE3B,GAAE4B,KAAED,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAE3B,GAAE6B,KAAEF,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAE3B,GAAE8B,IAAEH,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,EAAE,CAAC,MAAI3B,GAAE4B,KAAE,GAAE,GAAE,CAAC,GAAE5B,GAAE6B,KAAE,GAAE,GAAE,CAAC,GAAE7B,GAAE8B,IAAE,GAAE,GAAE,CAAC;AAAG,QAAM7B,MAAE,EAAEP,GAAC;AAAE,EAAAsB,GAAEf,KAAE6B,EAAC,IAAE,KAAGR,GAAErB,KAAEA,KAAE,EAAE,GAAEJ,GAAEC,KAAEG,GAAC;AAAE,QAAMwB,MAAET,GAAEf,KAAE4B,GAAC,GAAEH,KAAEV,GAAEf,KAAE2B,GAAC;AAAE,OAAK,IAAIH,GAAC,IAAE,KAAK,IAAIC,EAAC,KAAGP,GAAEnB,KAAE4B,KAAE3B,KAAE,CAACyB,EAAC,GAAEb,GAAEb,KAAEA,GAAC,GAAEU,GAAEf,KAAEK,KAAEC,GAAC,GAAEY,GAAElB,KAAEA,GAAC,GAAE2B,GAAE3B,KAAEA,KAAE,EAAE,MAAIwB,GAAExB,KAAEkC,KAAE5B,KAAE,CAACwB,GAAC,GAAEZ,GAAElB,KAAEA,GAAC,GAAEe,GAAEV,KAAEL,KAAEM,GAAC,GAAEY,GAAEb,KAAEA,GAAC;AAAE;AAAC,IAAM2B,MAAE/B,IAAE;AAAV,IAAYgC,MAAEvB,GAAE;AAAhB,IAAkBwB,MAAExB,GAAE;AAAtB,IAAwByB,KAAEzB,GAAE;AAAE,SAASM,GAAEjB,KAAEM,KAAE;AAAC,EAAAA,GAAE+B,IAAE,GAAE,GAAE,CAAC;AAAE,WAAQpC,MAAE,GAAEA,MAAEK,IAAE,SAAO,GAAEL,OAAG,EAAE,CAAAoC,GAAE,CAAC,KAAG/B,IAAEL,GAAC,GAAEoC,GAAE,CAAC,KAAG/B,IAAEL,MAAE,CAAC,GAAEoC,GAAE,CAAC,KAAG/B,IAAEL,MAAE,CAAC;AAAE,EAAA2B,GAAE5B,KAAEqC,IAAE,KAAG/B,IAAE,SAAO,IAAE,EAAE;AAAC;AAAC,IAAM+B,KAAE1B,GAAE;AAAE,SAASc,IAAEzB,KAAEM,KAAEL,KAAEE,KAAEC,KAAEK,KAAEC,KAAE;AAAC,EAAAJ,GAAEN,KAAEM,MAAEF,IAAE,CAAC,IAAEH,MAAEQ,IAAE,CAAC,IAAEN,MAAEO,IAAE,CAAC,GAAEJ,MAAEF,IAAE,CAAC,IAAEH,MAAEQ,IAAE,CAAC,IAAEN,MAAEO,IAAE,CAAC,GAAEJ,MAAEF,IAAE,CAAC,IAAEH,MAAEQ,IAAE,CAAC,IAAEN,MAAEO,IAAE,CAAC,CAAC;AAAC;;;ACA3tD,IAAM4B,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMD,KAAEC,KAAE,IAAIC,IAAEC,IAAG,MAAI,OAAO,4BAAmB,CAAE,GAAEH,IAAE,IAAEI,MAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBH,KAAED,KAAE;AAAC,UAAK,EAAC,SAAQK,KAAE,QAAOC,KAAE,UAASC,KAAE,QAAOV,KAAE,cAAaO,KAAE,eAAcD,IAAC,IAAEF,KAAEO,MAAEH,QAAII,IAAE;AAAK,WAAOC,GAAE,EAAC,UAASC,IAAEL,GAAC,IAAEM,IAAEP,GAAC,IAAE,MAAK,SAAQE,GAAEA,GAAC,GAAE,WAAUV,MAAE,OAAK,EAAC,MAAKM,GAAEE,GAAC,EAAC,GAAE,YAAWQ,GAAEZ,GAAC,GAAE,aAAYa,IAAER,KAAES,GAAEV,KAAEC,GAAC,CAAC,GAAE,YAAWR,IAAE,cAAaM,MAAEL,MAAE,MAAK,aAAYK,MAAEJ,MAAES,MAAEF,KAAE,MAAK,eAAcC,MAAEL,MAAEa,KAAE,OAAKV,GAAEL,GAAC,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,KAAE;AAAC,WAAO,KAAK,yBAAuB,KAAK,kBAAkBA,KAAE,IAAE,GAAE,KAAK,kBAAkBA,KAAE,KAAE;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,WAAOA,MAAE,KAAK,yBAAuB,MAAM,YAAY;AAAA,EAAC;AAAC;AAAC,IAAMiB,KAAE,EAAC,QAAO,GAAE,OAAM,EAAC;AAAzB,IAA2BZ,KAAE,oBAAI,IAAI,CAAC,CAACL,IAAE,UAAS,CAAC,GAAE,CAACA,IAAE,OAAM,CAAC,GAAE,CAACA,IAAE,YAAW,CAAC,GAAE,CAACA,IAAE,uBAAsB,CAAC,GAAE,CAACA,IAAE,cAAa,CAAC,CAAC,CAAC;AAAjI,IAAmII,MAAE,oBAAI,IAAI,CAAC,CAACJ,IAAE,UAAS,CAAC,GAAE,CAACA,IAAE,OAAM,CAAC,GAAE,CAACA,IAAE,YAAW,CAAC,GAAE,CAACA,IAAE,uBAAsB,CAAC,GAAE,CAACA,IAAE,cAAa,CAAC,GAAE,CAACA,IAAE,WAAU,CAAC,CAAC,CAAC;;;ACA7qC,IAAMkB,MAAN,cAAgBC,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,WAASC,IAAE,MAAK,KAAK,QAAMD,IAAE,YAAW,KAAK,kBAAgB,OAAG,KAAK,gBAAc,OAAG,KAAK,eAAa,OAAG,KAAK,eAAa,MAAG,KAAK,mBAAiB,OAAG,KAAK,mBAAiB,OAAG,KAAK,UAAQ,OAAG,KAAK,SAAO,OAAG,KAAK,wBAAsBE,IAAE,MAAK,KAAK,iBAAeC,GAAE,MAAK,KAAK,4BAA0B,MAAG,KAAK,aAAW,MAAG,KAAK,gBAAc,OAAG,KAAK,kBAAgB,OAAG,KAAK,SAAO,OAAG,KAAK,YAAU,OAAG,KAAK,iCAA+B,OAAG,KAAK,iBAAe,OAAG,KAAK,YAAU;AAAA,EAAE;AAAC;AAAC,EAAE,CAACC,IAAE,EAAC,OAAMH,IAAE,MAAK,CAAC,CAAC,GAAEF,IAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAACK,IAAE,EAAC,OAAMJ,IAAE,MAAK,CAAC,CAAC,GAAED,IAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,WAAU,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,UAAS,MAAM;;;ACA3F,IAAMM,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,KAAEC,GAAC,GAAE,KAAK,iBAAe,IAAIC,OAAE,KAAK,2BAAyBF,IAAE,IAAEG,MAAEC,IAAE,KAAK,gBAAc,MAAG,KAAK,WAAS,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAgB,CAAAL,QAAGM,GAAEN,GAAC,CAAC,GAAE,CAACK,GAAE,sBAAqB,CAAAL,QAAGO,IAAEP,GAAC,CAAC,GAAE,CAACK,GAAE,sCAAqC,CAAAL,QAAGQ,GAAER,GAAC,CAAC,GAAE,CAACK,GAAE,iBAAgB,CAAAL,QAAG,KAAK,WAAW,UAAQS,GAAET,GAAC,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBA,KAAEU,KAAE;AAAC,WAAO,MAAM,iBAAiBV,KAAEU,KAAE,KAAK,cAAc,GAAE,KAAK,eAAe,WAAS,KAAK,WAAW,UAAS,KAAK,eAAe,kBAAgB,KAAK,WAAW,mBAAiB,CAAC,KAAK,WAAW,SAAQ,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,QAAM,KAAK,WAAW,OAAM,KAAK,eAAe,SAAO,KAAK,WAAW,QAAO,KAAK,eAAe,UAAQA,IAAE,SAAQ,KAAK,eAAe,eAAaA,IAAE,OAAO,oBAAkBC,IAAE,KAAK,eAAe,mBAAiBD,IAAE,oBAAkBH,IAAEP,GAAC,GAAE,KAAK,eAAe,mBAAiBU,IAAE,kBAAiB,KAAK,eAAe,UAAQ,CAAC,CAAC,KAAK,WAAW,SAAQ,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,WAAW,MAAM,CAAC,KAAGE;AAAA,EAAC;AAAA,EAAC,iBAAiBZ,KAAE;AAAC,WAAO,IAAIa,IAAEb,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMA,MAAEW,GAAE,EAAE,MAAMX,IAAE,QAAQ,EAAE,MAAMA,IAAE,UAAU;AAAE,WAAO,KAAK,WAAW,UAAQA,IAAE,MAAMA,IAAE,YAAY,GAAE,KAAK,WAAW,UAAQA,IAAE,IAAIA,IAAE,qBAAqB,IAAEA,IAAE,OAAOA,IAAE,KAAK,GAAEA,IAAE,KAAGA,IAAE,OAAOA,IAAE,SAAS,GAAE,IAAIG,IAAEH,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMa,MAAN,cAAgBb,IAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,WAAO,KAAK,aAAaQ,KAAER,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMG,MAAN,cAAgBW,GAAC;AAAA,EAAC,MAAMd,KAAEe,KAAET,KAAEM,KAAEI,KAAEd,KAAE;AAAC,UAAMY,MAAEG,GAAEX,KAAEM,KAAE,KAAK,oBAAmBZ,KAAEe,KAAEC,KAAEd,GAAC;AAAE,eAAUgB,OAAK,KAAK,mBAAmB,OAAO,KAAK,GAAE;AAAC,YAAMH,MAAET,IAAE,IAAIY,GAAC,GAAEN,MAAEG,KAAG;AAAQ,UAAGA,OAAGH,IAAE,SAAOM,KAAE;AAAA,QAAC,KAAKlB,IAAE,YAAW;AAAC,UAAAe,IAAE,MAAIA,IAAE,IAAI;AAAE,gBAAMf,MAAEgB,IAAE,SAASE,KAAE,CAAC;AAAE,UAAAlB,OAAGmB,IAAEJ,KAAEf,KAAEE,GAAC;AAAE;AAAA,QAAK;AAAA,QAAC,KAAKF,IAAE,cAAa;AAAC,UAAAe,IAAE,MAAIA,IAAE,IAAI;AAAE,gBAAMhB,MAAEiB,IAAE,SAASE,KAAEE,EAAC;AAAE,UAAArB,OAAGsB,GAAEN,KAAEf,KAAED,KAAEG,GAAC;AAAE;AAAA,QAAK;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOY;AAAA,EAAC;AAAC;AAAC,SAASO,GAAErB,KAAEU,KAAEX,KAAEgB,KAAE;AAAC,QAAK,EAAC,MAAKT,KAAE,SAAQM,IAAC,IAAEZ,KAAEgB,MAAEN,KAAER,MAAEH,IAAE,aAAYe,MAAEf,IAAE,mBAAkBmB,MAAEN,IAAE;AAAO,EAAAG,OAAGD;AAAE,WAAQQ,MAAE,GAAEA,MAAEJ,KAAE,EAAEI,KAAE;AAAC,UAAMtB,MAAE,IAAEY,IAAEU,GAAC,GAAEZ,MAAEJ,IAAEN,GAAC,GAAED,MAAEO,IAAEN,MAAE,CAAC,GAAEkB,MAAEZ,IAAEN,MAAE,CAAC;AAAE,IAAAE,IAAEa,GAAC,IAAEC,IAAE,CAAC,IAAEN,MAAEM,IAAE,CAAC,IAAEjB,MAAEiB,IAAE,CAAC,IAAEE,MAAEF,IAAE,EAAE,GAAEd,IAAEa,MAAE,CAAC,IAAEC,IAAE,CAAC,IAAEN,MAAEM,IAAE,CAAC,IAAEjB,MAAEiB,IAAE,CAAC,IAAEE,MAAEF,IAAE,EAAE,GAAEd,IAAEa,MAAE,CAAC,IAAEC,IAAE,CAAC,IAAEN,MAAEM,IAAE,CAAC,IAAEjB,MAAEiB,IAAE,EAAE,IAAEE,MAAEF,IAAE,EAAE;AAAE,aAAQJ,MAAE,GAAEA,MAAE,GAAE,EAAEA,IAAE,CAAAV,IAAEa,MAAEH,GAAC,IAAEN,IAAEN,MAAEY,GAAC;AAAE,IAAAG,OAAGD;AAAA,EAAC;AAAC;AAAC,IAAMb,MAAN,cAAgBS,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,QAAMX,GAAE,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,kBAAgB,OAAG,KAAK,gBAAc,OAAG,KAAK,gBAAc,OAAG,KAAK,WAASC,IAAE,MAAK,KAAK,eAAa,OAAG,KAAK,QAAMgB,IAAE,OAAM,KAAK,SAAO;AAAA,EAAE;AAAC;;;ACA3nG,SAASO,IAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAEF,KAAG;AAAQ,SAAO,QAAME,MAAE,IAAIC,GAAEF,GAAC,IAAE,WAASC,IAAE,SAAO,YAAUA,IAAE,SAAO,WAASA,IAAE,UAAQD,IAAE,QAAMA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,IAAE,uBAAqB,OAAI,IAAIE,GAAEF,GAAC,MAAIA,IAAE,QAAMG,IAAEF,IAAE,KAAK,GAAE,IAAIG,GAAEJ,GAAC;AAAE;AAAC,SAASG,IAAEE,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAa,aAAOJ,IAAE;AAAA,IAAW,KAAI;AAAW,aAAOA,IAAE;AAAA,IAAS,KAAI;AAAQ,aAAOA,IAAE;AAAA,IAAM,KAAI;AAAmB,aAAOA,IAAE;AAAA,IAAgB,KAAI;AAAoB,aAAOA,IAAE;AAAA,IAAiB,KAAI;AAAiB,aAAOA,IAAE;AAAA,IAAc;AAAQ;AAAA,EAAM;AAAC;AAAC,SAASK,IAAED,KAAE;AAAC,SAAOA,IAAE,oBAAoBD,MAAG,CAACC,IAAE,SAAS,WAAW;AAAM;AAAC,SAASE,IAAEF,KAAEN,KAAE;AAAC,MAAGO,IAAED,GAAC,GAAE;AAAC,UAAMG,MAAEH,IAAE,WAAW,IAAIN,IAAE,QAAQ,EAAE,MAAKU,MAAEJ,IAAE,oBAAoBN,IAAE,UAAU,EAAE,MAAKW,MAAEL,IAAE,oBAAoBN,IAAE,YAAY,EAAE;AAAK,IAAAY,GAAEF,KAAEC,KAAEF,KAAET,GAAC;AAAA,EAAC;AAAC;AAAC,SAASa,IAAEP,KAAEL,KAAEC,KAAEO,KAAEC,KAAE;AAAC,QAAMC,MAAEH,IAAEF,KAAEL,KAAEC,KAAEO,KAAEC,GAAC,GAAEX,MAAEO,IAAE,YAAY;AAAW,aAAUN,OAAKD,IAAE,CAAAS,IAAER,KAAEU,GAAC;AAAE,SAAOC;AAAC;;;ACAgvB,IAAMG,KAAE,CAAC,YAAW,WAAU,QAAQ;AAAE,IAAM,KAAN,MAAM,WAAUC,GAAC;AAAA,EAAwH,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,KAAEC,GAAEH,GAAC,CAAC,GAAE,KAAK,WAAS,OAAG,KAAK,aAAW,CAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,SAAK,eAAa,EAAE,KAAK,SAAS,UAAS,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,QAAG,KAAK,WAAW,SAAO,EAAE;AAAO,UAAMD,MAAE,KAAK,aAAa,UAAU,OAAME,MAAE,KAAK,4BAA4BF,GAAC;AAAE,SAAK,WAAWK,GAAE,IAAI,IAAEC,IAAE,KAAK,aAAY,EAAC,OAAMJ,KAAE,sBAAqB,KAAK,4BAA2B,2BAA0B,MAAG,eAAc,OAAG,iBAAgB,MAAG,QAAO,KAAK,QAAO,eAAc,KAAK,SAAS,mBAAkB,GAAG,KAAK,cAAc,mBAAkB,CAAC,GAAE,KAAK,WAAS,KAAK,WAAWG,GAAE,IAAI,aAAYE;AAAE,UAAMJ,MAAE,KAAK,YAAY;AAAQ,QAAGK,GAAEL,GAAC,GAAE;AAAC,YAAMH,MAAES,IAAEN,IAAE,OAAO;AAAE,WAAK,WAAWE,GAAE,OAAO,IAAE,IAAIK,GAAE,EAAC,OAAMC,GAAER,IAAE,IAAI,GAAE,OAAM,KAAK,iBAAiB,GAAE,kBAAiB,MAAG,eAAc,KAAK,SAAS,mBAAkB,UAAS,MAAG,gBAAeH,KAAE,KAAIS,IAAEN,IAAE,cAAY,MAAM,EAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBH,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASH,IAAE,KAAK,YAAY,IAAI,EAAE,QAAO;AAAK,UAAMI,MAAE,KAAK,0BAA0BF,IAAE,eAAc,KAAK,4BAA4B,GAAE,GAAG,GAAEG,MAAE,KAAK,2BAA2BF,GAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBE,IAAE,IAAI,GAAE,KAAK,iBAAiB,GAAE,KAAK,SAAO,KAAK,iBAAiBF,KAAEC,GAAC,IAAE,KAAK,iBAAiBD,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBH,KAAEC,KAAE;AAAC,eAAUC,OAAKF,IAAE,MAAK;AAAC,UAAG,sBAAoBE,IAAE,QAAOF,IAAE;AAAe,UAAG,CAAC,EAAE,KAAK,cAAaC,KAAE,KAAK,iBAAiB,EAAE,QAAOD,IAAE;AAAe,WAAK,WAAWK,GAAE,IAAI,GAAG,cAAc,KAAK,aAAa,kBAAkB;AAAA,IAAC;AAAC,WAAOL,IAAE;AAAA,EAAU;AAAA,EAAC,sBAAqB;AAAC,QAAG,QAAM,KAAK,WAAWK,GAAE,IAAI,GAAE;AAAC,YAAML,MAAE,KAAK,WAAWK,GAAE,IAAI,EAAE,WAAW,OAAMJ,MAAE,KAAK,aAAa,UAAU,OAAMC,MAAE,KAAK,oBAAoBD,GAAC;AAAE,WAAK,WAAWI,GAAE,IAAI,EAAE,cAAc,EAAC,OAAM,CAACL,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEE,GAAC,GAAE,sBAAqB,KAAK,2BAA0B,CAAC;AAAA,IAAC;AAAC,QAAG,QAAM,KAAK,WAAWG,GAAE,OAAO,GAAE;AAAC,YAAML,MAAE,KAAK,WAAWK,GAAE,OAAO,EAAE,WAAW;AAAM,WAAK,WAAWA,GAAE,OAAO,EAAE,cAAc,EAAC,OAAM,CAACL,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAE,KAAK,mBAAmB,CAAC,EAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkB,MAAKS,MAAEC,IAAE,GAAE,0BAAyBX,KAAEC,GAAC;AAAE,QAAGS,QAAIE,GAAE,OAAO,QAAOF;AAAE,UAAMH,MAAEM,GAAEZ,GAAC;AAAE,WAAO,KAAK,qCAAqCH,KAAEC,KAAG,MAAIQ,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,QAAG,KAAK,WAAWJ,GAAE,IAAI,GAAG,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE,KAAK,WAAWA,GAAE,OAAO,GAAE;AAAC,YAAML,MAAE,EAAC,eAAc,KAAK,SAAS,kBAAiB;AAAE,WAAK,WAAWK,GAAE,OAAO,EAAE,cAAcL,GAAC;AAAA,IAAC;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAEW,IAAEd,IAAE,QAAQ;AAAE,QAAG,CAACG,IAAE,QAAO;AAAK,UAAMS,MAAEI,IAAEb,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBD,GAAC,GAAEO,MAAE,IAAIQ,GAAEL,KAAEX,KAAE,KAAK,SAAS,cAAaD,IAAE,GAAG,GAAEM,MAAEG,IAAE,WAAW,SAAS,SAAO;AAAE,QAAG,KAAK,aAAWA,IAAE,aAAWA,IAAE,IAAEH,KAAE,IAAE,GAAEG,IAAE,eAAaR,GAAE,IAAEK,KAAE,IAAE,GAAEY,GAAET,IAAE,YAAWA,IAAE,cAAaA,IAAE,WAAW,UAAS,KAAK,SAAS,kBAAkB,IAAGA,IAAE,wBAAsB,KAAK,SAAS,MAAM,YAAY,yBAAyBA,GAAC,GAAE,KAAK,qBAAqBT,KAAES,GAAC,GAAE,KAAK,WAAWJ,GAAE,OAAO,KAAG,KAAK,wBAAwBI,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWN,IAAE,OAAM,SAAQ,mBAAmB,GAAE,MAAIM,IAAE,cAAc,OAAO,QAAO;AAAK,UAAMU,MAAE,IAAIC,GAAE,EAAC,YAAWX,IAAE,eAAc,YAAW,OAAG,cAAa,KAAK,SAAS,cAAa,YAAWT,IAAE,IAAG,CAAC,GAAEqB,MAAE,IAAIL,IAAE,MAAKG,KAAE,MAAKN,KAAEX,GAAC;AAAE,WAAOmB,IAAE,0BAAwBZ,IAAE,WAAW,kBAAiBY,IAAE,wBAAsBN,GAAEb,IAAE,IAAI,GAAEmB;AAAA,EAAC;AAAA,EAAC,qBAAqBrB,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,WAAW;AAAS,eAAS,EAAC,UAASE,KAAE,cAAaM,KAAE,aAAYU,KAAE,OAAME,KAAE,OAAMC,IAAC,KAAIpB,KAAE;AAAC,UAAG,QAAM,KAAK,SAAS,mBAAiBW,GAAEJ,KAAEc,EAAC,GAAE,CAAC,EAAEA,IAAE,KAAK,SAAS,cAAc,GAAG;AAAS,YAAMrB,MAAEmB,IAAEZ,KAAEU,KAAE,KAAK,SAAS,kBAAkB,gBAAgB;AAAE,UAAG,MAAIjB,IAAE,OAAO;AAAS,YAAMsB,MAAE,KAAK,cAAc,gBAAgB,OAAMT,MAAEF,IAAE,EAAC,UAAS,KAAK,WAAWR,GAAE,IAAI,GAAE,SAAQH,KAAE,cAAaO,KAAE,eAAc,EAAC,UAASN,KAAE,OAAMqB,MAAE,OAAKvB,IAAE,OAAM,cAAauB,MAAE,GAAEA,IAAE,OAAMxB,GAAC,IAAE,MAAK,YAAW,KAAK,WAASA,IAAEC,IAAE,YAAW,IAAEoB,KAAE,IAAEC,GAAC,IAAE,MAAK,cAAa,KAAK,WAASH,GAAElB,IAAE,cAAa,IAAEoB,KAAE,IAAEC,GAAC,IAAE,MAAK,uBAAsBrB,IAAE,sBAAqB,EAAC,CAAC;AAAE,MAAAA,IAAE,cAAc,KAAKc,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBf,KAAE;AAAC,QAAG,QAAM,KAAK,WAAWK,GAAE,OAAO,EAAE;AAAO,UAAMJ,MAAED,IAAE,WAAW;AAAS,eAAS,EAAC,cAAaE,KAAE,UAASC,IAAC,KAAIF,KAAE;AAAC,UAAG,QAAM,KAAK,SAAS,mBAAiBY,GAAEX,KAAEqB,EAAC,GAAE,CAAC,EAAEA,IAAE,KAAK,SAAS,cAAc,GAAG;AAAS,YAAMtB,MAAEa,GAAE,KAAK,WAAWT,GAAE,OAAO,GAAE,EAAC,aAAY,MAAK,yBAAwB,MAAG,cAAaH,KAAE,eAAc,EAAC,UAASC,IAAC,EAAC,GAAEH,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAKC,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAEC,KAAE;AAAC,UAAMC,MAAEY,IAAEd,IAAE,QAAQ;AAAE,QAAG,QAAME,IAAE,QAAO;AAAK,SAAK,WAAWG,GAAE,IAAI,EAAE,iBAAe,KAAK,kBAAgB,KAAK,sBAAoB,GAAE,QAAM,KAAK,WAAWA,GAAE,OAAO,MAAI,KAAK,WAAWA,GAAE,OAAO,EAAE,iBAAe,KAAK;AAAiB,UAAMF,MAAEmB,IAAEpB,KAAE,KAAK,SAAS,SAAS,GAAEU,MAAE,IAAIF,IAAEP,KAAEF,KAAE,KAAK,SAAS,cAAaD,IAAE,GAAG,GAAES,MAAEG,IAAE,WAAW,SAAS,SAAO;AAAE,WAAO,KAAK,aAAWA,IAAE,aAAWH,IAAE,IAAEA,KAAE,IAAE,GAAEgB,GAAEb,IAAE,YAAWA,IAAE,WAAW,UAAS,KAAK,SAAS,WAAU,KAAK,SAAS,kBAAkB,KAAK,MAAM,WAAW,IAAGA,IAAE,iBAAe,EAAE,GAAEA,IAAE,wBAAsB,KAAK,SAAS,MAAM,YAAY,yBAAyBA,GAAC,GAAE,KAAK,qBAAqBZ,KAAEY,GAAC,GAAE,KAAK,WAAWP,GAAE,OAAO,KAAG,KAAK,wBAAwBO,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWV,IAAE,OAAM,SAAQ,mBAAmB,GAAE,MAAIU,IAAE,cAAc,SAAO,OAAK,IAAIS,IAAE,MAAKT,IAAE,eAAcA,IAAE,gBAAe,KAAK,SAAS,mBAAmB;AAAA,EAAC;AAAA,EAAC,qBAAqBZ,KAAEC,KAAE;AAAC,UAAME,MAAEF,IAAE,WAAW;AAAS,eAAS,EAAC,UAASQ,KAAE,aAAYU,KAAE,OAAMG,KAAE,OAAMN,IAAC,KAAIb,KAAE;AAAC,YAAMA,MAAEU,GAAEJ,KAAEc,EAAC;AAAE,UAAG,CAAC,EAAEpB,KAAE,KAAK,SAAS,cAAc,EAAE;AAAS,YAAMqB,MAAExB,IAAES,KAAEU,KAAE,CAAC;AAAE,UAAG,MAAIK,IAAE,OAAO;AAAS,QAAEvB,IAAE,gBAAeE,GAAC;AAAE,YAAMY,MAAE,KAAK,cAAc,gBAAgB,OAAMF,MAAEA,IAAE,EAAC,UAAS,KAAK,WAAWR,GAAE,IAAI,GAAE,SAAQmB,KAAE,eAAc,EAAC,UAASf,KAAE,OAAMM,MAAE,OAAKd,IAAE,OAAM,cAAac,MAAE,GAAEA,IAAE,OAAMf,GAAC,IAAE,MAAK,YAAW,KAAK,WAASA,IAAEC,IAAE,YAAW,IAAEqB,KAAE,IAAEN,GAAC,IAAE,MAAK,uBAAsBf,IAAE,sBAAqB,EAAC,CAAC;AAAE,MAAAA,IAAE,cAAc,KAAK,IAAIyB,GAAEb,KAAEZ,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAE;AAAC,QAAG,QAAM,KAAK,WAAWK,GAAE,OAAO,EAAE;AAAO,UAAMJ,MAAED,IAAE,WAAW;AAAS,aAAQE,MAAE,GAAEA,MAAED,IAAE,QAAO,EAAEC,KAAE;AAAC,YAAK,EAAC,UAASC,IAAC,IAAEF,IAAEC,GAAC;AAAE,UAAGW,GAAEV,KAAEoB,EAAC,GAAE,CAAC,EAAEA,IAAE,KAAK,SAAS,cAAc,EAAE;AAAS,QAAEvB,IAAE,gBAAeuB,EAAC;AAAE,YAAMd,MAAEK,GAAE,KAAK,WAAWT,GAAE,OAAO,GAAE,EAAC,aAAY,EAAC,kBAAiB,KAAK,SAAS,WAAU,oBAAmB,KAAK,SAAS,mBAAkB,GAAE,yBAAwB,MAAG,eAAc,EAAC,UAASF,IAAC,EAAC,GAAEH,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAK,IAAI0B,GAAEjB,KAAET,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMA,MAAE,KAAK,aAAa,SAAS;AAAM,YAAO,KAAK,SAAO,IAAE,KAAK,iBAAiB,MAAI,QAAMA,MAAEA,IAAE,IAAE;AAAA,EAAE;AAAA,EAAC,mBAAkB;AAAC,UAAMC,MAAE,KAAK,aAAa,SAAS,OAAMC,MAAE,KAAK,mBAAmB;AAAE,WAAOyB,GAAE,QAAM1B,MAAEoB,GAAE,UAAUpB,GAAC,IAAE,MAAKC,GAAC;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,iBAAgB,CAACF,KAAEC,QAAI,KAAK,iBAAiBD,KAAEC,GAAC,GAAE,iBAAgB,CAACD,KAAEC,KAAEC,QAAI,KAAK,iBAAiBF,KAAEC,KAAEC,GAAC,EAAC;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMD,MAAE,KAAK,aAAa,UAAU;AAAM,WAAOoB,GAAE,WAAWpB,GAAC,KAAGkB;AAAA,EAAC;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,IAAId,GAAE,EAAC,UAAS,EAAC,MAAK,OAAG,OAAM,MAAG,UAAS,OAAG,SAAQ,MAAE,GAAE,eAAc,KAAK,4BAA4B,EAAC,CAAC;AAAA,EAAC;AAAC;AAAzkO,GAAK,2BAAyB,EAAC,gBAAeS,GAAE,UAAS,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ;AAAvI,IAAMc,KAAN;AAAmmO,IAAML,KAAEZ,GAAE;AAAE,IAAMM,KAAN,cAAgBS,IAAC;AAAA,EAAC,YAAY1B,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,QAAMF;AAAA,EAAC;AAAC;AAAC,IAAMS,MAAN,cAAgBgB,IAAC;AAAA,EAAC,YAAY1B,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,QAAMF;AAAA,EAAC;AAAC;AAAC,IAAII;AAAE,SAASG,GAAER,KAAE;AAAC,SAAO,QAAMA,KAAG,QAAMA,IAAE,OAAK,KAAG,QAAMA,IAAE,UAAQ,QAAMA,IAAE,WAAS,YAAUA,IAAE,QAAQ,QAAM,WAASA,IAAE,QAAQ;AAAM;AAAC,SAASI,GAAEJ,KAAE;AAAC,SAAO,OAAKA,IAAE,UAAU,OAAO,KAAG;AAAE;AAAC,CAAC,SAASA,KAAE;AAAC,EAAAA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,UAAQ,CAAC,IAAE;AAAS,EAAEK,OAAIA,KAAE,CAAC,EAAE;;;ACAv3S,IAAMwB,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,MAAE,UAASC,MAAE,OAAGC,MAAEC,GAAE,GAAEC,MAAEJ,GAAE,GAAE,GAAE,GAAE,EAAE,GAAEK,MAAE,SAAQC,MAAEH,GAAE,GAAEA,MAAE,GAAE;AAAC,SAAK,iBAAeJ,KAAE,KAAK,SAAOC,KAAE,KAAK,yBAAuBC,KAAE,KAAK,eAAaC,KAAE,KAAK,eAAaE,KAAE,KAAK,oBAAkBC,KAAE,KAAK,cAAYC,KAAE,KAAK,kBAAgBH;AAAA,EAAC;AAAC;AAAC,IAAMH,MAAN,MAAO;AAAA,EAAC,YAAYO,KAAEC,MAAE,UAAST,MAAE,UAASC,MAAE,MAAKC,MAAEE,GAAE,GAAED,MAAE,MAAG;AAAC,SAAK,YAAUK,KAAE,KAAK,sBAAoBC,KAAE,KAAK,oBAAkBT,KAAE,KAAK,OAAKC,KAAE,KAAK,cAAYC,KAAE,KAAK,YAAUC;AAAA,EAAC;AAAC;;;ACAjY,IAAMO,MAAN,MAAM,GAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,aAAWA,KAAE,KAAK,MAAI,KAAK,UAAUA,GAAC,GAAE,KAAK,WAAS,KAAK,MAAMA,IAAE,KAAK,IAAI,GAAE,KAAK,YAAUC,IAAED,IAAE,KAAK,GAAE,KAAK,YAAUE,IAAEF,IAAE,KAAK,KAAK,GAAE,KAAK,kBAAgB,MAAIA,IAAE,WAAW,MAAM,CAAC,IAAEC,IAAED,IAAE,WAAW,KAAK,IAAE;AAAA,EAAI;AAAA,EAAC,WAAWA,KAAE;AAAC,UAAMG,MAAE,KAAK,WAAW,MAAKC,MAAE;AAAmF,WAAM,GAAGD,IAAE,KAAK,IAAIA,IAAE,MAAM,IAAIH,GAAC,MAAMG,IAAE,MAAM,KAAKC,GAAC;AAAA,EAAE;AAAA,EAAC,kBAAkBJ,KAAEG,KAAE;AAAC,IAAAH,IAAE,OAAK,KAAK,WAAWG,GAAC,GAAEH,IAAE,YAAU,QAAOA,IAAE,eAAa;AAAA,EAAY;AAAA,EAAC,aAAa,WAAWE,KAAED,KAAE;AAAC,UAAMI,MAAEH,KAAG,UAAU,OAAMI,MAAEJ,GAAE,WAAWG,GAAC,KAAGJ,KAAEM,MAAE,QAAML,IAAE,OAAKM,GAAEN,IAAE,IAAI,IAAE,IAAGM,MAAEN,IAAE,YAAWO,MAAE,QAAMP,IAAE,aAAWA,GAAE,WAAWA,IAAE,WAAW,KAAK,IAAED,KAAES,MAAE,EAAC,QAAOR,IAAE,MAAM,UAAQ,cAAa,YAAWA,IAAE,MAAM,cAAY,QAAO,QAAOA,IAAE,MAAM,UAAQ,UAAS,OAAMA,IAAE,MAAM,SAAO,SAAQ,GAAES,MAAET,IAAE,MAAKU,MAAE,QAAMD,KAAG,SAAOA,IAAE,OAAK,IAAE,EAAC,MAAKH,GAAEG,IAAE,IAAI,GAAE,OAAMT,GAAE,WAAWS,IAAE,KAAK,EAAC,IAAE,EAAC,MAAK,GAAE,OAAMV,IAAC,GAAEY,MAAE,IAAI,GAAE,EAAC,OAAMP,KAAE,MAAKC,KAAE,YAAW,EAAC,OAAME,KAAE,SAAQ,QAAMP,IAAE,aAAW,CAAC,OAAIK,KAAE,MAAGA,GAAC,IAAE,CAAC,GAAE,CAAC,GAAE,cAAa,QAAML,IAAE,aAAWK,OAAG,IAAE,MAAI,EAAC,GAAE,mBAAkBC,KAAE,MAAKE,KAAE,MAAKE,KAAE,YAAWX,IAAC,CAAC;AAAE,QAAGC,IAAE,MAAK;AAAC,UAAIF,MAAE;AAAG,YAAMc,MAAED,IAAE,WAAWN,GAAC;AAAE,UAAG;AAAC,QAAAP,OAAG,MAAM,SAAS,MAAM,KAAKc,GAAC,GAAG,KAAM,CAAAd,QAAG,CAACe,IAAEf,GAAC,CAAE;AAAA,MAAC,SAAOgB,KAAE;AAAC,UAAE,UAAU,qDAAqD,EAAE,SAAS,2BAA2BF,GAAC,wEAAwE;AAAA,MAAC;AAAC,UAAG,CAACd,OAAG,CAACiB,IAAE,IAAIf,IAAE,KAAK,MAAM,EAAE,KAAG;AAAC,cAAMe,GAAEf,IAAE,IAAI;AAAA,MAAC,SAAOc,KAAE;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOH;AAAA,EAAC;AAAC;AAAC,SAASX,IAAEF,KAAE;AAAC,SAAM,OAAOA,IAAE,MAAM,GAAE,CAAC,EAAE,IAAK,CAAAA,QAAG,KAAK,MAAM,MAAIA,GAAC,CAAE,EAAE,SAAS,CAAC;AAAG;AAAC,SAASC,IAAED,KAAE;AAAC,SAAM,QAAQA,IAAE,MAAM,GAAE,CAAC,EAAE,IAAK,CAAAA,QAAG,KAAK,MAAM,MAAIA,GAAC,CAAE,EAAE,SAAS,CAAC,IAAIA,IAAE,CAAC,CAAC;AAAG;AAAC,IAAMiB,MAAE,oBAAI,IAAI,CAAC,SAAQ,mBAAkB,eAAc,SAAQ,cAAa,aAAY,WAAU,WAAU,aAAY,YAAW,iBAAgB,gBAAe,cAAa,QAAO,SAAQ,UAAU,CAAC;;;ACA5/B,IAAMC,MAAE;AAAK,IAAIC,KAAE,cAAc,EAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,GAAC,GAAE,KAAK,KAAGA,GAAE,GAAE,KAAK,SAAO,IAAIC,MAAE,KAAK,aAAW,MAAK,KAAK,SAAO,IAAIC,IAAE,KAAI,GAAG,GAAE,KAAK,eAAa,OAAG,KAAK,aAAW,MAAG,KAAK,oBAAkB,oBAAI,OAAI,KAAK,YAAU,oBAAI,OAAI,KAAK,eAAa,oBAAI,OAAI,KAAK,WAAS;AAAA,EAAE;AAAA,EAAC,aAAY;AAAC,SAAK,UAAQ,SAAS,cAAc,QAAQ,GAAE,KAAK,QAAQ,aAAa,MAAK,iBAAiB,GAAE,KAAK,QAAQ,aAAa,SAAQ,cAAc,GAAE,KAAK,OAAK,KAAK,QAAQ,WAAW,IAAI,GAAE,KAAK,SAAO,KAAK,KAAK,OAAM,KAAK,OAAO,WAAW,IAAI,GAAE,KAAK,yBAAyB,KAAK,MAAM,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,SAAK,aAAWC,GAAE,KAAK,UAAU,GAAE,KAAK,eAAaC,GAAE,KAAK,YAAY,GAAE,KAAK,WAAS,OAAG,KAAK,OAAO,KAAK,UAAU;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,QAAM,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,WAAW,UAAS;AAAC,WAAOC,MAAEC,IAAE,kBAAgBC,MAAE,GAAE,CAACT,MAAES,MAAEF,KAAEP,MAAES,MAAEF,MAAEG,EAAC;AAAA,EAAC;AAAA,EAAC,KAAKR,KAAE;AAAC,QAAG,KAAK,WAAW,QAAO,KAAK;AAAW,UAAMS,MAAE,IAAIC;AAAE,WAAOD,IAAE,WAASE,GAAE,eAAcF,IAAE,eAAaG,GAAE,sBAAqBH,IAAE,YAAU,MAAGA,IAAE,mBAAiB,MAAGA,IAAE,gBAAcT,IAAE,WAAW,kBAAiB,KAAK,aAAW,IAAIa,GAAEb,KAAES,KAAE,KAAK,OAAO,GAAE,KAAK,eAAa,KAAK,KAAK,mBAAmB,UAAU,aAAaK,GAAE,oBAAmB,IAAI,GAAE,KAAK,SAAS,GAAE,KAAK;AAAA,EAAU;AAAA,EAAC,UAAS;AAAC,SAAK,UAAU,MAAM,GAAE,KAAK,kBAAkB,MAAM,GAAE,KAAK,eAAaV,GAAE,KAAK,YAAY,GAAE,KAAK,eAAa,KAAK,OAAO,cAAc,IAAI,GAAE,KAAK,aAAWD,GAAE,KAAK,UAAU,IAAG,KAAK,QAAQ,QAAM,GAAE,KAAK,QAAQ,SAAO,GAAE,KAAK,UAAQ,MAAK,KAAK,OAAK;AAAA,EAAI;AAAA,EAAC,yBAAyBH,KAAE;AAAC,SAAK,QAAQ,QAAMA,IAAE,OAAM,KAAK,QAAQ,SAAOA,IAAE;AAAA,EAAM;AAAA,EAAC,aAAaA,KAAES,KAAE;AAAC,UAAK,EAAC,OAAMM,KAAE,QAAOC,IAAC,IAAE,KAAK;AAAO,IAAAD,QAAIf,OAAGgB,QAAIP,QAAI,KAAK,OAAO,QAAMT,KAAE,KAAK,OAAO,SAAOS,KAAE,KAAK,YAAY,OAAOT,KAAES,GAAC,GAAE,KAAK,YAAY,WAAW,GAAE,GAAE,GAAEM,KAAEC,KAAE,KAAK,OAAO,GAAE,KAAK,yBAAyB,KAAK,MAAM,GAAE,KAAK,UAAU,QAAS,CAAAhB,QAAG,KAAK,aAAa,IAAIA,IAAE,aAAa,GAAG,GAAG,QAAS,CAAAS,QAAGA,IAAET,IAAE,EAAE,CAAE,CAAE,GAAE,KAAK,OAAO;AAAA,EAAE;AAAA,EAAC,SAAQ;AAAC,SAAK,kBAAkB,MAAM,GAAE,KAAK,OAAO,MAAM,GAAE,KAAK,eAAa,MAAG,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,iBAAiBA,KAAES,KAAEM,KAAEC,KAAE;AAAC,UAAMb,MAAE,KAAK;AAAO,QAAGA,IAAE,QAAMY,OAAGZ,IAAE,SAAOa,IAAE,QAAM;AAAG,QAAIV,MAAEH,IAAE,QAAQ,IAAIa,GAAC;AAAE,QAAG,CAACV,KAAE;AAAC,UAAGH,IAAE,SAAOA,IAAE,QAAMa,IAAE,QAAM;AAAG,MAAAV,MAAE,CAAC,IAAIW,IAAEd,IAAE,KAAK,CAAC,GAAEA,IAAE,QAAQ,IAAIa,KAAEV,GAAC,GAAEH,IAAE,SAAOa;AAAA,IAAC;AAAC,QAAIE,MAAEZ,IAAE,KAAM,CAAAN,QAAGG,IAAE,SAAOH,IAAE,IAAEe,GAAE;AAAE,QAAG,QAAMG,KAAE;AAAC,UAAGf,IAAE,SAAOA,IAAE,QAAMa,IAAE,QAAM;AAAG,MAAAE,MAAE,IAAID,IAAEd,IAAE,KAAK,GAAEA,IAAE,SAAOa,KAAEV,IAAE,KAAKY,GAAC;AAAA,IAAC;AAAC,WAAOlB,IAAE,eAAekB,GAAC,GAAE,KAAK,UAAU,IAAIT,KAAET,GAAC,GAAE,KAAK,kBAAkB,IAAIS,KAAET,GAAC,GAAEkB,IAAE,KAAGH,KAAE;AAAA,EAAE;AAAA,EAAC,iBAAiBf,KAAE;AAAC,UAAMS,MAAE,KAAK,aAAa,IAAIT,GAAC;AAAE,QAAGS,IAAE,QAAOA;AAAE,UAAMM,MAAE,oBAAI;AAAI,WAAO,KAAK,aAAa,IAAIf,KAAEe,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,aAAaf,KAAES,KAAE;AAAC,SAAK,iBAAiBT,GAAC,EAAE,IAAIS,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBT,KAAES,KAAE;AAAC,UAAMM,MAAE,KAAK,aAAa,IAAIf,GAAC;AAAE,WAAM,EAAE,CAACe,KAAG,OAAON,GAAC,KAAG,MAAIM,IAAE,UAAQ,KAAK,aAAa,OAAOf,GAAC,GAAE;AAAA,EAAG;AAAA,EAAC,iBAAiBA,KAAE;AAAC,UAAMS,MAAET,IAAE,aAAa;AAAI,QAAG,KAAK,aAAa,QAAO,KAAK,KAAK,UAAU,IAAIS,KAAET,GAAC;AAAE,UAAMe,MAAE,KAAK,QAAOC,MAAEhB,IAAE,aAAa,eAAcG,MAAEH,IAAE,aAAa,gBAAeM,MAAEU,MAAET,KAAEW,MAAEf,MAAEI,MAAEC;AAAE,QAAG,CAAC,KAAK,iBAAiBR,KAAES,KAAEH,KAAEY,GAAC,GAAE;AAAC,UAAG,KAAK,WAAW,MAAK,OAAO;AAAA,eAAUH,IAAE,QAAMT,KAAE;AAAC,cAAMN,MAAEG,IAAE,KAAK,IAAIG,KAAE,MAAIS,IAAE,KAAK,GAAEjB,GAAC;AAAE,aAAK,aAAaE,KAAEe,IAAE,MAAM;AAAA,MAAC,OAAK;AAAC,cAAMf,MAAEe,IAAE,QAAMG,KAAET,MAAEN,IAAE,KAAK,IAAIH,KAAE,MAAIe,IAAE,MAAM,GAAEjB,GAAC;AAAE,YAAGW,MAAEM,IAAE,OAAO,MAAK,aAAaA,IAAE,OAAMN,GAAC;AAAA,iBAAUM,IAAE,QAAMjB,KAAE;AAAC,gBAAME,MAAEG,IAAE,MAAIY,IAAE,OAAMjB,GAAC;AAAE,eAAK,aAAaE,KAAEe,IAAE,MAAM;AAAA,QAAC;AAAA,MAAC;AAAC,WAAK,UAAU,IAAIN,KAAET,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,UAAMS,MAAET,IAAE,kBAAkB,GAAEe,MAAEf,IAAE;AAAa,SAAK,KAAK,UAAUS,IAAE,CAAC,IAAEF,KAAEE,IAAE,CAAC,IAAEF,KAAEQ,IAAE,gBAAc,IAAER,KAAEQ,IAAE,iBAAe,IAAER,GAAC,GAAEQ,IAAE,OAAO,KAAK,MAAKN,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAE,KAAK,aAAa,IAAIM,IAAE,GAAG,GAAG,QAAS,CAAAN,QAAGA,IAAET,IAAE,EAAE,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,QAAQA,KAAE;AAAC,QAAG,QAAM,KAAK,WAAW,QAAOC;AAAE,WAAK,KAAK,iBAAe,KAAK,cAAY,KAAK,OAAO,SAAOH,OAAG,KAAK,OAAO,SAAOA,QAAI;AAAC,WAAK,aAAW,KAAK,eAAa;AAAG,YAAMW,MAAE,KAAK;AAAU,WAAK,YAAU,oBAAI,OAAIA,IAAE,QAAS,CAAAT,QAAG,KAAK,iBAAiBA,GAAC,CAAE,GAAEA,IAAE,aAAa;AAAA,IAAC;AAAC,QAAG,KAAK,kBAAkB,OAAK,GAAE;AAAC,iBAAS,CAACS,KAAEM,GAAC,KAAI,KAAK,mBAAkB;AAAC,YAAGf,IAAE,KAAK;AAAM,aAAK,eAAee,GAAC,GAAE,KAAK,kBAAkB,OAAON,GAAC,GAAET,IAAE,aAAa;AAAA,MAAC;AAAC,WAAK,WAAW,QAAQ,KAAK,OAAO;AAAA,IAAC;AAAC,SAAK,WAAS,KAAK,kBAAkB,OAAK;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAES,KAAE;AAAC,UAAMM,MAAEf,IAAE;AAAI,SAAK,aAAae,KAAEN,GAAC;AAAE,QAAIO,MAAE,KAAK,UAAU,IAAID,GAAC;AAAE,WAAOC,MAAE,EAAEA,IAAE,IAAGN,GAAC,KAAGD,IAAEO,IAAE,EAAE,KAAGA,MAAE,IAAIG,IAAEnB,GAAC,GAAE,KAAK,iBAAiBgB,GAAC,GAAE,KAAK,SAAS,IAAG,EAAC,QAAO,MAAI,KAAK,YAAYhB,KAAES,GAAC,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYT,KAAES,KAAE;AAAC,UAAMM,MAAEf,IAAE;AAAI,SAAK,UAAU,IAAIe,GAAC,KAAG,KAAK,gBAAgBA,KAAEN,GAAC,MAAI,KAAK,UAAU,OAAOM,GAAC,GAAE,KAAK,kBAAkB,OAAOA,GAAC,GAAE,KAAK,aAAW;AAAA,EAAG;AAAA,EAAC,WAAU;AAAC,SAAK,eAAa,KAAK,WAAS;AAAA,EAAG;AAAA,EAAC,IAAI,OAAM;AAAA,EAAC;AAAC;AAAE,EAAE,CAACK,GAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAErB,GAAE,WAAU,QAAO,MAAM,GAAE,EAAE,CAACqB,GAAE,EAAC,MAAK,QAAO,CAAC,CAAC,GAAErB,GAAE,WAAU,YAAW,MAAM,GAAEA,KAAE,EAAE,CAACW,GAAE,iDAAiD,CAAC,GAAEX,EAAC;AAAE,IAAMQ,MAAE;AAAR,IAAUC,KAAE;AAAE,IAAMW,MAAN,MAAO;AAAA,EAAC,YAAYnB,KAAE;AAAC,SAAK,eAAaA,KAAE,KAAK,MAAIM,GAAE,GAAE,KAAK,eAAa,CAAC,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,KAAI;AAAC,QAAG,QAAM,KAAK,YAAU,QAAM,KAAK,SAAS,QAAOI;AAAE,UAAK,EAAC,eAAcV,KAAE,gBAAeS,IAAC,IAAE,KAAK;AAAa,WAAOM,GAAE,KAAK,KAAI,KAAK,UAAS,KAAK,WAASN,KAAE,KAAK,WAAST,KAAE,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,SAAK,aAAa,CAAC,IAAEA,IAAE,GAAE,KAAK,aAAa,CAAC,IAAEA,IAAE;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,WAAO,KAAK,WAAS,KAAK,aAAa,CAAC,GAAE,KAAK,WAAS,KAAK,aAAa,CAAC,GAAE,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAC;AAAC,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYF,KAAES,KAAE;AAAC,SAAK,QAAMT,KAAE,KAAK,SAAOS,KAAE,KAAK,UAAQ,oBAAI,OAAI,KAAK,QAAM;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,QAAQ,MAAM,GAAE,KAAK,QAAMJ;AAAA,EAAC;AAAC;AAAC,IAAMY,MAAN,MAAO;AAAA,EAAC,YAAYjB,KAAE;AAAC,SAAK,IAAEA,KAAE,KAAK,IAAEK;AAAA,EAAC;AAAC;AAAC,IAAIA,MAAE;;;ACAllM,IAAMgB,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAE;AAAC,SAAK,YAAU,IAAIC,IAAEH,KAAEC,KAAEC,KAAEE,GAAE,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,MAAK;AAAC,WAAO,KAAK,UAAU;AAAA,EAAG;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,IAAE,KAAK,UAAU,gCAA8B,KAAK,UAAU;AAAA,EAAc;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,UAAU;AAAA,EAAY;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,UAAU;AAAA,EAAa;AAAA,EAAC,SAAQ;AAAC,UAAMD,MAAEE,IAAEC,KAAE,KAAK,UAAU,eAAc,KAAK,UAAU,cAAc,GAAEC,MAAEJ,IAAE,WAAW,IAAI;AAAE,WAAOI,IAAE,KAAK,GAAE,KAAK,UAAU,OAAOA,KAAE,GAAE,CAAC,GAAEA,IAAE,QAAQ,GAAE,IAAIC,GAAEL,KAAE,EAAC,MAAK,EAAC,GAAEM,GAAE,eAAc,GAAEA,GAAE,cAAa,GAAE,cAAa,OAAG,QAAO,MAAG,kBAAiB,KAAE,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMH,MAAE,EAAC,QAAO,KAAI;;;ACA4sC,IAAMI,KAAEC,GAAE,GAAE,GAAE,CAAC;AAAE,IAAMC,KAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYF,KAAEG,KAAEC,KAAEC,KAAE;AAAC,UAAML,KAAEG,KAAEC,KAAEC,GAAC,GAAE,KAAK,oBAAkB,EAAC,0BAAyB,MAAG,qBAAoB,MAAE,GAAE,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,QAAG,CAAC,KAAK,kBAAkB,MAAK;AAAC,YAAMF,MAAEG,GAAE,KAAK,YAAY,IAAI;AAAE,UAAGH,IAAE,OAAM,IAAI,EAAE,0CAAyCA,GAAC;AAAA,IAAC;AAAC,UAAM,KAAK,4BAA4B;AAAA,EAAC;AAAA,EAAC,MAAM,8BAA6B;AAAC,UAAMH,MAAE,KAAK,SAAS,kBAAkB,KAAK,MAAM;AAAiB,SAAK,wBAAsB,MAAMI,IAAE,WAAW,KAAK,aAAYJ,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMG,MAAEH,IAAE,SAAQI,MAAEG,IAAEJ,IAAE,QAAQ;AAAE,QAAG,QAAMC,IAAE,QAAO,KAAK,OAAO,KAAK,8CAA8CD,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAME,MAAE,KAAK,KAAK,gBAAgB,iBAAiBD,GAAC,KAAG,MAAGI,MAAE,KAAK,YAAY;AAAK,QAAG,QAAMA,OAAG,OAAKA,IAAE,QAAO;AAAK,UAAMC,MAAED,GAAE,KAAK,MAAM,KAAG,KAAK,OAAO,yBAAyB,IAAE,KAAK,OAAO,iBAAe;AAAK,QAAG,QAAMC,OAAG,CAACC,GAAE,KAAK,WAAW,EAAE,QAAO,KAAK,OAAO,iBAAiB,2HAA2H,KAAK,YAAY,mBAAmB,cAAc,GAAE;AAAK,UAAK,EAAC,mBAAkBC,IAAC,IAAE,KAAK,aAAYC,MAAE,IAAID,IAAEF,GAAC;AAAE,IAAAI,IAAEF,KAAEC,IAAE,YAAY;AAAE,UAAMF,MAAE,IAAIL,IAAEO,KAAE,KAAK,YAAY,qBAAoBE,IAAEH,GAAC,CAAC;AAAE,WAAOD,IAAE,YAAUL,OAAGK,IAAE,WAAU,KAAK,iBAAiBP,KAAEC,KAAEI,KAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYV,KAAEG,KAAE;AAAC,IAAAA,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAMC,MAAEG,IAAEJ,IAAE,QAAQ,QAAQ;AAAE,UAAG,QAAMC,IAAE,QAAO,KAAK,KAAK,OAAO,KAAK,8CAA8CD,IAAE,QAAQ,SAAS,IAAI,EAAE;AAAE,YAAME,MAAE,KAAK,KAAK,gBAAgB,iBAAiBD,GAAC,KAAG;AAAG,MAAAD,IAAE,OAAO,QAAS,CAAAC,QAAG;AAAC,YAAGA,KAAG,0BAAwB,QAAMA,IAAE,aAAY;AAAC,UAAAA,IAAE,YAAY,WAAW,KAAM,CAAAJ,QAAGA,IAAE,SAAS,WAAW,cAAYK,GAAE,KAAGL,IAAEG,GAAC;AAAA,QAAC;AAAA,MAAC,CAAE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,YAAYH,KAAEG,KAAEC,KAAEC,KAAEG,KAAE;AAAC,UAAMC,MAAET,IAAE,SAAQW,MAAEJ,IAAEE,IAAE,QAAQ;AAAE,QAAG,QAAME,IAAE,QAAO,KAAK,OAAO,KAAK,wCAAwCF,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAMG,MAAE,KAAK,KAAK,gBAAgB,iBAAiBD,GAAC,KAAG,MAAGD,MAAEP,IAAE;AAAK,WAAM,CAACO,OAAG,QAAQ,KAAKA,GAAC,IAAE,QAAMP,IAAE,YAAUS,OAAGT,IAAE,WAAU,KAAK,iBAAiBM,KAAEE,KAAED,KAAEP,KAAEC,KAAEC,KAAEG,GAAC;AAAA,EAAE;AAAA,EAAC,2BAA2BR,KAAEG,MAAE,IAAIK,OAAEJ,MAAE,GAAE;AAAC,WAAO,MAAM,2BAA2BJ,KAAEG,GAAC,GAAEA,IAAE,qBAAqBC,GAAC,GAAED;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,WAAO,KAAK,OAAO,KAAK,uEAAuE,GAAE;AAAA,EAAE;AAAA,EAAC,0BAA0BH,KAAEG,KAAE;AAAC,WAAOY,GAAEf,KAAEG,KAAG,CAACH,KAAEG,QAAI;AAAC,WAAK,8BAA8BA,KAAEH,GAAC;AAAA,IAAC,CAAE,GAAEgB,GAAE;AAAA,EAAM;AAAA,EAAC,yBAAyBhB,KAAEG,KAAE;AAAC,WAAOY,GAAEf,KAAEG,KAAG,CAAAH,QAAG;AAAC,iBAAUG,OAAKH,IAAE,YAAY,WAAW,CAAAG,IAAE,SAAS,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAA,IAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,8BAA8BH,KAAEG,KAAE;AAAC,UAAK,EAAC,kBAAiBC,KAAE,UAASC,IAAC,IAAEF;AAAE,SAAK,2BAA2BH,KAAEI,KAAEC,KAAG,mBAAiB,CAAC,GAAEF,IAAE,wBAAsBc,GAAEb,IAAE,IAAI,KAAG,sBAAoBA,IAAE;AAAA,EAAI;AAAA,EAAC,eAAeJ,KAAEG,KAAE;AAAC,QAAG,KAAK,UAAQ,CAAC,KAAK,kBAAkBA,GAAC,EAAE,QAAM;AAAG,UAAK,EAAC,kBAAiBC,KAAE,aAAYC,IAAC,IAAEL;AAAE,QAAGI,IAAE,SAAO,KAAK,yBAAyBD,GAAC,EAAE,QAAM;AAAG,UAAMK,MAAED,IAAEJ,GAAC;AAAE,QAAG,CAACK,IAAE,QAAM;AAAG,UAAMC,MAAES,IAAEb,KAAE,KAAK,UAASG,KAAEJ,GAAC;AAAE,QAAG,QAAMK,IAAE,QAAM;AAAG,UAAME,MAAEM,GAAE,KAAK,UAAST,GAAC;AAAE,WAAOH,IAAE,WAAW,CAAC,EAAE,gBAAcM,QAAIX,IAAE,0BAAwBS,KAAEU,IAAEnB,KAAEQ,KAAE,KAAK,SAAS,iBAAiB,GAAE;AAAA,EAAG;AAAA,EAAC,2BAA0B;AAAC,WAAOF;AAAA,EAAC;AAAA,EAAC,iBAAiBN,KAAEY,KAAEQ,KAAED,KAAEN,KAAEQ,KAAE,MAAKC,KAAE,MAAIH,IAAE,UAAU,iBAAgB;AAAC,UAAMH,MAAE,KAAK,2BAA2BhB,KAAE,IAAIQ,OAAEW,IAAE,UAAU,eAAe,GAAEI,KAAE,eAAavB,IAAE,UAAU,MAAKwB,MAAExB,IAAE;AAAI,QAAIyB,MAAE,MAAKC,MAAE;AAAK,QAAG,QAAML,IAAE;AAAC,YAAMrB,MAAEO,GAAEY,IAAE,mBAAmB;AAAE,MAAAM,MAAE,IAAId,IAAES,KAAEpB,KAAE,KAAK,qBAAqB;AAAE,UAAIK,MAAE;AAAK,UAAG,QAAM,KAAK,SAAS,gBAAgB,UAAS;AAAC,QAAAqB,MAAE,KAAK,SAAS,gBAAgB,SAAS,SAASD,IAAE,KAAK,MAAIA,IAAE,OAAO,CAAE,GAAEC,IAAE,QAAQ,OAAO,GAAG,YAAY,MAAIrB,MAAE,EAAEA,GAAC,CAAE;AAAE,cAAML,MAAE,KAAK,SAAS,MAAM,WAAW,SAAS,QAAQ0B,IAAE,QAAQ,EAAE;AAAE,YAAG,QAAM1B,OAAG,EAAEA,GAAC,EAAE,QAAO0B,IAAE,QAAQ,GAAE;AAAK,QAAArB,MAAEL;AAAA,MAAC;AAAA,IAAC;AAAC,UAAM2B,MAAE,CAAC,CAAC,IAAI,iCAAiC,GAAEC,MAAEC,GAAEJ,KAAEN,GAAC,GAAEW,MAAE,EAAC,eAAc,CAACH,KAAE,sBAAqBA,KAAE,uBAAsBA,OAAG,KAAK,SAAS,WAAU,cAAaR,IAAE,UAAU,cAAa,gBAAeS,KAAE,eAAc,MAAG,OAAM,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,mBAAkBT,IAAE,UAAU,mBAAkB,cAAa,OAAG,aAAY,MAAG,SAAQ,MAAG,WAAUA,IAAE,UAAS;AAAE,QAAGI,OAAIO,IAAE,sBAAoB,OAAMT,KAAES,IAAE,YAAUT,GAAE,KAAGK,QAAII,IAAE,YAAUJ,IAAE,QAAQ,KAAI,QAAMP,IAAE,UAAU,gBAAe;AAAC,YAAK,EAAC,cAAanB,KAAE,gBAAeG,KAAE,gBAAeC,IAAC,IAAEe,IAAE,UAAU;AAAe,MAAAW,IAAE,iBAAe,EAAC,cAAahB,GAAEd,GAAC,GAAE,gBAAeG,OAAG,GAAE,gBAAe,QAAMC,MAAEA,MAAE,IAAE,EAAC;AAAA,IAAC;AAAC,UAAM2B,KAAE,KAAK,SAAS,kBAAkB,KAAK,gBAAgB,SAAS,QAAOC,MAAE,EAAC,cAAaF,IAAE,cAAa,gBAAeF,KAAE,mBAAkBE,IAAE,mBAAkB,gBAAeA,IAAE,gBAAe,qBAAoBA,IAAE,qBAAoB,eAAcA,IAAE,eAAc,WAAUX,IAAE,WAAU,YAAW,KAAK,KAAK,KAAK,WAAW,SAAO,OAAM;AAAE,QAAG,KAAK,SAAS,8BAA6B;AAAC,YAAK,EAAC,+BAA8BnB,KAAE,qCAAoCG,IAAC,IAAE,KAAK,SAAS,iBAAgBC,MAAEJ,IAAE,KAAK,qBAAqB;AAAE,MAAA8B,IAAE,wBAAsB3B,IAAE,mBAAmBC,IAAE,SAAS,GAAE0B,IAAE,iCAA+B9B,KAAEgC,IAAE,aAAW5B,IAAE;AAAA,IAAS;AAAC,IAAA0B,IAAE,gBAAc,KAAK,SAAS;AAAkB,UAAMG,KAAE,KAAK,SAAS,WAAUhC,KAAEY,MAAE,KAAK,UAAUmB,GAAC,IAAE;AAAG,QAAIjB,KAAEF,KAAG,IAAIZ,EAAC;AAAE,QAAG,QAAMc,IAAE;AAAC,UAAG,CAACI,IAAE,aAAWY,IAAE;AAAC,cAAM/B,MAAE,KAAK,KAAK,KAAK,WAAW;AAAM,QAAA8B,IAAE,QAAMV,IAAEU,IAAE,OAAM9B,GAAC,GAAE8B,IAAE,eAAaV,IAAEU,IAAE,cAAa9B,GAAC;AAAA,MAAC;AAAC,MAAAe,KAAE,IAAI,GAAEe,KAAEG,EAAC,GAAEpB,KAAG,IAAIZ,IAAEc,EAAC;AAAA,IAAC;AAAC,UAAMT,MAAEa,IAAE,UAAU,aAAYe,KAAET,MAAEpB,GAAEoB,IAAE,cAAaA,IAAE,aAAa,IAAEf,IAAEyB,MAAEhB,IAAE,UAAU,cAAaiB,KAAErC,IAAEsC,MAAEhB,KAAEhB,GAAE,GAAE,GAAE,GAAE,CAAC,IAAE,MAAKiC,KAAE,GAAEvB,IAAE,EAAC,QAAOqB,IAAE,UAAS9B,KAAE,MAAK4B,IAAE,yBAAwBC,KAAE,KAAIE,IAAC,CAAC,GAAEE,KAAE3B,IAAE,KAAK,UAASA,KAAE0B,IAAEtB,KAAEQ,GAAC;AAAE,QAAG,QAAMe,GAAE,QAAO;AAAK,UAAMC,KAAE,CAACrC,KAAEC,KAAEC,KAAEG,KAAEC,KAAEE,QAAI;AAAC,YAAMC,MAAEU,GAAE,KAAGH,IAAE,UAAU,iBAAgBT,MAAE,KAAK,2BAA2BV,KAAEI,KAAEQ,GAAC;AAAE,aAAOM,IAAEf,KAAEO,KAAEL,KAAEG,KAAEC,KAAEE,GAAC;AAAA,IAAC,GAAE8B,KAAE,IAAIvB,IAAE,MAAKqB,GAAE,QAAOb,KAAEc,IAAExB,GAAC;AAAE,IAAAyB,GAAE,0BAAwBF,GAAE,kBAAiBE,GAAE,wBAAsBxB,GAAED,IAAE,IAAI,KAAG,sBAAoBA,IAAE,MAAKyB,GAAE,gBAAc,CAACzC,MAAES,GAAE,OAAKT,IAAE,CAAC,IAAEyB,MAAEA,IAAE,eAAaN,IAAE,YAAY,CAAC,GAAEnB,IAAE,CAAC,IAAEyB,MAAEA,IAAE,gBAAcN,IAAE,YAAY,CAAC,GAAEnB;AAAG,UAAM0C,KAAE,IAAIvC,IAAEgB,IAAE,UAAU,iBAAgBC,GAAC;AAAE,WAAOqB,GAAE,WAASC,IAAEvB,IAAEsB,IAAE7B,KAAE,KAAK,SAAS,iBAAiB,GAAE6B;AAAA,EAAC;AAAC;AAAC,SAAS1B,GAAEf,KAAEG,KAAEC,KAAE;AAAC,EAAAJ,KAAG,QAAS,CAAAA,QAAG;AAAC,UAAMK,MAAEF,IAAEH,GAAC;AAAE,YAAMK,OAAGD,IAAEC,KAAEL,IAAE,OAAO;AAAA,EAAC,CAAE;AAAC;AAAC,SAAS6B,GAAE7B,KAAEG,KAAE;AAAC,MAAG,eAAaA,IAAE,mBAAkB;AAAC,UAAMC,MAAEO,IAAER,IAAE,mBAAmB,GAAEE,MAAE,QAAML,MAAEA,IAAE,kBAAgB;AAAE,WAAOK,GAAED,KAAEC,GAAC;AAAA,EAAC;AAAC,QAAMD,MAAEe,IAAEhB,IAAE,qBAAoBA,IAAE,iBAAiB;AAAE,SAAOC,IAAEA,GAAC;AAAC;AAAC,IAAME,MAAE,EAAC,MAAK,sBAAqB,QAAO,EAAC;;;ACA7tP,IAAMqC,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMD,KAAEC,KAAE,IAAIC,IAAEC,IAAG,MAAI,OAAO,iCAAiC,CAAE,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,KAAE;AAAC,UAAK,EAAC,SAAQC,KAAE,QAAOE,KAAE,aAAYC,KAAE,QAAOC,IAAC,IAAEL;AAAE,WAAOM,GAAE,EAAC,UAASH,QAAII,IAAE,UAAQJ,QAAII,IAAE,aAAWJ,QAAII,IAAE,yBAAuBH,MAAEI,IAAEP,GAAC,IAAE,MAAK,WAAUI,MAAE,OAAK,EAAC,MAAKI,GAAER,GAAC,EAAC,GAAE,YAAWS,GAAEV,GAAC,GAAE,aAAYW,GAAEV,KAAEE,GAAC,GAAE,YAAWL,IAAE,eAAcc,GAAEZ,GAAC,EAAC,CAAC;AAAA,EAAC;AAAC;;;ACA75B,IAAMa,MAAN,cAAgBC,IAAC;AAAA,EAAC,gBAAgBA,KAAE;AAAC,WAAO,KAAK,YAAY,QAAQ,cAAc,gBAAgBA,GAAC;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,UAAMD,MAAE,KAAK,YAAY,QAAQ,cAAc;AAAe,WAAO,KAAK,UAAU,cAAc,EAAC,kBAAiBA,IAAE,kBAAiB,YAAWA,IAAE,WAAU,CAAC,GAAE,KAAK,aAAaE,KAAED,GAAC;AAAA,EAAC;AAAC;;;ACAsH,IAAME,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAM,GAAE,KAAK,YAAUA,KAAE,KAAK,iBAAe,OAAG,KAAK,cAAY,OAAG,KAAK,eAAa,MAAG,KAAK,aAAW,OAAG,KAAK,yBAAuB,OAAG,KAAK,mBAAiB,OAAG,KAAK,iCAA+B,OAAG,KAAK,SAAO,OAAG,KAAK,mBAAiB,OAAG,KAAK,mBAAiB,OAAG,KAAK,wBAAsBC,IAAE,MAAK,KAAK,iBAAeC,GAAE,MAAK,KAAK,UAAQJ,IAAE,OAAM,KAAK,gBAAc,OAAG,KAAK,+BAA6B,MAAG,KAAK,gBAAc,MAAG,KAAK,gBAAc,OAAG,KAAK,iBAAe,OAAG,KAAK,YAAU;AAAA,EAAE;AAAA,EAAC,IAAI,4BAA2B;AAAC,WAAO,KAAK,eAAa,KAAK;AAAA,EAAU;AAAC;AAAC,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,0BAAyB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,kCAAiC,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAACK,IAAE,CAAC,GAAEL,IAAE,WAAU,oBAAmB,MAAM;;;ACAjgB,IAAMM,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMD,KAAEE,EAAC,GAAE,KAAK,WAAS,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAgB,CAAAH,QAAGI,IAAEJ,GAAC,KAAG,CAAC,KAAK,WAAW,eAAaK,GAAEL,GAAC,CAAC,GAAE,CAACG,GAAE,sBAAqB,CAAAH,QAAGI,IAAEJ,GAAC,KAAG,KAAK,WAAW,eAAaK,GAAEL,GAAC,CAAC,GAAE,CAACG,GAAE,iBAAgB,CAAAH,QAAG,KAAK,WAAW,UAAQI,IAAEJ,GAAC,KAAGA,QAAIM,IAAE,UAAQD,GAAEL,GAAC,CAAC,GAAE,CAACG,GAAE,cAAa,CAAAH,QAAGA,QAAIM,IAAE,MAAM,CAAC,CAAC,GAAE,KAAK,iBAAe,IAAIA,IAAEL,IAAE,SAAS;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAEC,KAAE;AAAC,WAAO,MAAM,iBAAiBD,KAAEC,KAAE,KAAK,cAAc,GAAE,KAAK,eAAe,aAAW,MAAG,KAAK,eAAe,iBAAeA,IAAE,UAAU,SAAQ,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,cAAY,KAAK,WAAW,aAAY,KAAK,eAAe,yBAAuB,QAAMA,IAAE,IAAI,gBAAe,KAAK,eAAe,mBAAiB,QAAMA,IAAE,OAAO,MAAK,KAAK,eAAe,SAAO,KAAK,WAAW,QAAO,KAAK,eAAe,UAAQA,IAAE,SAAQ,KAAK,eAAe,eAAaA,IAAE,OAAO,oBAAkBM,IAAE,KAAK,eAAe,mBAAiBN,IAAE,oBAAkBG,IAAEJ,GAAC,GAAE,KAAK,eAAe,mBAAiBC,IAAE,kBAAiB,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,UAAS;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,OAAOA,KAAE;AAAC,WAAO,KAAK,cAAc,EAAC,aAAYG,GAAEH,IAAE,IAAI,IAAE,KAAK,WAAW,eAAc,GAAE,KAAE,GAAE,KAAK,kBAAkBA,IAAE,MAAM,KAAGA,IAAE,KAAG;AAAA,EAAC;AAAA,EAAC,kBAAkBD,KAAE;AAAC,UAAMC,MAAE,KAAK,IAAID,IAAE,mBAAkBA,IAAE,QAAQ;AAAE,WAAO,KAAK,KAAK,KAAK,WAAW,oBAAkB,KAAK,WAAW,YAAY,IAAEC,MAAEO;AAAA,EAAC;AAAA,EAAC,iBAAiBR,KAAE;AAAC,WAAO,IAAID,IAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,IAAIS,GAAER,IAAE,IAAEF,MAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAA,EAAC;AAAC;AAAC,IAAME,KAAN,cAAgBQ,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,eAAa,MAAI,KAAK,oBAAkB,IAAG,KAAK,gBAAcX,GAAE,GAAE,CAAC,GAAE,KAAK,eAAa,MAAI,KAAK,eAAa,OAAK,KAAK,aAAW,MAAI,KAAK,iBAAe,MAAI,KAAK,cAAY,GAAE,KAAK,QAAMA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,cAAY,MAAG,KAAK,gBAAc,OAAG,KAAK,SAAO,OAAG,KAAK,SAAOO,GAAE,GAAE,KAAK,sBAAoB;AAAA,EAAI;AAAC;AAAC,IAAME,KAAE;;;ACAj0F,IAAMG,MAAE,EAAC,cAAa,EAAC,cAAa,MAAK,sBAAqB,MAAI,eAAc,IAAG,cAAa,KAAG,GAAE,iBAAgB,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,IAAG,cAAa,KAAG,GAAE,gBAAe,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,IAAG,cAAa,IAAE,GAAE,kBAAiB,EAAC,cAAa,OAAK,sBAAqB,MAAI,eAAc,IAAG,cAAa,IAAE,GAAE,eAAc,EAAC,cAAa,SAAQ,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,kBAAiB,EAAC,cAAa,OAAK,sBAAqB,OAAK,eAAc,IAAG,cAAa,KAAG,GAAE,iBAAgB,EAAC,cAAa,MAAI,sBAAqB,OAAK,eAAc,GAAE,cAAa,KAAG,GAAE,mBAAkB,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,cAAa,EAAC,cAAa,MAAI,sBAAqB,GAAE,eAAc,GAAE,cAAa,KAAG,GAAE,iBAAgB,EAAC,cAAa,OAAK,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,gBAAe,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,kBAAiB,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,EAAC;;;ACAqnB,IAAMC,KAAE,CAAC,YAAW,WAAU,QAAQ;AAAE,IAAM,KAAN,MAAM,WAAUC,GAAC;AAAA,EAA0J,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAA,EAAC;AAAA,EAAC,wBAAwBH,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASH,IAAE,KAAK,YAAY,IAAI,EAAE,QAAO;AAAK,UAAMI,MAAE,KAAK,2BAA2BD,GAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBC,IAAE,IAAI,GAAE,KAAK,eAAe,GAAE,KAAK,SAAO,KAAK,iBAAiBD,GAAC,IAAE,KAAK,iBAAiBA,KAAEC,KAAED,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,QAAG,KAAK,WAAW,CAAC,EAAE;AAAO,UAAMA,MAAE,IAAIG,MAAEF,MAAE,KAAK,YAAY;AAAM,YAAMA,QAAID,IAAE,QAAMI,GAAE,WAAWH,GAAC;AAAG,UAAMC,MAAE,KAAK,oBAAoBD,KAAE,EAAC,mBAAkB,KAAE,CAAC;AAAE,IAAAD,IAAE,QAAM,CAACA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,GAAEE,GAAC,GAAEF,IAAE,cAAYE,MAAE,KAAG,KAAK,4BAA2BF,IAAE,gBAAc,QAAM,KAAK,YAAY,gBAAcK,GAAE,KAAK,YAAY,aAAa,IAAEJ,GAAE,GAAE,CAAC;AAAE,UAAMK,MAAE,KAAK,YAAY,eAAa,MAAI,KAAK,YAAY,eAAcC,MAAER,IAAEO,GAAC;AAAE,IAAAN,IAAE,eAAaO,IAAE,cAAaP,IAAE,oBAAkBO,IAAE,eAAcP,IAAE,eAAaO,IAAE,cAAaP,IAAE,eAAaO,IAAE,sBAAqBP,IAAE,gBAAc,KAAK,SAAS,mBAAkBA,IAAE,SAAO,KAAK,QAAO,KAAK,WAAW,CAAC,IAAE,IAAIQ,GAAER,KAAE,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,QAAG,QAAM,KAAK,WAAW,CAAC,EAAE;AAAO,UAAMD,MAAE,KAAK,WAAW,CAAC,EAAE,WAAW,OAAMC,MAAE,KAAK,oBAAoB,KAAK,YAAY,OAAM,EAAC,mBAAkB,KAAE,CAAC,GAAEC,MAAED,MAAE,KAAG,KAAK;AAA2B,SAAK,WAAW,CAAC,EAAE,cAAc,EAAC,OAAM,CAACD,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEC,GAAC,GAAE,aAAYC,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkB,MAAKO,MAAEC,IAAE,GAAE,0BAAyBT,KAAEC,GAAC;AAAE,QAAGO,QAAIE,GAAE,OAAO,QAAOF;AAAE,UAAMH,MAAEM,GAAEV,GAAC;AAAE,WAAO,KAAK,qCAAqCH,KAAEC,KAAG,MAAIM,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,WAAO,KAAK,WAAW,CAAC,GAAG,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBP,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAES,IAAEZ,IAAE,QAAQ;AAAE,QAAG,QAAMG,IAAE,QAAO;AAAK,UAAMO,MAAEI,IAAEX,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBF,GAAC,GAAEM,MAAEG,IAAE,SAAS,SAAO,GAAEF,MAAED,IAAE,IAAEA,GAAC;AAAE,IAAAQ,GAAEP,KAAEE,IAAE,cAAaH,KAAE,KAAK,SAAS,kBAAkB,gBAAgB;AAAE,UAAMS,MAAE,IAAIC,GAAEP,KAAEF,KAAE,KAAK,SAAS,cAAaR,IAAE,GAAG;AAAE,QAAGgB,IAAE,wBAAsB,KAAK,SAAS,MAAM,YAAY,yBAAyBA,GAAC,GAAE,KAAK,yBAAyBA,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWb,IAAE,OAAM,SAAQ,oBAAoB,GAAE,MAAIa,IAAE,cAAc,OAAO,QAAO;AAAK,UAAMX,MAAE,IAAIa,GAAE,EAAC,YAAWF,IAAE,eAAc,YAAW,OAAG,cAAa,KAAK,SAAS,cAAa,YAAWd,IAAC,CAAC,GAAEiB,MAAE,IAAIL,IAAE,MAAKT,KAAE,MAAKe,KAAEnB,GAAC;AAAE,WAAOkB,IAAE,0BAAwBH,IAAE,WAAW,kBAAiBG,IAAE,wBAAsBN,GAAEZ,IAAE,IAAI,GAAEkB;AAAA,EAAC;AAAA,EAAC,yBAAyBnB,KAAE;AAAC,UAAMC,MAAED,IAAE,WAAW,UAASG,MAAEH,IAAE;AAAS,eAAS,EAAC,OAAMU,KAAE,OAAMH,KAAE,UAASC,KAAE,cAAaQ,KAAE,aAAYG,IAAC,KAAIlB,KAAE;AAAC,UAAG,QAAM,KAAK,SAAS,mBAAiBU,GAAEK,KAAEK,GAAC,GAAE,CAAC,EAAEA,KAAE,KAAK,SAAS,cAAc,GAAG;AAAS,YAAMpB,MAAED,IAAEgB,KAAEG,KAAE,CAAC;AAAE,UAAG,MAAIlB,IAAE,OAAO;AAAS,YAAMU,MAAEX,IAAEG,KAAE,IAAEI,KAAE,IAAEG,GAAC,GAAEI,MAAEA,IAAE,EAAC,UAAS,KAAK,WAAW,CAAC,GAAE,SAAQb,KAAE,cAAae,KAAE,eAAc,EAAC,UAASR,KAAE,KAAIG,IAAC,EAAC,GAAEX,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAKc,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBd,KAAE;AAAC,UAAMC,MAAEW,IAAEZ,IAAE,QAAQ;AAAE,QAAG,QAAMC,IAAE,QAAO;AAAK,SAAK,WAAW,CAAC,EAAE,iBAAe,KAAK;AAAgB,UAAMC,MAAEiB,IAAElB,KAAE,KAAK,SAAS,SAAS,GAAEE,MAAED,IAAE,SAAS,SAAO,GAAEQ,MAAEH,IAAE,IAAEJ,GAAC;AAAE,IAAAY,GAAEL,KAAER,IAAE,UAASC,KAAE,KAAK,SAAS,SAAS;AAAE,UAAMI,MAAE,IAAIe,GAAEpB,KAAEQ,KAAE,KAAK,SAAS,cAAaV,IAAE,GAAG;AAAE,WAAOO,IAAE,wBAAsB,KAAK,SAAS,MAAM,YAAY,yBAAyBA,GAAC,GAAEA,IAAE,iBAAe,EAAE,GAAE,KAAK,sBAAsBA,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWN,IAAE,OAAM,SAAQ,oBAAoB,GAAE,MAAIM,IAAE,cAAc,SAAO,OAAK,IAAIF,IAAE,MAAKE,IAAE,eAAcA,IAAE,gBAAe,KAAK,SAAS,mBAAmB;AAAA,EAAC;AAAA,EAAC,sBAAsBP,KAAE;AAAC,UAAMC,MAAED,IAAE,UAASG,MAAEH,IAAE,WAAW;AAAS,eAAS,EAAC,UAASU,KAAE,aAAYH,KAAE,OAAMC,KAAE,OAAMQ,IAAC,KAAIb,KAAE;AAAC,UAAGQ,GAAED,KAAEW,GAAC,GAAE,CAAC,EAAEA,KAAE,KAAK,SAAS,cAAc,EAAE;AAAS,QAAErB,IAAE,gBAAeqB,GAAC;AAAE,YAAMlB,MAAEH,IAAEU,KAAEH,KAAE,CAAC;AAAE,UAAG,MAAIJ,IAAE,OAAO;AAAS,YAAMgB,MAAEnB,IAAEC,KAAE,IAAEO,KAAE,IAAEQ,GAAC,GAAEL,MAAEG,IAAE,EAAC,UAAS,KAAK,WAAW,CAAC,GAAE,SAAQX,KAAE,eAAc,EAAC,UAASO,KAAE,KAAIS,IAAC,EAAC,GAAEnB,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAK,IAAIuB,GAAEZ,KAAEX,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,eAAc,CAAAA,QAAG,KAAK,iBAAiBA,IAAE,SAAQA,IAAE,kBAAiBA,IAAE,UAAU,GAAE,gBAAe,MAAI,KAAK,eAAe,EAAC;AAAA,EAAC;AAAC;AAA/pI,GAAK,oBAAkB;AAAW,GAAK,2BAAyB,EAAC,gBAAeY,GAAE,UAAS,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ;AAAzK,IAAMY,MAAN;AAAyrI,SAASlB,GAAEN,KAAE;AAAC,QAAMC,MAAEM,GAAE,GAAEL,MAAEkB,GAAEpB,GAAC;AAAE,SAAOC,IAAE,CAAC,IAAE,KAAK,IAAIC,GAAC,GAAED,IAAE,CAAC,IAAE,KAAK,IAAIC,GAAC,GAAED;AAAC;AAAC,SAASc,GAAEf,KAAEE,KAAEQ,KAAEH,KAAE;AAAC,QAAMS,MAAE,EAAET,GAAC;AAAE,IAAEkB,EAAC;AAAE,WAAQxB,MAAE,GAAEA,MAAES,KAAET,MAAI,CAAAE,IAAEuB,IAAExB,IAAE,IAAED,GAAC,GAAEC,IAAE,IAAED,MAAE,CAAC,CAAC,GAAEU,GAAEc,IAAEC,EAAC;AAAE,EAAAf,GAAEc,IAAEA,IAAET,GAAC;AAAE,QAAMX,MAAEoB,GAAE,CAAC,IAAED,IAAE,mBAAkBL,MAAEM,GAAE,CAAC,IAAED,IAAE;AAAkB,EAAAG,GAAE,CAAC,IAAEF,GAAE,CAAC,IAAEpB,KAAEsB,GAAE,CAAC,IAAEF,GAAE,CAAC,IAAEN;AAAE,WAAQlB,MAAE,GAAEA,MAAES,KAAET,MAAI,CAAAD,IAAE,IAAEC,GAAC,KAAGC,IAAE,IAAED,GAAC,IAAEe,MAAEW,GAAE,CAAC,KAAGH,IAAE,mBAAkBxB,IAAE,IAAEC,MAAE,CAAC,KAAGC,IAAE,IAAED,MAAE,CAAC,IAAEe,MAAEW,GAAE,CAAC,KAAGH,IAAE;AAAiB;AAAC,IAAMG,KAAEpB,GAAE;AAAV,IAAYkB,KAAEL,GAAE;AAAhB,IAAkBM,KAAEnB,GAAE;AAAtB,IAAwBc,MAAED,GAAE;AAAE,IAAMH,KAAN,cAAgBM,IAAC;AAAA,EAAC,YAAYvB,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,WAASF;AAAA,EAAC;AAAC;AAAC,IAAMqB,KAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYvB,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,WAASF;AAAA,EAAC;AAAC;;;ACAruL,SAAS2B,IAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAEC,IAAEL,IAAE,IAAI,IAAIC,IAAE,IAAI,KAAGK,IAAEL,IAAE,IAAI;AAAE,SAAOG,MAAE,IAAIA,IAAEJ,KAAEC,KAAEC,KAAEC,GAAC,KAAG,EAAE,UAAU,4DAA4D,EAAE,MAAM,6BAA4B,uBAAuBF,IAAE,IAAI,EAAE,GAAE;AAAK;AAAC,IAAMK,MAAE,EAAC,MAAKC,KAAE,QAAOC,KAAE,MAAKC,IAAE,MAAK,IAAE,MAAKC,IAAE,SAAQ,IAAE,MAAKA,IAAE,OAAMC,IAAC;AAAE,SAASC,IAAEC,KAAEb,KAAE;AAAC,EAAAM,IAAEO,GAAC,IAAEb;AAAC;AAAC,IAAMK,MAAE,EAAC,WAAU,EAAC,MAAK,GAAC,EAAC;",
  "names": ["l", "e", "r", "o", "a", "s", "c", "n", "t", "m", "p", "b", "g", "p", "o", "n", "r", "c", "a", "t", "h", "u", "m", "g", "l", "e", "te", "s", "i", "f", "ot", "y", "t", "e", "r", "o", "I", "s", "i", "u", "n", "a", "l", "c", "m", "W", "p", "Mt", "g", "b", "h", "d", "f", "_", "C", "v", "j", "A", "M", "z", "D", "x", "S", "it", "L", "B", "R", "U", "G", "T", "k", "H", "P", "w", "O", "lt", "E", "t", "r", "c", "n", "l", "e", "t", "r", "i", "E", "I", "n", "o", "u", "y", "d", "b", "a", "p", "r", "a", "o", "y", "e", "t", "i", "b", "I", "u", "n", "l", "c", "f", "h", "te", "s", "p", "L", "Z", "d", "m", "V", "g", "J", "ue", "n", "s", "r", "e", "S", "g", "e", "t", "k", "W", "i", "p", "d", "T", "h", "B", "u", "s", "E", "N", "F", "o", "f", "c", "m", "l", "P", "A", "I", "n", "e", "C", "a", "W", "A", "h", "o", "S", "l", "u", "t", "s", "O", "P", "L", "p", "i", "c", "m", "T", "d", "_", "v", "g", "R", "r", "b", "N", "E", "U", "y", "e", "t", "r", "i", "J", "n", "q", "I", "u", "s", "a", "m", "b", "d", "N", "o", "p", "l", "h", "c", "A", "g", "B", "e", "p", "e", "a", "s", "r", "i", "I", "g", "o", "t", "n", "m", "l", "f", "d", "c", "u", "h", "T", "_", "b", "U", "q", "F", "E", "t", "e", "r", "a", "s", "W", "i", "d", "g", "e", "r", "t", "p", "R", "i", "o", "u", "B", "f", "c", "t", "a", "i", "U", "n", "e", "q", "t", "A", "g", "r", "o", "u", "p", "j", "S", "y", "m", "N", "R", "H", "v", "J", "K", "Y", "E", "_", "B", "D", "V", "G", "k", "c", "W", "P", "M", "h", "Z", "s", "F", "Q", "w", "C", "z", "X", "i", "a", "l", "f", "d", "I", "y", "e", "t", "r", "o", "U", "g", "a", "s", "n", "ut", "i", "l", "m", "st", "c", "u", "f", "p", "C", "h", "d", "x", "_", "L", "W", "j", "lt", "nt", "it", "E", "A", "q", "pt", "b", "V", "w", "at", "ct", "mt", "ft", "I", "P", "ot", "u", "t", "e", "i", "n", "s", "l", "c", "_", "E", "o", "b", "h", "g", "x", "m", "a", "f", "p", "v", "t", "e", "s", "r", "l", "a", "u", "f", "n", "h", "r", "o", "u", "i", "m", "l", "a", "j", "y", "_t", "t", "r", "r", "i", "s", "E", "e", "t", "c", "t", "e", "o", "d", "g", "f", "i", "s", "u", "r", "S", "b", "t", "e", "O", "C", "A", "U", "d", "y", "F", "g", "I", "R", "o", "u", "s", "i", "H", "N", "D", "a", "c", "n", "r", "w", "m", "n", "b", "e", "r", "t", "T", "E", "s", "i", "U", "m", "e", "i", "t", "c", "r", "s", "a", "t", "s", "e", "r", "i", "a", "O", "a", "n", "m", "u", "f", "g", "t", "E", "r", "e", "o", "s", "i", "a", "e", "r", "i", "s", "o", "c", "n", "t", "l", "b", "z", "e", "t", "r", "k", "c", "E", "A", "R", "g", "Y", "n", "s", "f", "a", "C", "i", "o", "Z", "$", "X", "S", "u", "b", "Q", "P", "l", "h", "d", "m", "p", "J", "W", "te", "ee", "K", "O", "me", "e", "t", "s", "r", "i", "o", "a", "n", "l", "c", "h", "pe", "y", "ye", "I", "S", "d", "u", "m", "p", "_", "g", "R", "W", "_e", "v", "L", "w", "Y", "f", "b", "x", "P", "k", "C", "ge", "V", "fe", "xe", "be", "B", "ue", "J", "f", "t", "i", "e", "s", "o", "h", "r", "g", "v", "c", "l", "n", "y", "a", "A", "n", "a", "t", "h", "s", "o", "n", "a", "p", "l", "u", "x", "t", "e", "i", "r", "o", "e", "t", "s", "i", "l", "f", "r", "n", "m", "h", "p", "c", "a", "u", "c", "t", "e", "r", "s", "a", "i", "o", "h", "n", "l", "p", "u", "m", "j", "f", "E", "e", "p", "t", "o", "s", "n", "i", "x", "t", "T", "r", "n", "a", "c", "p", "m", "u", "f", "d", "A", "v", "w", "I", "C", "O", "V", "j", "y", "o", "R", "U", "_", "E", "P", "l", "q", "s", "F", "N", "z", "D", "e", "i", "g", "n", "v", "u", "j", "R", "y", "x", "L", "b", "k", "q", "M", "G", "s", "o", "U", "f", "m", "r", "h", "l", "A", "_", "r", "t", "e", "s", "i", "n", "c", "d", "a", "o", "h", "l", "v", "m", "p", "n", "t", "r", "a", "u", "o", "e", "c", "s", "i", "f", "l", "M", "h", "b", "m", "d", "p", "y", "x", "S", "j", "_", "g", "q", "e", "t", "n", "r", "R", "n", "l", "t", "s", "u", "D", "A", "g", "I", "P", "c", "k", "_", "x", "w", "y", "U", "b", "r", "e", "o", "L", "i", "F", "j", "S", "a", "h", "E", "d", "A", "d", "e", "n", "t", "a", "g", "r", "V", "L", "s", "o", "O", "b", "B", "u", "p", "i", "E", "h", "F", "f", "h", "a", "e", "n", "i", "f", "o", "P", "n", "t", "e", "I", "L", "r", "A", "o", "h", "u", "i", "f", "C", "s", "a", "c", "p", "m", "l", "w", "d", "S", "_", "O", "j", "g", "y", "e", "t", "r", "i", "he", "o", "J", "s", "n", "c", "d", "a", "h", "l", "f", "m", "u", "g", "b", "Z", "_", "P", "W", "p", "w", "v", "x", "pe", "oe", "S", "C", "O", "ne", "T", "D", "V", "A", "ce", "le", "me", "R", "T", "t", "r", "e", "s", "i", "l", "o", "h", "y", "a", "m", "n", "c", "M", "F", "Y", "_", "D", "x", "A", "V", "O", "P", "E", "f", "q", "v", "G", "g", "u", "I", "p", "N", "S", "d", "k", "w", "U", "S", "g", "e", "r", "t", "T", "E", "j", "s", "m", "f", "I", "o", "B", "u", "p", "N", "h", "F", "R", "n", "a", "e", "o", "f", "i", "R", "r", "e", "I", "n", "E", "j", "A", "i", "u", "S", "w", "t", "O", "o", "y", "f", "s", "a", "k", "c", "h", "d", "L", "l", "s", "e", "r", "a", "A", "l", "R", "t", "c", "u", "o", "n", "i", "M", "m", "z", "y", "e", "t", "i", "r", "Q", "J", "s", "R", "K", "n", "q", "u", "o", "m", "b", "d", "p", "W", "M", "a", "A", "l", "c", "N", "h", "T", "g", "U", "H", "i", "r", "c", "a", "n", "o", "l", "f", "e", "s", "s", "o", "a", "l", "t", "e", "f", "m", "g", "u", "d", "h", "y", "b", "p", "r", "i", "S", "c", "w", "T", "e", "o", "b", "r", "l", "C", "n", "k", "R", "t", "a", "P", "L", "S", "g", "s", "i", "A", "h", "y", "m", "i", "e", "n", "s", "r", "T", "a", "d", "t", "L", "P", "V", "e", "H", "y", "t", "s", "r", "I", "f", "o", "n", "l", "i", "a", "h", "u", "W", "b", "d", "p", "m", "c", "v", "x", "O", "w", "P", "E", "_", "S", "$", "L", "G", "A", "D", "M", "k", "N", "q", "B", "J", "Y", "Z", "K", "h", "g", "r", "e", "t", "S", "s", "l", "u", "B", "n", "p", "E", "N", "F", "m", "r", "e", "h", "n", "a", "e", "o", "f", "i", "_", "r", "t", "e", "v", "A", "u", "i", "n", "O", "T", "f", "d", "e", "U", "y", "e", "t", "r", "o", "v", "l", "B", "n", "s", "_", "i", "m", "b", "d", "p", "M", "a", "N", "A", "c", "u", "k", "F", "g", "I", "W", "z", "V", "c", "o", "e", "t", "i", "m", "h", "l", "ue", "pe", "B", "H", "I", "n", "r"]
}
