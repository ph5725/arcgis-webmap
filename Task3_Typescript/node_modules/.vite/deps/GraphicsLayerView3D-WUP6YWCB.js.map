{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/LayerView3D.js", "../../@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js", "../../@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js", "../../@arcgis/core/views/3d/layers/graphics/ElevationQuery.js", "../../@arcgis/core/views/3d/layers/graphics/enums.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineCalloutSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCalloutSymbolLayerFactory.js", "../../@arcgis/core/geometry/projection/projectBoundingRect.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphic.js", "../../@arcgis/core/views/3d/layers/graphics/symbolMemory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWebStyleSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js", "../../@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js", "../../@arcgis/core/views/3d/support/ElevationUpdateEvent.js", "../../@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js", "../../@arcgis/core/views/3d/support/extentUtils.js", "../../@arcgis/core/views/support/TextureCompressionTracker.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js", "../../@arcgis/core/views/3d/layers/graphics/ExtentSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js", "../../@arcgis/core/views/3d/support/intersectionUtils.js", "../../@arcgis/core/views/3d/support/FrustumExtentIntersection.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js", "../../@arcgis/core/views/3d/layers/support/highlightUtils.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsProcessor.js", "../../@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js", "../../@arcgis/core/views/3d/layers/support/LayerViewPerformanceInfo.js", "../../@arcgis/core/views/3d/layers/GraphicsLayerView3D.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import t from\"../../../../geometry/SpatialReference.js\";import{projectPointToVectorAsync as r}from\"../../../../geometry/projection/projectPointToVector.js\";import{makeDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedPoint.js\";import{getGeometryEffectiveElevationInfo as n}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationInfoAtPoint as s,SampleElevationInfo as a}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{extractExpressionInfo as f,createContext as c}from\"./featureExpressionInfoUtils.js\";async function l(l,m,d,j,u){const{elevationProvider:v,renderCoordsHelper:g}=l,{elevationInfo:I}=m,{pointsInFeatures:x,spatialReference:y}=j,h=t.fromJSON(y),w=f(I,!0),R=await c(w,h,u);e(u);const S=[],b=new Set,z=new Set,E=new p,P=i(0,0,0,t.WGS84),U=new a,C=o();P.spatialReference=h;const F=l.elevationProvider.spatialReference??l.spatialReference;for(const{objectId:e,points:o}of x){const t=d(e);if(null==t){for(const e of o)S.push(e.z??0);b.add(e);continue}t.isDraped&&z.add(e);const i=t.graphic.geometry;E.setFromElevationInfo(n(i,I)),E.updateFeatureExpressionInfoContext(R,t.graphic,m);for(const{x:e,y:n,z:a}of o)P.x=e,P.y=n,P.z=a??0,await r(P,C,F,0,{signal:u}),s(C,v,E,g,U),S.push(U.z)}return{elevations:S,drapedObjectIds:z,failedObjectIds:b}}export{l as elevationAlignPointsInFeatures};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nclass e{constructor(e,m,t){this.maximumTotalNumberOfVertices=e,this.maximumNumberOfFeatures=m,this.averageSymbolComplexity=t}}export{e as DisplayFeatureLimit};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{remove as e}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{createAbortError as t,createResolver as r,onAbort as s}from\"../../../../core/promiseUtils.js\";import i from\"../../../../geometry/Multipoint.js\";import{TaskPriority as o,noBudget as n}from\"../../../support/Scheduler.js\";class l{constructor(e,t){this.spatialReference=e,this._view=t}getElevation(e,t,r){return this._view.elevationProvider.getElevation(e,t,0,this.spatialReference,r)}async queryElevation(e,t,r,s,i){return this._view.elevationProvider.queryElevation(e,t,0,this.spatialReference,i,r,s)}}class a{constructor(e,t,r,s){this.spatialReference=t,this._getElevationQueryProvider=r,this._queries=new Array,this._queryOptions={...s,ignoreInvisibleLayers:!0},this._frameTask=e.registerTask(o.ELEVATION_QUERY,this)}destroy({completeTasks:e}={completeTasks:!1}){if(this._frameTask.remove(),this.running)if(e)this.runTask(n);else for(const r of this._queries)r.result.reject(t())}queryElevation(i,o,n,l=0){const a=r(),u={x:i,y:o,minDemResolution:l,result:a,signal:n};return this._queries.push(u),s(n,(()=>{e(this._queries,u),a.reject(t())})),a.promise}get running(){return this._queries.length>0}runTask(e){const r=this._queries;this._queries=[];const o=this._getElevationQueryProvider();if(!o)return r.forEach((e=>e.result.reject())),void e.madeProgress();const n=r.map((e=>[e.x,e.y])),l=r.reduce(((e,t)=>Math.min(e,t.minDemResolution)),1/0),a=new i({points:n,spatialReference:this.spatialReference}),u=r.length>1&&r.some((e=>!!e.signal))?new AbortController:null,c=null!=u?u.signal:r[0].signal;if(null!=u){let e=0;r.forEach((i=>s(i.signal,(()=>{e++,i.result.reject(t()),e===r.length&&u.abort()}))))}const h={...this._queryOptions,minDemResolution:l,signal:c};o.queryElevation(a,h).then((e=>{r.forEach(((r,s)=>{null!=r.signal&&r.signal.aborted?r.result.reject(t()):r.result.resolve(e.geometry.points[s][2])}))})).catch((e=>{r.forEach((t=>t.result.reject(e)))})),e.madeProgress()}get test(){}}export{a as ElevationQuery,l as ViewElevationProvider};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nvar L,A;!function(L){L[L.USER=1]=\"USER\",L[L.SCALE_RANGE=2]=\"SCALE_RANGE\",L[L.FILTER=4]=\"FILTER\",L[L.DECONFLICTION=8]=\"DECONFLICTION\",L[L.ALL_GRAPHIC=15]=\"ALL_GRAPHIC\",L[L.ALL_LABEL=255]=\"ALL_LABEL\"}(L||(L={})),function(L){L[L.GRAPHIC=1]=\"GRAPHIC\",L[L.LABEL=16]=\"LABEL\"}(A||(A={}));export{L as VisibilityFlag,A as VisibilityGroup};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as i}from\"../../../../geometry/projectionUtils.js\";import{create as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as c}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as p}from\"../../../../layers/graphics/OptimizedFeature.js\";import n from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";const d=a();let l=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:h.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:h.getAttributes(t),getObjectId:t=>\"graphic\"in t?c(t.graphic,this.objectIdField)??void 0:h.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):h.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;null!=t.centroid?r=t.centroid:\"point\"===t.graphic.geometry.type&&i(t.graphic.geometry,u,this.viewSpatialReference)&&(r=u);const o=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return null==r?(o[0]=0,o[1]=0,o[2]=0,o[3]=0):(o[0]=r.x,o[1]=r.y,e.hasZ&&(o[2]=r.hasZ?r.z:0),e.hasM&&(o[e.hasZ?3:2]=r.hasM?r.m:0)),new n([],o)}return h.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new p(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):h.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e){const r=this.getSpatialIndex();for(const o of t){const t=this.featureAdapter.getObjectId(o);null!=r.getBounds(t,d)&&e(d)}}};t([o({constructOnly:!0})],l.prototype,\"getSpatialIndex\",void 0),t([o({constructOnly:!0})],l.prototype,\"forEach\",void 0),t([o({constructOnly:!0})],l.prototype,\"hasZ\",void 0),t([o({constructOnly:!0})],l.prototype,\"hasM\",void 0),t([o({constructOnly:!0})],l.prototype,\"objectIdField\",void 0),t([o({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),t([o({constructOnly:!0})],l.prototype,\"featureSpatialReference\",void 0),l=t([s(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],l);const u={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{l as Graphics3DFeatureStore};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nclass r{constructor(r,s,t){this.graphic=r,this.renderingInfo=s,this.layer=t}}export{r as Graphics3DGraphicCreationContext};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";class s{constructor(e,s,i,r){this.scheduler=e,this.schedule=s,this.layerViewUid=i,this.compressionTracker=r,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.skipHighSymbolLods=!1,this.isAsync=!1}get spherical(){return this.stage.view.state.viewingMode===e.Global}}class i{constructor(){this.renderPriority=0,this.renderPriorityStep=1,this.ignoreDrivers=!1}}export{s as Graphics3DSymbolCreationContext,i as Graphics3DSymbolLayerCreationContext};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{L as t}from\"../../../../chunks/LineCallout.glsl.js\";import{CompareFunction as o,BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as i,defaultDepthWrite as n,defaultColorWrite as l,separateBlendingParams as h}from\"../../../webgl/renderState.js\";class p extends r{constructor(r,o){super(r,o,new e(t,(()=>import(\"./LineCallout.glsl.js\"))))}initializePipeline(e){const{hudDepth:r,terrainDepthTest:t}=e,p={func:t?o.ALWAYS:o.LESS};return i(r?{depthTest:p,depthWrite:n}:{blending:h(s.ONE,s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),depthTest:p,colorWrite:l})}}export{p as LineCalloutTechnique};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends s{constructor(e){super(),this.spherical=e,this.screenCenterOffsetUnitsEnabled=!1,this.occlusionTestEnabled=!0,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.hudDepth=!1,this.hudDepthAlignStart=!1,this.terrainDepthTest=!1,this.draped=!1}}e([t()],i.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([t()],i.prototype,\"occlusionTestEnabled\",void 0),e([t()],i.prototype,\"hasVerticalOffset\",void 0),e([t()],i.prototype,\"hasScreenSizePerspective\",void 0),e([t()],i.prototype,\"hudDepth\",void 0),e([t()],i.prototype,\"hudDepthAlignStart\",void 0),e([t()],i.prototype,\"terrainDepthTest\",void 0);export{i as LineCalloutTechniqueConfiguration};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{safeToString as e}from\"../../../../core/string.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as s}from\"../core/shaderLibrary/ShaderOutput.js\";import n from\"../lib/GLMaterial.js\";import{Material as o,MaterialParameters as a}from\"../lib/Material.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{writePosition as f,writeNormal as u,writeBufferVec4 as h}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as p}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as m}from\"../shaders/LineCalloutTechniqueConfiguration.js\";import{alphaCutoff as g}from\"../../../../webscene/support/AlphaCutoff.js\";class d extends o{constructor(e,t){super(e,T),this.intersectDraped=void 0,this.produces=new Map([[c.LINE_CALLOUTS,e=>s(e)],[c.LINE_CALLOUTS_HUD_DEPTH,e=>s(e)]]),this._configuration=new m(t),this._uniqueMaterialIdentifier=O(this.parameters)}passParameters(){return this.parameters}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration.hudDepth=t.slot===c.LINE_CALLOUTS_HUD_DEPTH,this._configuration.hudDepthAlignStart=!!this.parameters.hudDepthAlignStart,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration}get visible(){return this.parameters.color[3]>=g||(this.parameters.borderColor?.[3]??0)>=g}intersect(){}createGLMaterial(e){return new S(e)}createBufferWriter(){return new D}validateParameters(e){this._uniqueMaterialIdentifier=O(e)}get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}}function O({renderOccluded:t,isDecoration:r,horizontalScreenOffset:i,color:s,size:n,occlusionTest:o,shaderPolygonOffset:a,hudDepthAlignStart:c,centerOffsetUnits:l,hasSlicePlane:f,screenSizePerspective:u,verticalOffset:h,borderColor:p}){return e`${t}:${r}:${i}:[${s}]:${n}:${o}:${a}:${c}:${l}:${f}:${null!=u}:{${h.screenLength}:${h.minWorldLength}:${h.maxWorldLength}}:[${p}]`}class S extends n{beginSlot(e){return this.getTechnique(p,e)}}class T extends a{constructor(){super(...arguments),this.horizontalScreenOffset=0,this.color=r(0,0,0,1),this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.hudDepthAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const L=i().vec3f(l.POSITION).vec3f(l.NORMAL).vec2f16(l.UV0).vec4f(l.CENTEROFFSETANDDISTANCE),_=[t(0,0),t(1,0),t(0,1),t(1,0),t(1,1),t(0,1)];class D{constructor(){this.vertexBufferLayout=L}elementCount(e){return 6*e.get(l.POSITION).indices.length}write(e,t,r,i,s,n){f(r.get(l.POSITION),e,s.position,n,6),u(r.get(l.NORMAL),t,s.normal,n,6),h(r.get(l.CENTEROFFSETANDDISTANCE),s.centerOffsetAndDistance,n,6);for(let o=0;o<_.length;++o)s.uv0.setVec(n+o,_[o]);return null}}export{d as LineCalloutMaterial,T as Parameters,O as uniqueMaterialIdentifier};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../Color.js\";import has from\"../../../../core/has.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ZEROS as n,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{RenderingInfo as s}from\"../../../../renderers/support/RenderingInfo.js\";import{textSymbolLayerSupportsVerticalOffset as o}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as a}from\"./ElevationAligners.js\";import{SymbolUpdateType as l,elevationModeChangeUpdateType as c,needsElevationUpdates2D as m}from\"./elevationAlignmentUtils.js\";import{ElevationContext as h}from\"./ElevationContext.js\";import{Graphics3DGraphicCreationContext as p}from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DObject3DGraphicLayer as d}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as f}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as u}from\"./Graphics3DSymbolLayer.js\";import{computeCentroid as g}from\"./graphicUtils.js\";import{createStageObject as y,extendPointGraphicElevationContext as v}from\"./pointUtils.js\";import{SymbolComplexity as b}from\"./SymbolComplexity.js\";import{Attribute as x}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as O}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as C}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LineCalloutMaterial as _,Parameters as j,uniqueMaterialIdentifier as E}from\"../../webgl-engine/materials/LineCalloutMaterial.js\";import{GeometryType as P}from\"../../webgl-engine/lib/IntersectableGeometry.js\";class w extends u{static{this.elevationModeChangeTypes={definedChanged:l.UPDATE,staysOnTheGround:l.UPDATE,onTheGroundChanged:l.RECREATE}}constructor(e,t){super(e,null,t,A),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){this._materials[0]=new _(this._materialParameters,this._context.spherical)}_perInstanceMaterialParameters(e){const t=this._materialParameters;return t.horizontalScreenOffset=e.horizontalScreenOffset??0,t.centerOffsetUnits=e.centerOffsetUnits||\"world\",t}get _materialParameters(){const r=new j,i=this.symbol,s=i.callout;if(s.color){const t=e.toUnitRGBA(s.color);t[3]*=this._getLayerOpacity(),r.color=t}else r.color=n;if(r.size=t(s.size||0),i.verticalOffset){const{screenLength:e,minWorldLength:n,maxWorldLength:s}=i.verticalOffset;r.verticalOffset={screenLength:t(e),minWorldLength:n||0,maxWorldLength:null!=s?s:1/0}}r.borderColor=null!=s.border?.color?e.toUnitRGBA(s.border.color):null;const o=\"object\"===i.symbolLayers.at(0).type,a=\"label-3d\"===i.type;return r.occlusionTest=!o&&!has(\"enable-feature:non-occluded-hud\"),o&&(r.shaderPolygonOffset=0),r.hudDepthAlignStart=a,r.hasSlicePlane=this._context.slicePlaneEnabled,r.screenSizePerspective=this._context.screenSizePerspectiveEnabled?this._context.sharedResources.screenSizePerspectiveSettings:null,r}_defaultElevationInfoNoZ(){return U}createGraphics3DGraphic(e,t){const r=e.renderingInfo,n=e.graphic,i=this.setGraphicElevationContext(n,new h,r.elevationOffset||0),s=r.symbol,a=\"on-the-ground\"===this._elevationContext.mode&&(\"cim\"===s.type||!s.symbolLayers.some((e=>\"object\"===e.type||\"text\"===e.type)));if(\"label-3d\"!==s.type&&a)return null;if(\"point-3d\"===s.type&&s.symbolLayers.every((e=>\"text\"===e.type&&!o(e))))return null;const l=g(n.geometry);return null==l?null:this._createAs3DShape(l,i,r,n.uid,t)}layerOpacityChanged(){this._materials[0]?.setParameters(this._materialParameters)}layerElevationInfoChanged(e,t,r){const n=this._elevationContext.mode,i=c(w.elevationModeChangeTypes,r,n);return i!==l.UPDATE||e?.forEach((e=>{const r=t(e);null!=r&&this.updateGraphicElevationContext(e.graphic,r)})),i}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}setGraphicElevationContext(e,t,r=0){return super.setGraphicElevationContext(e,t),t.addOffsetRenderUnits(r),t}updateGraphicElevationContext(e,t){const{elevationContext:r,metadata:n}=t;this.setGraphicElevationContext(e,r,n?.elevationOffset??0),t.needsElevationUpdates=m(r.mode)}computeComplexity(){return new b({verticesPerFeature:6})}_getOrCreateMaterial(e,t){const r=this._perInstanceMaterialParameters(e),n=E(r);if(n===this._materials[0]?.uniqueMaterialIdentifier)return this._materials[0];if(t){let e=t.get(n);return null==e&&(e=new _(r,this._context.spherical),t.set(n,e)),e}return new _(r,this._context.spherical)}_createAs3DShape(e,t,r,n,i){const s=this._context.layerViewUid,o=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerViewUid:s}),l=this._getOrCreateMaterial(r,i),c=new O(l,G(r),null,P.Point,o),h=y(this._context,e,c,t,n);if(null==h)return null;const p=new d(this,h.object,null,a,t);return p.metadata=new f(r.elevationOffset),p.alignedSampledElevation=h.sampledElevation,p.needsElevationUpdates=m(t.mode),v(p,e,this._context.elevationProvider),p}}function G(e){const{translation:t,centerOffset:r}=e,n=new x(t?[t[0],t[1],t[2]]:[0,0,0],S,3,!0),i=new x(r?[r[0],r[1],r[2],r[3]]:[0,0,0,1],S,4,!0);return[[C.POSITION,n],[C.NORMAL,new x([0,0,1],S,3,!0)],[C.CENTEROFFSETANDDISTANCE,i]]}const S=[0],U={mode:\"relative-to-ground\",offset:0},A={ignoreDrivers:!0,renderPriority:0,renderPriorityStep:1};class D extends s{constructor(e,t,n=r(),s=i(),o=0,a=\"world\",l=0){super(e,t),this.translation=n,this.centerOffset=s,this.horizontalScreenOffset=o,this.centerOffsetUnits=a,this.elevationOffset=l}}class L extends p{}export{w as Graphics3DLineCalloutSymbolLayer,L as LineCalloutCreationContext,D as LineCalloutSymbolLayerRenderingInfo};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport o from\"../../../../core/Logger.js\";import{hasCalloutSupport as r}from\"../../../../symbols/callouts/calloutUtils.js\";import{Graphics3DLineCalloutSymbolLayer as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";const t=()=>o.getLogger(\"esri.views.3d.layers.graphics.Graphics3DCalloutSymbolLayerFactory\");function e(o,l){if(!r(o))return t().error(\"Graphics3DCalloutSymbolLayerFactory#make\",`symbol of type '${o.type}' does not support callouts`),null;if(!o.callout)return null;const e=a[o.callout.type];return e?new e(o,l):(t().error(\"Graphics3DCalloutSymbolLayerFactory#make\",`unknown or unsupported callout type ${o.callout.type}`),null)}const a={line:l};export{e as make};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as o}from\"./projectBuffer.js\";import{copy as t}from\"../support/aaBoundingRect.js\";import{equals as e}from\"../support/spatialReferenceUtils.js\";function i(r,i,s,f){return null!=r&&(e(i,f)?(t(s,r),!0):(p[0]=r[0],p[1]=r[1],p[2]=0,!!o(p,i,0,p,f,0)&&(s[0]=p[0],s[1]=p[1],p[0]=r[2],p[1]=r[3],p[2]=0,!!o(p,i,0,p,f,0)&&(s[2]=p[0],s[3]=p[1],!0))))}const p=r();export{i as projectBoundingRect};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{emptyArray as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import\"../../../../core/has.js\";import{estimateAttributesMemory as i}from\"../../../../core/memoryEstimations.js\";import r from\"../../../../core/ObjectPool.js\";import{scale as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{g as o}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import n from\"../../../../geometry/Polygon.js\";import{projectBoundingRect as h}from\"../../../../geometry/projection/projectBoundingRect.js\";import{set as c,zero as p,empty as m,expandWithAABB as y,allFinite as u,toRect as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as b,allFinite as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as f}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{computeAABR as _}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromGeometry as L}from\"../../../../layers/graphics/featureConversionUtils.js\";import{VisibilityFlag as E,VisibilityGroup as G}from\"./enums.js\";import{createFeature as j}from\"./featureExpressionInfoUtils.js\";const x=new r(Array,(e=>c(e,p)),null,10,5),v=b();class A{get labelLayers(){return this._labelLayers||e}get extent(){return this._extent}get isElevationSource(){return this.layers.some((e=>e?.isElevationSource))}constructor(e,t,i,r,s){this.graphic=e,this.graphics3DSymbol=t,this.layers=i,this._visibleFlags=E.ALL_LABEL,++t.referenced,this._featureExpressionFeature=s?j(s,e,r):null}initialize(e){this._layer=e,this._forEachSymbolLayerGraphic((t=>{t.initialize(e),t.setVisibility(this.isVisible())}))}destroy(){this._forEachSymbolLayerGraphic((e=>e.destroy())),this._calloutLayer=null,--this.graphics3DSymbol.referenced,this.graphics3DSymbol=null}get destroyed(){return null==this.layers}clearLabelGraphics(){this._forEachLabelGraphic((e=>e.destroy())),this._labelLayers=null}addLabelGraphic(e,t){this._labelLayers||(this._labelLayers=new Array),this._labelLayers.push(e),e.initialize(t),e.setVisibility(this.isVisible(G.LABEL))}setCalloutGraphic(e){this._calloutLayer=e,this._layer&&(e.initialize(this._layer),e.setVisibility(this.isVisible()))}get calloutLayer(){return this._calloutLayer}get isDraped(){let e=!1;return this._forEachSymbolLayerGraphic((t=>{\"draped\"===t.type&&(e=!0)})),e}isVisible(e=G.GRAPHIC,t){const i=t?this._visibleFlags|t|G.LABEL*t:this._visibleFlags;return e===G.GRAPHIC?(i&E.ALL_GRAPHIC)===E.ALL_GRAPHIC:(i&E.ALL_LABEL)===E.ALL_LABEL}setVisibilityFlag(e,t,i){const r=this.isVisible(e);i?this._visibleFlags|=e*t:this._visibleFlags&=~(e*t);const s=this.isVisible(e);if(r===s)return!1;if(e===G.LABEL)this._forEachLabelGraphic((e=>e.setVisibility(s)));else{this._forEachSymbolLayerGraphic((e=>e.setVisibility(s)));const e=this.isVisible(G.LABEL);this._forEachLabelGraphic((t=>t.setVisibility(e)))}return!0}getVisibilityFlag(e,t){return 0!==(this._visibleFlags&e*t)}computeExtent(e){if(!this._extent){const t=this.graphic.geometry;if(null==t)return!1;this._extent=b(),_(t,this._extent);const i=t.spatialReference;if(!f(i,e)&&!h(this._extent,i,this._extent,e))return this._extent=null,!1}return!0}getAsOptimizedGeometry(e,t){return this._optimizedGeometry||(this._optimizedGeometry=this._convertGraphicToOptimizedGeometry(this.graphic,e,t)),this._optimizedGeometry}_convertGraphicToOptimizedGeometry(e,t,i){let r=e.geometry;return\"mesh\"!==r.type&&\"extent\"!==r.type||(r=n.fromExtent(\"mesh\"===r.type?r.extent:r)),L(r,t,i)}get usedMemory(){let e=i(this.graphic.attributes);return this._forEachSymbolLayerGraphic((t=>e+=t.usedMemory)),e}computeAttachmentOrigin(){const e={render:{origin:l(),num:0},draped:{origin:a(),num:0}};for(const t of this.layers)null!=t&&t.computeAttachmentOrigin(e);return e.render.num>1&&o(e.render.origin,e.render.origin,1/e.render.num),e.draped.num>1&&s(e.draped.origin,e.draped.origin,1/e.draped.num),e}async getProjectedBoundingBox(e,i,r,s,a){return a||(a={boundingBox:null,requiresDrapedElevation:!1,screenSpaceObjects:[]}),a.boundingBox?m(a.boundingBox):a.boundingBox=m(),a.requiresDrapedElevation=!1,await t(this.layers,(async t=>{if(null==t)return;const o=\"draped\"===t.type?i:e,l=x.acquire(),n=await t.getProjectedBoundingBox(o,r,a.screenSpaceObjects,s,l);isFinite(n[2])&&isFinite(n[5])||(a.requiresDrapedElevation=!0),n&&y(a.boundingBox,l),x.release(l)})),u(a.boundingBox)||g(d(a.boundingBox,v))?a:null}needsElevationUpdates(){for(const e of this.layers)if(null!=e&&(\"object3d\"===e.type||\"lod-instance\"===e.type)&&e.needsElevationUpdates)return!0;return this._labelLayers?.some((e=>e?.needsElevationUpdates??!1))??!1}alignWithElevation(e,t,i){this._forEachRenderedGraphic((r=>{\"object3d\"!==r.type&&\"lod-instance\"!==r.type||r.alignWithElevation(e,t,this._featureExpressionFeature,i)}))}alignWithAbsoluteElevation(e,t,i){this._forEachRenderedGraphic((r=>{\"object3d\"===r.type&&r.alignWithAbsoluteElevation(e,t,i)}))}addObjectStateSet(e){this._forEachSymbolLayerGraphic((t=>t.addObjectState(e)))}removeObjectState(e){this._forEachSymbolLayerGraphic((t=>t.removeObjectState(e)))}updateHighlights(e){this._forEachSymbolLayerGraphic((t=>t.updateHighlights(e)))}_forEachGraphicList(e,t){e?.forEach((e=>e&&t(e)))}_forEachSymbolLayerGraphic(e){this._forEachGraphicList(this.layers,e),this._calloutLayer&&e(this._calloutLayer)}_forEachLabelGraphic(e){this._forEachGraphicList(this.labelLayers,e)}_forEachRenderedGraphic(e){this._forEachSymbolLayerGraphic(e),this._forEachLabelGraphic(e)}get test(){}}export{A as Graphics3DGraphic};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nconst e=2216,o=4096;function r(r){return e+o*r.symbolLayers.length+r.complexity.memory.resourceBytes}export{r as getSymbolMemorySize};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{isSome as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import\"../../../../core/has.js\";import{onAbortOrThrow as r,throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{totalSymbolComplexities as o}from\"./defaultSymbolComplexity.js\";import{Graphics3DGraphic as a}from\"./Graphics3DGraphic.js\";import{Graphics3DObject3DGraphicLayer as i}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayerCreationContext as n}from\"./Graphics3DSymbolCreationContext.js\";import{ApplyRendererDiffResult as l,FastUpdateStatus as y}from\"./interfaces.js\";import{Loadable as h,LoadStatus as m}from\"./Loadable.js\";import{getSymbolMemorySize as c}from\"./symbolMemory.js\";class p extends h{set symbol(e){this._symbol=e,e.symbolLayers.forEach(((t,r)=>{const s=this.symbolLayers[r];null!=s&&(s.symbol=e,s.symbolLayer=t)}))}get symbol(){return this._symbol}constructor(e,t,r){super(t.schedule),this._symbol=e,this._context=t,this._backgroundLayers=r,this._destroyed=!1,this.symbolLayers=new Array,this.referenced=0,this._extentPadding=0}async doLoad(e){let o=this._symbol.symbolLayers;this._extentPadding=0,this._backgroundLayers&&(o=this._backgroundLayers.concat(o));const a=o.length;for(;this.symbolLayers.length<o.length;)this.symbolLayers.push(null);this.symbolLayers.length=o.length;const i=[];if(!u){const{make:e}=await import(\"./Graphics3DSymbolLayerFactory.js\");u=e}for(let t=0;t<a;t++){const s=o.at(t);if(!1===s.enabled)continue;d.renderPriority=1-(1+t)/a,d.renderPriorityStep=1/a,d.ignoreDrivers=s.ignoreDrivers;const n=u(this.symbol,s,this._context,d),l=r(e,(()=>{this.symbolLayers[t]=null,n.destroy()}));l&&i.push(l),this.symbolLayers[t]=n}if(await t(this.symbolLayers,(async(e,t)=>{if(null!=e)try{await e.load(),this._extentPadding+=Math.max(this._extentPadding,e.extentPadding)}catch{this.symbolLayers[t]=null}})),i.forEach((e=>e.remove())),s(e),this.symbolLayers.length&&!this.symbolLayers.some((e=>!!e)))throw new Error}getSymbolLayerSize(e){const t=this.symbolLayers[e];return null!=t?t.getCachedSize():null}get extentPadding(){return this._extentPadding}get symbologySnappingSupported(){return this.symbolLayers.some((e=>e?.queryForSnapping))}updateFocus(e,t){this.symbolLayers.forEach((r=>r?.updateFocus(e,t)))}createGraphics3DGraphic(e,t){const r=e.graphic,s=this.symbolLayers.map((t=>t?.createGraphics3DGraphic(e)??null)),o=this._context.arcade||this._context.featureExpressionInfoContext?.arcade?.modules||null;return new a(r,t||this,s,e.layer,o)}get complexity(){return o(this.symbolLayers.map((e=>null!=e?e.complexity:null)))}globalPropertyChanged(e,t){const r=this.symbolLayers.length;for(let s=0;s<r;s++){const r=this.symbolLayers[s],o=e=>{const t=e.layers[s];return t instanceof i?t:null};if(null!=r&&!r.globalPropertyChanged(e,t,o))return!1}return!0}applyRendererDiff(e,t){return this.loadStatus!==m.LOADED?l.RecreateSymbol:this.symbolLayers.reduce(((r,s)=>r!==l.RecreateSymbol&&null!=s?Math.min(r,s.applyRendererDiff(e,t)):r),l.FastUpdate)}prepareSymbolPatch(e){if(this.loadStatus===m.FAILED)return;if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;if(!t.symbolLayers||\"partial\"!==t.symbolLayers.type)return;const r=t.symbolLayers.diff;this.symbolLayers.forEach(((t,s)=>{if(null==t)return;const o=r[s];if(o){const r={diff:o,graphics3DGraphicPatches:[],symbolLayerStatePatches:[]};t.prepareSymbolLayerPatch(r),e.symbolStatePatches.push(...r.symbolLayerStatePatches),r.graphics3DGraphicPatches.length&&e.graphics3DGraphicPatches.push(((e,t)=>{const o=e.layers[s];null!=o&&r.graphics3DGraphicPatches.forEach((e=>e(o,t)))}))}}))}updateGeometry(e,t){return this._updateGeometryOrTransform(e,((e,r)=>e.updateGeometry(r,t)))}updateTransform(e,t,r,s){return this._updateGeometryOrTransform(e,((e,o)=>e.updateTransform(o,t,r,s)))}_updateGeometryOrTransform(e,t){for(let r=0;r<this.symbolLayers.length;r++){const s=this.symbolLayers[r];if(null==s)continue;const o=e.layers[r];if(!o||!t(s,o))return!1}return!0}onRemoveGraphic(e){for(let t=0;t<this.symbolLayers.length;t++){const r=this.symbolLayers[t];if(null==r)continue;const s=e.layers[t];null!=s&&r.onRemoveGraphic(s)}}getFastUpdateStatus(){let e=!1,t=!1;for(const r of this.symbolLayers)if(null!=r){if(r.loadStatus===m.LOADING)return y.Loading;r.isFastUpdatesEnabled()?t=!0:e=!0}return t?e?y.Mixed:y.Fast:e?y.Slow:y.Undefined}async queryForSnapping(t,r,o,a){const i=this.symbolLayers.filter(e).filter((e=>null!=e.queryForSnapping)).map((e=>e.queryForSnapping(t,r,o,a))),n=await Promise.all(i);return s(a),n.flat()}destroy(){if(!this.destroyed){super.destroy();for(const e of this.symbolLayers)null!=e&&e.destroy();this.symbolLayers.length=0,this._destroyed=!0}}get destroyed(){return this._destroyed}get cachedMemory(){return c(this)}}let u=null;const d=new n;export{p as Graphics3DSymbol};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{make as a}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import{LineCalloutSymbolLayerRenderingInfo as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";import{Graphics3DSymbol as e}from\"./Graphics3DSymbol.js\";class s extends e{constructor(r,o,t){super(r,o,t),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=a(this.symbol,o))}async doLoad(o){const a=this._calloutSymbolLayer?r(this._calloutSymbolLayer.load()):null;try{await super.doLoad(o),t(o)}catch(l){throw this._calloutSymbolLayer?.abortLoad(),l}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=o(this._calloutSymbolLayer)}createGraphics3DGraphic(r,o){const t=super.createGraphics3DGraphic(r,o);if(null!=this._calloutSymbolLayer&&null!=t){const o=this._createCalloutGraphic(r);o&&t.setCalloutGraphic(o)}return t}globalPropertyChanged(r,o){return!!super.globalPropertyChanged(r,o)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,o,(r=>r.calloutLayer)))}updateGeometry(r,o){const t=super.updateGeometry(r,o);if(t&&this._calloutSymbolLayer){const t=r.calloutLayer;if(t)return this._calloutSymbolLayer.updateGeometry(t,o)}return t}_createCalloutGraphic(r){const o=r.renderingInfo;return r.renderingInfo=new l(o.renderer,o.symbol),this._calloutSymbolLayer.createGraphics3DGraphic(r)}}export{s as Graphics3DPointSymbol};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{Graphics3DPointSymbol as o}from\"./Graphics3DPointSymbol.js\";import{Graphics3DSymbol as r}from\"./Graphics3DSymbol.js\";function t(t,i,n){return\"point-3d\"===t.type?new o(t,i,n):new r(t,i,n)}export{t as make};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{emptySymbolComplexity as t}from\"./defaultSymbolComplexity.js\";import{ApplyRendererDiffResult as r,FastUpdateStatus as s}from\"./interfaces.js\";import{Loadable as e}from\"./Loadable.js\";import{getSymbolMemorySize as i}from\"./symbolMemory.js\";class o extends e{constructor(t,r,s){super(r),this.symbol=t,this._convert=s,this.symbologySnappingSupported=!1,this.graphics3DSymbol=null,this.referenced=0}getSymbolLayerSize(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.getSymbolLayerSize(t):null}get symbolLayers(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.symbolLayers:[]}get extentPadding(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.extentPadding:0}async doLoad(t){const r=await this.symbol.fetchSymbol({signal:t});r.id=this.symbol.id,this.graphics3DSymbol=this._convert(r),null!=this.graphics3DSymbol&&await this.graphics3DSymbol.load()}createGraphics3DGraphic(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.createGraphics3DGraphic(t,this):null}get complexity(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.complexity:t}globalPropertyChanged(t,r){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.globalPropertyChanged(t,r)}applyRendererDiff(t,s){return null!=this.graphics3DSymbol?this.graphics3DSymbol.applyRendererDiff(t,s):r.RecreateSymbol}prepareSymbolPatch(t){null!=this.graphics3DSymbol&&this.graphics3DSymbol.prepareSymbolPatch(t)}updateGeometry(t,r){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.updateGeometry(t,r)}updateTransform(t,r,s,e){return this.graphics3DSymbol?.updateTransform(t,r,s,e)??!1}onRemoveGraphic(){}updateFocus(){}getFastUpdateStatus(){return this.graphics3DSymbol?.getFastUpdateStatus()??s.Loading}destroy(){null!=this.graphics3DSymbol&&this.graphics3DSymbol.destroy(),this.graphics3DSymbol=void 0,super.destroy()}get destroyed(){return void 0===this.graphics3DSymbol}get cachedMemory(){return i(this)}}export{o as Graphics3DWebStyleSymbol};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nclass s{constructor(s,i,t,h){this.total=s,this.visible=i,this.missing=t,this.pending=h}}export{s as GraphicsCorePerformanceInfo};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer?.objectIdField;i?(this._getGraphicId=t=>e(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach(((t,i)=>this.remove(i)))}add(t){const e=i((()=>this.remove(t)));if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=null!=a&&a.isVisible(),t.isDraped=null!=a&&a.isDraped,t.tracking=!0,null!=a&&t.emit(\"changed\"),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&(t(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t.graphic,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\")}))}removeGraphic(t){this._forEachState(t.graphic,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t.graphic,(t=>t.emit(\"changed\")))}updateGraphicVisibility(t){this._forEachState(t.graphic,(i=>i.displaying=t.isVisible()))}updateGraphicError(t,i){this._forEachState(t,(t=>t.error=i))}allGraphicsDeleted(){this._states.forEach((t=>t.displaying=!1))}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t),s=this._idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=s(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){null!=e&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);if(!t.extent)return;this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{empty as t}from\"../../../geometry/support/aaBoundingRect.js\";class e{constructor(e=\"scene\"){this.context=e,this.extent=t()}}export{e as ElevationUpdateEvent};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import o from\"../../../../core/Logger.js\";import{getMetersPerVerticalUnitForSR as s}from\"../../../../core/unitUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as a}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as c,toRect as d,expandWithVec3 as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{getMetersPerUnit as p}from\"../../../../symbols/support/unitConversionUtils.js\";import{ElevationUpdateEvent as h}from\"../../support/ElevationUpdateEvent.js\";import{Intersector as u}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as f}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{affectsGeometry as g}from\"../../webgl-engine/lib/VertexAttribute.js\";const _=1,v=Symbol(\"layerHandles\");let y=class extends(r.EventedMixin(t)){get spatialReference(){return this.view?.spatialReference}constructor(e){super(e),this._elevationOffset=0}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=new u(this.view.state.viewingMode),this._intersector.options.store=f.MIN;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this.addHandles([t.on([\"layerObjectAdded\",\"layerObjectRemoved\",\"transformationChanged\",\"shaderTransformationChanged\"],(e=>this._objectChanged(e))),t.on([\"geometryAdded\",\"geometryRemoved\"],(({object:e})=>this._objectChanged(e))),t.on(\"attributesChanged\",(({attribute:e,object:t})=>g(e)&&this._objectChanged(t)))],v)}dispose(){this.removeHandles(v)}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=s(this.layer.spatialReference),r=p(e.unit??\"meters\");this._elevationOffset=(e.offset??0)*r/t}else this._elevationOffset=0}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this._renderCoordsHelper.toRenderCoords(x,s,x))return o.getLogger(this).error(\"could not project point for elevation alignment\"),null;const i=this._elevationOffset,n=this._zmin+i,a=this._zmax+i;this._renderCoordsHelper.setAltitude(C,a,x),this._renderCoordsHelper.setAltitude(E,n,x);const l=e=>!!e.lastValidElevationBB;return this._intersector.reset(C,E,null),this._intersector.intersect(this._intersectLayers,null,_,null,l),this._intersector.results.min.getIntersectionPoint(x)?this._renderCoordsHelper.getAltitude(x):null}_objectChanged(e){const t=this.spatialReference;if(!e.lastValidElevationBB||!t)return;c(j);const r=e.lastValidElevationBB;r.isEmpty()||this._expandExtent(t,r.min,r.max,j);const{min:o,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,o,s,j),d(j,b.extent),this._zmin=Math.min(this._zmin,j[2]),this._zmax=Math.max(this._zmax,j[5]),b.spatialReference=t,this.emit(\"elevation-change\",b),a(r.min,o),a(r.max,s)}_computeLayerExtent(e,t){return c(j),null!=e&&t.objects.forEach((t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,j))),j}_expandExtent(e,t,r,o){for(let s=0;s<8;++s)x[0]=1&s?t[0]:r[0],x[1]=2&s?t[1]:r[1],x[2]=4&s?t[2]:r[2],this._renderCoordsHelper.fromRenderCoords(x,x,e),m(o,x);return o}};e([i({constructOnly:!0})],y.prototype,\"layer\",void 0),e([i({constructOnly:!0})],y.prototype,\"stageLayer\",void 0),e([i({constructOnly:!0})],y.prototype,\"view\",void 0),e([i()],y.prototype,\"spatialReference\",null),y=e([n(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],y);const j=c(),b=new h,x=l(),C=l(),E=l();export{y as StageLayerElevationProvider};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{create as l}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as n}from\"../../../geometry/projection/projectBuffer.js\";function m(l,m,u){if(null==l||null==u)return!1;let i=!0;return e[0]=null!=l.xmin?l.xmin:0,e[1]=null!=l.ymin?l.ymin:0,e[2]=null!=l.zmin?l.zmin:0,i=i&&n(e,l.spatialReference,0,m,u,0),e[0]=null!=l.xmax?l.xmax:0,e[1]=null!=l.ymax?l.ymax:0,e[2]=null!=l.zmax?l.zmax:0,i=i&&n(e,l.spatialReference,0,m,u,3),null==l.xmin&&(m[0]=-1/0),null==l.ymin&&(m[1]=-1/0),null==l.zmin&&(m[2]=-1/0),null==l.xmax&&(m[3]=1/0),null==l.ymax&&(m[4]=1/0),null==l.zmax&&(m[5]=1/0),i}function u(l,m,u){if(null==l||null==u)return!1;let i=!0;return e[0]=null!=l.xmin?l.xmin:0,e[1]=null!=l.ymin?l.ymin:0,e[2]=null!=l.zmin?l.zmin:0,i=i&&n(e,l.spatialReference,0,e,u,0),m[0]=e[0],m[1]=e[1],e[0]=null!=l.xmax?l.xmax:0,e[1]=null!=l.ymax?l.ymax:0,e[2]=null!=l.zmax?l.zmax:0,i=i&&n(e,l.spatialReference,0,e,u,0),m[2]=e[0],m[3]=e[1],null==l.xmin&&(m[0]=-1/0),null==l.ymin&&(m[1]=-1/0),null==l.xmax&&(m[2]=1/0),null==l.ymax&&(m[3]=1/0),i}const e=l();export{m as projectToBoundingBox,u as toBoundingRect};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{signal as s}from\"../../core/signal.js\";class e{constructor(){this._pendingCompressionTasks=s(0)}get compressing(){return!!this._pendingCompressionTasks.value}increment(){this._pendingCompressionTasks.value++}decrement(){this._pendingCompressionTasks.value--}}export{e as TextureCompressionTracker};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{isSome as i}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Error.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import a from\"../../../../core/Logger.js\";import{findInMap as n}from\"../../../../core/MapUtils.js\";import{abortMaybe as o,removeMaybe as l,destroyMaybe as h,disposeMaybe as d}from\"../../../../core/maybe.js\";import{MinPriority as p}from\"../../../../core/MemCache.js\";import c from\"../../../../core/PooledArray.js\";import{throwIfAborted as y,ignoreAbortErrors as g,createResolver as u,isAbortError as m}from\"../../../../core/promiseUtils.js\";import{when as b,watch as _,on as f,syncAndInitial as v,whenOnce as C}from\"../../../../core/reactiveUtils.js\";import{schedule as S}from\"../../../../core/scheduling.js\";import{property as G}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as w}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as x,isEmpty as P}from\"../../../../core/accessorSupport/diffUtils.js\";import{i as R,f as D,g as E}from\"../../../../chunks/vec32.js\";import{create as U}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import I from\"../../../../geometry/Extent.js\";import A from\"../../../../geometry/Point.js\";import{canProjectWithoutEngine as L}from\"../../../../geometry/projectionUtils.js\";import{projectBuffer as j}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as O}from\"../../../../geometry/projection/projectVectorToVector.js\";import{projectXYZToVector as V}from\"../../../../geometry/projection/projectXYZToVector.js\";import{center as F,create as T,fromRect as M,equals as k}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as z}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as W}from\"../../../../geometry/support/spatialReferenceUtils.js\";import H from\"../../../../layers/Layer.js\";import{getObjectId as N,computeAABB as B,hasGeometry as q}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as Y}from\"../../../../layers/graphics/hydratedFeatures.js\";import{PromiseQueue as Q}from\"../../../../layers/support/PromiseQueue.js\";import $ from\"../../../../renderers/UniqueValueRenderer.js\";import{isSupportedRenderer3D as Z,validateTo3D as J}from\"../../../../renderers/support/rendererConversion.js\";import{RenderingInfo as X}from\"../../../../renderers/support/RenderingInfo.js\";import{isBasemapLayerView as K}from\"../../../../support/basemapUtils.js\";import{loadArcade as ee}from\"../../../../support/loadArcade.js\";import te from\"../../../../symbols/LabelSymbol3D.js\";import ie from\"../../../../symbols/TextSymbol.js\";import re from\"../../../../symbols/WebStyleSymbol.js\";import{getDefaultSymbol3D as se}from\"../../../../symbols/support/defaults3D.js\";import{to3D as ae}from\"../../../../symbols/support/symbolConversion.js\";import{averageSymbolComplexities as ne,defaultSymbolComplexity as oe}from\"./defaultSymbolComplexity.js\";import{DisplayFeatureLimit as le}from\"./DisplayFeatureLimit.js\";import{ViewElevationProvider as he}from\"./ElevationQuery.js\";import{VisibilityGroup as de,VisibilityFlag as pe}from\"./enums.js\";import{extractExpressionInfo as ce,createContext as ye}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as ge}from\"./Graphics3DFeatureStore.js\";import{Graphics3DGraphicCreationContext as ue}from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as me}from\"./Graphics3DSymbolCreationContext.js\";import{make as be}from\"./Graphics3DSymbolFactory.js\";import{Graphics3DWebStyleSymbol as _e}from\"./Graphics3DWebStyleSymbol.js\";import{GraphicsCorePerformanceInfo as fe}from\"./GraphicsCorePerformanceInfo.js\";import{GraphicStateTracking as ve}from\"./GraphicStateTracking.js\";import{computeCentroid as Ce}from\"./graphicUtils.js\";import{FastUpdateStatus as Se,ApplyRendererDiffResult as Ge}from\"./interfaces.js\";import{LoadStatus as we}from\"./Loadable.js\";import{SpatialIndex2D as xe}from\"./SpatialIndex2D.js\";import{StageLayerElevationProvider as Pe}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as Re}from\"../../support/extentUtils.js\";import{GridLocalOriginFactory as De}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{UpdatePolicy as Ee}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{affectsGeometry as Ue}from\"../../webgl-engine/lib/VertexAttribute.js\";import{WebGLLayer as Ie}from\"../../webgl-engine/lib/WebGLLayer.js\";import{hasPopupTemplate as Ae}from\"../../../layers/support/popupUtils.js\";import{PropertiesPool as Le}from\"../../../support/PropertiesPool.js\";import{ImmediateTask as je,noBudget as Oe,TaskPriority as Ve}from\"../../../support/Scheduler.js\";import{TextureCompressionTracker as Fe}from\"../../../support/TextureCompressionTracker.js\";import{Yield as Te}from\"../../../support/Yield.js\";import{alphaCutoff as Me}from\"../../../../webscene/support/AlphaCutoff.js\";var ke;const ze=U(),We=T();let He=class extends t{static{ke=this}static{this.tmpVec=U()}get _viewSpatialReference(){return this.owner.view.spatialReference}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new xe({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:!!this.hasZ,hasM:!!this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get deconflictor(){return this._deconflictor}get labeler(){return this._labeler}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return null!=this.currentRenderer&&\"dictionary\"===this.currentRenderer.type?Ee.ASYNC:this._forcedUpdatePolicy??this.preferredUpdatePolicy}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this.dataUpdating||this._elevationAlignment?.updating||this._scaleVisibility?.updating||this._filterVisibility?.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._frameTaskHandle.updating||this._updateQueue.updating||this.running)}get dataUpdating(){return!!(this._graphicsWaitingForSymbol.size>0||this._pendingUpdates.size>0||this._spatialIndex?.updating||this._updatingPendingLoadedGraphicsChange||this._dataUpdateQueue.updating||this._loadingSymbols>0||this.compressionTracker.compressing)}get running(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating||this._dataUpdateQueue.running||this._updateQueue.running}get suspendedOrOutsideOfView(){return this.owner.suspended||!!this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,t=e?.graphics3D.minTotalNumberOfFeatures??0,i=e?.graphics3D.maxTotalNumberOfFeatures??0,r=e?.graphics3D.maxNumberOfDrawCalls??0,s=e?.graphics3D.maxTotalNumberOfVertices??0,a=this.averageSymbolComplexity,n=Math.max(1,a?.verticesPerFeature??1),o=a&&a.drawCallsPerFeature>0&&r>0?r/a.drawCallsPerFeature:i,l=Math.ceil(s/n),h=Math.max(t,Math.min(i,l,o)),d=this._get(\"displayFeatureLimit\");return d&&d.maximumTotalNumberOfVertices===s&&d.averageSymbolComplexity===a&&d.maximumNumberOfFeatures===h?d:new le(s,h,a)}get averageSymbolComplexity(){const e=ne(this._symbolComplexities),t=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||null!=t&&(e.estimated&&(t.verticesPerFeature>=e.verticesPerFeature||t.verticesPerCoordinate>=e.verticesPerCoordinate||t.drawCallsPerFeature>=e.drawCallsPerFeature)||t.verticesPerFeature===e.verticesPerFeature&&t.verticesPerCoordinate===e.verticesPerCoordinate&&t.drawCallsPerFeature===e.drawCallsPerFeature)?t:e}get usedMemory(){const e=this.labelsEnabled?(this.averageSymbolComplexity?.memory.bytesPerFeatureLabel??0)*this._numberOfGraphics:0,t=this._getSymbolComplexitiesUsed().reduce(((e,t)=>e+t.memory.resourceBytes),0);if(null==this._symbolMaterials){this._symbolMaterials=[];for(const e of this._symbols.values())if(null!=e)for(const t of e.symbolLayers)if(t)for(const e of t.materials)e&&this._symbolMaterials.push(e)}const i=this.owner.view.stage.renderer,r=this.owner.view.basemapTerrain.overlayManager.renderer,s=this._symbolMaterials.reduce(((e,t)=>e+((i.getMaterialRenderer(t)||r.getMaterialRenderer(t))?.usedMemory??0)),0);return this._usedMemory+e+t+s}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics){const e=this._numberOfGraphics/(this._numberOfGraphics+Math.max(this._pendingAdds,this._pendingRemoves));return this._usedMemory/this._numberOfGraphics*e}if(null!=this.averageSymbolComplexity){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}get visible(){return this._visible}_getConvertedSymbol(e){const t=e;if(\"web-style\"===t.type)return t.clone();const i=this._symbolConversionCache.get(t.id);if(null!=i)return i;const r=ae(t,{geometryType:this.layer?.geometryType??void 0,retainId:!0,hasLabelingContext:this._hasLabelingContext(t),cimFallbackEnabled:!0}),s=r.symbol||null;return null==s&&r.error&&a.getLogger(this).error(r.error.message),this._symbolConversionCache.set(t.id,s),s}_getSymbolComplexitiesUsedOrRenderer(e){if(null==e)return[];const t=e.symbols,i=\"backgroundFillSymbol\"in e?e.backgroundFillSymbol:null;if(!i&&!t.length)return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(i);null!=s&&r.push(s);for(const a of t){const e=this._getSymbolComplexityUsedOrRenderer(a);null!=e&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(null==e)return null;const t=this._symbols.get(e.id);if(null!=t)return t.complexity;const i=this._getConvertedSymbol(e);return null!=i?oe(i):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach((t=>{null!=t&&e.push(t.complexity)})),e}get _objectIdField(){return this.layer.objectIdField}constructor(e){super(e),this._propertiesPool=new Le({computedExtent:I},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._frameTaskHandle=je,this._dataUpdateQueue=new Q,this._updateQueue=new Q,this._suspendSymbolCleanup=!1,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._elevationAlignment=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._sharedSymbolResourcesOwnerHandle=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this._loadingSymbols=0,this._pendingUpdatesPool=new c({allocator:e=>e||new Be,deallocator:e=>(e.clear(),e)}),this.compressionTracker=new Fe,this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new c,this.preferredUpdatePolicy=Ee.SYNC,this._forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=!1,this._startCreateGraphics=!1,this._unusedSymbolsCache=e.owner.view.resourceController.memoryController.newCache(\"graphics-3d-unused-symbols\",(e=>e.destroy())),this.symbolCreationContext=new me(e.owner.view.resourceController.scheduler,((e,t)=>this._updateQueue.push(e,t)),e.owner.layerViewUid,this.compressionTracker)}initialize(){this._featureStore=new ge({objectIdField:this.owner.layer?.objectIdField,hasZ:!!this.hasZ,hasM:!!this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e)});const e=(e,t,i)=>this.spatialIndex.queryGraphicUIDsInExtent(e,t,i),{componentFactories:t}=this;this._elevationAlignment=t.elevationAlignment?.(this,e),this._scaleVisibility=t.scaleVisibility?.(this,e),this._filterVisibility=t.filterVisibility?.({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities((t=>t.setVisibilityFlag(de.GRAPHIC,pe.FILTER,e(N(t.graphic,this._objectIdField))))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities((t=>t.setVisibilityFlag(de.GRAPHIC,pe.FILTER,e))),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(de.GRAPHIC,pe.FILTER,!0)))}),this._deconflictor=t.deconflictor?.(this),this._labeler=t.labeler?.(this,this._scaleVisibility),this._objectStates=t.objectStates?.(this),this._initializeAbortController=new AbortController,this.addHandles(b((()=>this.owner.view.state.highlights),(()=>{const{highlightOrderMap:e}=this.owner.view.state;this.graphics3DGraphics.forEach((t=>t.updateHighlights(e)))}))),this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController?.signal,t=this.owner.view;this._viewElevationProvider=new he(this._viewSpatialReference,t),this._initializeStage(t,this.owner.layerViewUid);const i=t.sharedSymbolResources;this.symbolCreationContext.sharedResources=i,this._sharedSymbolResourcesOwnerHandle=i.addGraphicsOwner(this.owner),null!=this.currentRenderer&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=t.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new De(t.renderSpatialReference),this.symbolCreationContext.elevationProvider=t.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=ce(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await ye(r,this._viewSpatialReference,e,a.getLogger(this)),y(e),this.symbolCreationContext.screenSizePerspectiveEnabled=t.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=t.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this.addHandles(s((()=>t.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this.addHandles([_((()=>this.suspendedOrOutsideOfView),(()=>this._updateQueue.unshift((()=>this._updateLayerVisibility()),null).catch(g))),_((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view?.screenSizePerspectiveEnabled]),(()=>{const e=t.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),_((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),_((()=>this.owner.view.state?.rasterPixelRatio),(()=>this._pixelRatioChange())),_((()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),_((()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods),(e=>this._skipHighSymbolLoDsChange(e))),_((()=>this.owner.view.focusAreasView?.polygons),(()=>this._updateFocusedLabels())),_((()=>this.owner.view.map?.focusAreas.style),(()=>this.recreateAllGraphicsAndSymbols())),b((()=>t.basemapTerrain?.tilingScheme),(e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||null==t.basemapTerrain.spatialReference||(this.symbolCreationContext.overlaySR=t.basemapTerrain.spatialReference),this.hasHandles(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this.addHandles([f(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),_((()=>this.effectiveUpdatePolicy),(e=>{null!=this.stageLayer&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===Ee.ASYNC,e===Ee.SYNC&&this.runTask(Oe)}),v)]),this._frameTaskHandle=t.resourceController.scheduler.registerTask(Ve.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this.addHandles(_((()=>this.layer.featureReduction),(()=>this._deconflictor?.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch((()=>{})),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController=o(this._initializeAbortController)}_updateFocusedLabels(){this.forEachGraphics3DSymbol(((e,t)=>{t&&e.updateFocus((({graphic:e})=>this.recreateGraphics([e])),t)}))}destroy(){this._unusedSymbolsCache.destroy(),this._abortInitialize(),this._rendererChangeAbortController=o(this._rendererChangeAbortController),this._abortElevationInfoChange(),this._frameTaskHandle.remove(),this._frameTaskHandle=je,this._dataUpdateQueue.cancelAll(),this._updateQueue.cancelAll(),this._deconflictor=l(this._deconflictor),this._labeler=l(this._labeler),this._elevationAlignment=h(this._elevationAlignment),this._scaleVisibility=h(this._scaleVisibility),this._filterVisibility=h(this._filterVisibility),this._objectStates=h(this._objectStates),this.clear(),this._featureStore=h(this._featureStore),this._updatingPendingLoadedGraphicsChange=l(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=h(this._graphicStateTracking),this.stage&&(this.stageLayer=h(this.stageLayer),this.stage=null),this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new r(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._sharedSymbolResourcesOwnerHandle=l(this._sharedSymbolResourcesOwnerHandle),this._propertiesPool=h(this._propertiesPool),this._pendingUpdatesPool=null,this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=h(this._spatialIndex)}clear(){this._objectStates?.allGraphicsDeleted(),null!=this._graphicStateTracking&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(h),this._symbols.clear(),this._symbolMaterials=null,this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingUpdatesPool.clear(),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this.notifyChange(\"dataUpdating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}_initializeStage(e,t){this.stage=e.stage,this.stageLayer=new Ie(this.stage,{visible:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},t);const i=this.stageLayer.events;i.on(\"transformationChanged\",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),i.on(\"shaderTransformationChanged\",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),i.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.graphicUid))),i.on(\"geometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),i.on(\"geometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),i.on(\"attributesChanged\",(e=>Ue(e.attribute)&&this.notifyGraphicGeometryChanged(e.object.graphicUid)))}notifyGraphicGeometryChanged(e){if(null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicGeometry(t)}notifyGraphicVisibilityChanged(e){if(null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicVisibility(t)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,t=this._numberOfGraphics>e*qe,i=!this.suspendedOrOutsideOfView&&!t;i!==this._visible&&(this._visible=i,this._updateStageLayerVisibility())}_updateStageLayerVisibility(){const e=this._visible&&(null==this.layer.opacity||this.layer.opacity>=Me);this.stageLayer.visible!==e&&(this.stageLayer.visible=e,e?this.updateGraphicsVisibilities():this._hideAllGraphics(),this.owner.notifyContentGeometryUpdate?.())}getGraphics3DGraphicById(e){return null!=e?this.graphics3DGraphics.get(e):void 0}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,t=this.owner.layer?.objectIdField){return N(e,t)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer?.objectIdField;if(!e)return;const t=new Map;return this.graphics3DGraphics.forEach((i=>{if(!i)return;const r=i.graphic,s=this._getGraphicObjectID(r,e);null!=s&&t.set(s,i)})),t}get labelsEnabled(){return!!this._labeler?.layerLabelsEnabled()}async updateLabelingInfo(e){const t=this._deconflictor?.labelingInfoChange(e),i=this._labeler?.labelingInfoChange(e);await Promise.allSettled([t,i])}updateVisibilityInfo(){this._deconflictor?.labelingInfoChange(),this._labeler?.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=!1,t=!1;for(const[i,r]of this._symbols)if(null!=r){switch(r.getFastUpdateStatus()){case Se.Loading:return\"unknown\";case Se.Fast:this._graphicsBySymbol.has(i)&&(t=!0);break;case Se.Slow:this._graphicsBySymbol.has(i)&&(e=!0);break;case Se.Mixed:this._graphicsBySymbol.has(i)&&(t=e=!0);case Se.Undefined:}}return t?e?\"mixed\":\"fast\":e?\"slow\":\"mixed\"}runTask(e){if(this._dataUpdateQueue.runTask(e),this._updateQueue.runTask(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"dataUpdating\"),this.notifyChange(\"updatingRemaining\"),!e.hasProgressed)return Te}setObjectIdVisibility(e,t){t?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const i=this._findGraphics3DGraphicByObjectId(e);null!=i&&this._updateUserVisibility(i)}_findGraphics3DGraphicByObjectId(e){return n(this.graphics3DGraphics,(t=>this._getGraphicObjectID(t.graphic)===e))}_updateUserVisibility(e){if(null==e)return!1;const t=e.graphic,i=this._getGraphicObjectID(t),r=t.visible&&!this.owner.suspended&&this.stageLayer.visible&&(null==i||!this._objectIdInvisibleSet.has(i));return e.setVisibilityFlag(de.GRAPHIC,pe.USER,r)}_whenGraphics3DGraphic(e){const t=this.graphics3DGraphics.get(e.uid);if(t)return Promise.resolve(t);const i=this._whenGraphics3DGraphicRequests[e.uid];if(i)return i.promise;const r=u();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,t){const i=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,t,s)=>j(e,r,t,e,i,t,s),n=(e,t,r)=>j(e,s,t,e,i,t,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:null!=t&&!!t.useViewElevation,minDemResolution:null!=t?t.minDemResolution:null,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,t?.signal);if(!l)return null;const h=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){F(h,ze);const t=e.getElevation(ze[0],ze[1],0,i,\"ground\")??0;h[2]=Math.min(h[2],t),h[5]=Math.max(h[5],t)}}return{boundingBox:h,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,t){await C((()=>this.owner?.loadedGraphics));const i=this.owner.layer?.objectIdField,s=this.owner.loadedGraphics.find((t=>t===e||null!=i&&null!=t.attributes&&e.attributes&&t.attributes[i]===e.attributes[i]));if(!s)throw new r(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,t)}computeAttachmentOrigin(e,t){const i=this.graphics3DGraphics.get(e.uid);if(!i)return null;const r=i.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;R(Ye,0,0,0);let s=0;if(r.render.num>0){if(!O(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Qe,t))return null;D(Ye,Ye,Qe),s++}if(r.draped.num>0){const[e,i]=r.draped.origin,a=this._viewElevationProvider.getElevation(e,i,\"ground\")??0;if(R(Qe,e,i,a),!O(Qe,this._viewElevationProvider.spatialReference,Qe,t))return null;D(Ye,Ye,Qe),s++}return s>1&&E(Ye,Ye,1/s),new A({x:Ye[0],y:Ye[1],z:Ye[2],spatialReference:t})}getSymbolLayerSize(e,t){const i=this._symbols.get(e.id);if(null==i)throw new r(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(t);if(-1===s)throw new r(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=i.getSymbolLayerSize(s);if(null==a)throw new r(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const t=e.graphic.uid,i=this.graphics3DGraphics.get(t);if(null!=i||null!=this._graphicsWithoutSymbol.get(t)){switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(i);break;case\"geometry\":this._graphicUpdateGeometryHandler(i,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(i,e);break;case\"attributes\":case\"popupTemplate\":break;case\"origin-transform\":this._graphicUpdateTransformHandler(i,e)}this.owner.notifyContentGeometryUpdate?.()}}_graphicUpdateGeometryHandler(e,t){this._graphicUpdateGeometryOrTransformHandler(e,t,(()=>!(null==t.newValue||null==e||!e.graphics3DSymbol.updateGeometry(e,t.newValue)||!(this._labeler?.updateGraphicGeometry(e)??1))&&(this._labeler?.setDirty(),!0)));const i=t.graphic.geometry;null!=i&&this._expandComputedExtent(i)}_graphicUpdateTransformHandler(e,t){const i=t.graphic.geometry;this._graphicUpdateGeometryOrTransformHandler(e,t,(()=>null!=t.newValue&&null!=e&&null!=i&&e.graphics3DSymbol.updateTransform(e,i.spatialReference,t.newValue,t.action)))}_graphicUpdateGeometryOrTransformHandler(e,t,i){if(null!=t.graphic.geometry)if(null!=e)i()||this._recreateGraphic(e.graphic);else{const e=t.graphic.symbol?.id;if(e){const t=this._symbols.get(e);if(null!=t&&t.loadStatus===we.LOADING)return}this._recreateGraphic(t.graphic)}else this._recreateGraphic(t.graphic)}_graphicUpdateSymbolHandler(e,t){const i=t.graphic,r=null!=e?e.graphics3DSymbol:null!=t.oldValue?this._symbols.get(t.oldValue.id):null;if(null==r||null==t.newValue)return void this._recreateGraphic(i);const s=r.symbol,a=this._getConvertedSymbol(t.newValue);if(null!=a&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(i);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(i);const o=x(s,a);if(null==o)return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!P(l.diff))return void this._recreateGraphic(i);const h=this._getRenderingInfo(i,!1);if(null==h)return void this._recreateGraphic(i);const d=r.extentPadding;for(const p of l.symbolStatePatches)p();if(d!==r.extentPadding&&this._recomputeExtentPadding(),null!=e)for(const p of l.graphics3DGraphicPatches)p(e,h);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===Ee.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const t=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,t),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"dataUpdating\"),t}_endGraphicUpdate(e,t){e&&(t&&this._graphicStateTracking?.updateGraphicError(e,t),this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach((t=>{null!=t&&(e=Math.max(e,t.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const t=We,i=e.spatialReference;B(e,t);const r=this._viewSpatialReference,s=ke.tmpVec;if(W(i,r)||V(t[0],t[1],0,i,s,r)&&(t[0]=s[0],t[1]=s[1],V(t[3],t[4],0,i,s,r),t[3]=s[0],t[4]=s[1]),!(isFinite(t[0])&&isFinite(t[3])&&isFinite(t[1])&&isFinite(t[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(t[2])&&isFinite(t[5]),l=o&&(null==a?.zmin||t[2]<a.zmin),h=o&&(null==a?.zmax||t[5]>a.zmax);if(a){(t[0]<a.xmin||t[1]<a.ymin||t[3]>a.xmax||t[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(t[0],a.xmin),n.ymin=Math.min(t[1],a.ymin),n.xmax=Math.max(t[3],a.xmax),n.ymax=Math.max(t[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=t[0],n.ymin=t[1],n.xmax=t[3],n.ymax=t[4],n.spatialReference=r;n&&(l&&(n.zmin=t[2]),h&&(n.zmax=t[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const t=ce(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await ye(t,this._viewSpatialReference,e.signal,a.getLogger(this)),y(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"elevationInfo\",t)?t?.forEach((e=>{const t=e.graphic,i=e.labelLayers;for(const r of i){r.graphics3DSymbolLayer.updateGraphicElevationContext(t,r)}})):this._recreateSymbol(i)})),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=d(this._stageLayerElevationProvider)):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new Pe({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),null!=this._filterVisibility&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=d(this._stageLayerElevationProvider))}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:t,view:i}=this.owner,r=i.basemapTerrain?.tilingScheme&&t?.length?t.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const t=this._graphicsBySymbol.get(e),i=[];t&&(t.forEach(((e,t)=>{const r=e.usedMemory;this._conditionalRemove(e,t),this._spatialIndex?.remove(e),i.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(t,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()})),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);h(r),this._symbols.delete(e),this._symbolMaterials=null,h(this._unusedSymbolsCache.pop(e)),this.add(i)}_recreateGraphicsForSymbol(e){const t=this._graphicsBySymbol.get(e);if(t){const e=[];t.forEach((t=>e.push(t.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,t){this._graphicsDrapedUids.delete(t),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),null!=this._graphicStateTracking&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain?.tilingScheme?(this._updatePolicyForGraphics(e)===Ee.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"dataUpdating\")):a.getLogger(this).error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===Ee.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const t of e)if(null!=t.geometry&&\"mesh\"===t.geometry.type&&!t.geometry.loaded)return Ee.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const t of e)this._addGraphic(t,this._getRenderingInfo(t),Ee.SYNC);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_addDelayed(e){for(const t of e){const e=t.uid;let i=this._pendingUpdates.get(e);i?i.add?i.state!==Ne.NEW&&i.abortController?.abort():this._pendingAdds++:(i=this._pendingUpdatesPool.pushNew(),this._pendingAdds++,this._pendingUpdates.set(e,i)),i.add=t}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}remove(e){this.effectiveUpdatePolicy===Ee.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"dataUpdating\")}_removeImmediate(e){for(const t of e)this._removeGraphic(t);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_removeDelayed(e){for(const t of e){const e=t.uid,i=this._pendingUpdates.get(e);if(i)i.add&&(i.remove?i.add=null:this._pendingUpdates.delete(e),i.state===Ne.LOADING&&i.abortController?.abort(),this._pendingAdds--);else{const i=this._pendingUpdatesPool.pushNew();i.remove=t,this._pendingUpdates.set(e,i),this._pendingRemoves++,this._applyPendingRemovesFirst=!0}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}_finishPendingUpdates(){this._pendingUpdatesPool.clear(),this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&a.getLogger(this).warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)return this._spatialIndex.update(),void e.madeProgress();if(this._applyPendingRemovesFirst){this._applyPendingRemovesFirst=!1;for(const[t,i]of this._pendingUpdates){if(e.done){this._applyPendingRemovesFirst=!0;break}if(i.remove&&!i.add&&(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,this._pendingUpdates.delete(t),0===this._pendingRemoves))break}}for(const[t,i]of this._pendingUpdates){if(e.done)break;i.add&&i.state===Ne.NEW&&this._processPendingUpdateNew(i);let r=this.effectiveUpdatePolicy;if(!i.remove||i.add&&i.state!==Ne.READY||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,r=Ee.SYNC),i.add)switch(i.state){case Ne.READY:this._addGraphic(i.add,i.renderingInfo,r),i.add=null,this._pendingAdds--,e.madeProgress();break;case Ne.REJECTED:i.add=null,this._pendingAdds--;case Ne.LOADING:}null==i.remove&&null==i.add&&this._pendingUpdates.delete(t)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"dataUpdating\"))}_processPendingUpdateNew(e){if(!e.add)return void(e.state=Ne.READY);const t=e.add.geometry;null==t||\"mesh\"!==t.type||t.loaded?this._processPendingUpdateNewRenderingInfo(e):this._processPendingUpdateNewMesh(e,t)}async _processPendingUpdateNewMesh(e,t){e.state=Ne.LOADING,e.abortController=new AbortController;const i=e.abortController.signal;try{await t.load({signal:i})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,t){e.abortController=null,m(t)?e.state=Ne.NEW:e.state=Ne.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(null==this.layer.renderer||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add),void(e.state=Ne.READY);e.state=Ne.LOADING,e.abortController=new AbortController;let t=null;try{t=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(i){return e.abortController=null,void(m(i)?e.state=Ne.NEW:e.state=Ne.REJECTED)}null==t?.symbol?(this._symbolWarningLogged||(this._symbolWarningLogged=!0,a.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=t,e.state=Ne.READY}_addGraphic(e,t,i){if(this._graphicsWithoutSymbol.set(e.uid,e),null==t?.symbol||!q(e))return;const r=this.stage.renderView.olidRenderHelper;if(r&&this.setUidToIdOnAdd){const t=K(this.owner.view,this.owner.layerViewUid);r.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.owner.layerViewUid,!!this.layer.popupEnabled&&!t&&Ae(this.layer,this.owner.view.popup?.defaultPopupTemplateEnabled))}const s=t.symbol,a=this.getOrCreateGraphics3DSymbol(s,t.renderer);if(null==a)return;this._expandComputedExtent(e.geometry);const n=this._beginGraphicUpdate(e),o=new ue(e,t,this.layer);let l=!1;const h=e=>{e===a.symbol.id&&(l=!0)};this._whenSymbolRemoved.push(h);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(h);if(this._graphicsWaitingForSymbol.get(e.uid)!==n||l||a.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==a.symbol.id)--a.referenced,this._cleanupSymbols();else{const t=this._createGraphics3DGraphic(a,o);this._spatialIndex&&null!=t&&this._spatialIndex.add(t),--a.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.(),this._labeler?.setDirty()},p=t=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(h),l||(m(t)?this.add([e]):a.destroyed||this._endGraphicUpdate(e,t)))};++this._loadingSymbols,i===Ee.ASYNC?a.load((()=>this._dataUpdateQueue.push(d,null).catch(g)),(e=>this._dataUpdateQueue.push((()=>p(e)),null).catch(g))):a.load(d,p)}_removeGraphic(e){const t=e.uid,i=this.graphics3DGraphics.get(t);if(i){i.graphics3DSymbol.onRemoveGraphic(i);const e=i.usedMemory,r=i.isElevationSource;this._conditionalRemove(i,t),this._spatialIndex?.remove(i);const s=i.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s)?.delete(t),this._graphicsWithoutSymbol.delete(t),this._removeGraphics3DGraphic(t,e,r),i.destroy(),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}else this._graphicsWithoutSymbol.delete(t),this._graphicsWaitingForSymbol.delete(t),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\"))}_hasLabelingContext(e){if(e instanceof te||e instanceof ie){const t=this.symbolCreationContext.layer;return!!t.labelingInfo&&t.labelingInfo.some((t=>t.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof te&&!this._hasLabelingContext(e))||(a.getLogger(this).error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,t=!0){const i=e.geometry;if(null==i)return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,a.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!L(i.spatialReference,this._viewSpatialReference))return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,a.getLogger(this).warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,a.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?Y(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||null!=this.currentRenderer))s=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{const e=r.symbol||se(r.geometry);s=new X(null,e)}return null==s?.symbol?(t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,a.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,t){if(null==e.geometry)return this._geometryWarningLogged||(this._geometryWarningLogged=!0,a.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return this._symbolWarningLogged||(this._symbolWarningLogged=!0,a.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const i=this.rendererHasGeometryOperations?Y(e,this.layer):e;return this.owner.getRenderingInfoAsync(i,this.currentRenderer,this._arcadeOnDemand,t)}_createGraphics3DSymbol(e,t){if(!this._hasValidSymbolCreationContext(e))return null;const i=this._getConvertedSymbol(e);if(!i)return null;let r;if(null!=t&&\"backgroundFillSymbol\"in t&&t.backgroundFillSymbol){const e=ae(t.backgroundFillSymbol,{ignoreDrivers:!0});null!=e.symbol&&(r=e.symbol.symbolLayers)}const s=be(i,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,t){let i=this._symbols.get(e.id);if(void 0===i){const r=this._unusedSymbolsCache.pop(e.id);i=null!=r?r:e instanceof re?new _e(e,(e=>this._dataUpdateQueue.push(e,null)),(e=>this._createGraphics3DSymbol(e,t))):this._createGraphics3DSymbol(e,t),this._symbols.set(e.id,i),this._symbolMaterials=null}return null!=i&&++i.referenced,i}trackGraphicState(e){return null==this._graphicStateTracking&&(this._graphicStateTracking=new ve(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,t,i=!1){this._usedMemory-=t,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,i&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,t){const i=t.graphic;if(this._graphicsWithoutSymbol.delete(i.uid),!this._symbols.has(e.symbol.id))return this.add([i]),null;if(this.graphics3DGraphics.has(i.uid))return null;const r=e.createGraphics3DGraphic(t);if(null==r)return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(i.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(i.uid),r.centroid=null,null!=i.geometry&&\"point\"!==i.geometry.type&&(r.centroid=Ce(i.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(r),null!=this._filterVisibility){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(de.GRAPHIC,pe.FILTER,e),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),r.initialize(this.stageLayer),null!=this._graphicStateTracking&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[i.uid];return a&&(delete this._whenGraphics3DGraphicRequests[i.uid],a.resolve(r)),this._symbolMaterials=null,r}async rendererChange(e){if(this._rendererChangeAbortController=o(this._rendererChangeAbortController),e!==this.currentRenderer)if(this._validateRenderer(e),null==e&&this._currentRendererChange(null,!1),Z(e))if(e?.arcadeRequired){const t=new AbortController;this._rendererChangeAbortController=t;const{arcadeUtils:i}=await this._ensureArcade();y(t);const r=i.hasGeometryOperations(e);r&&(await i.enableGeometryOperations(),y(t)),this.effectiveUpdatePolicy===Ee.ASYNC?await this._updateQueue.push((()=>this._currentRendererChange(e,r)),t.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===Ee.ASYNC){const t=new AbortController;this._rendererChangeAbortController=t,await this._updateQueue.push((()=>this._currentRendererChange(e,!1)),t.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return null==this._arcadeOnDemand?(this._arcadeOnDemand=await ee(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,t){this.currentRenderer=e,this.rendererHasGeometryOperations=t,this.symbolCreationContext.arcade=this._arcadeOnDemand;const i=this.symbolCreationContext.renderer;if(e===i)return;if(this._symbolConversionCache.clear(),this._unusedSymbolsCache.clear(),null==e)return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=x(i,e);this._updateUnchangedSymbolMappings(r,e,i),this.symbolCreationContext.renderer=e,null!=r&&(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,i)?this._labeler?.reset():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const t in e.diff)switch(t){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[t];break;default:return!0}return!1}_applySymbolSetDiff(e,t,i){e=e||[],t=t||[];const r=[];for(const s of t){const t=this._graphicsBySymbol.get(s.id);t&&t.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof H?this.layer:null,h=this._arcadeOnDemand;if(s===i.defaultSymbol&&i.getSymbol(Y(o,l),{arcade:h})===i.defaultSymbol)return;const d=a.usedMemory;e.length||i.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),t.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach((e=>r.push(e))),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_applyUniqueValueRendererDiff(e,t,r){const s=e.diff.defaultSymbol,a=e.diff.uniqueValueInfos;if(s||a){const n=a?.changed,o=a?.unchanged;if(n&&o&&n.some((e=>o.some((t=>t.oldValue.symbol?.id===e.oldValue.symbol?.id)))))return!1;const l=a?a.added.map((e=>e.symbol)).filter(i):[],h=a?a.removed.map((e=>e.symbol)).filter(i):[];if(n)for(let e=0;e<n.length;e++)l.push(n[e].newValue.symbol),h.push(n[e].oldValue.symbol);return s?(r.defaultSymbol&&h.push(r.defaultSymbol),t.defaultSymbol&&l.push(t.defaultSymbol)):r.defaultSymbol&&l.length&&h.push(t.defaultSymbol),this._applySymbolSetDiff(l,h,t),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,t,i){if(\"unique-value\"!==t?.type||\"unique-value\"!==i?.type||null!=e&&\"partial\"!==e.type)return[];const r=e=>null!=e?e.id:null,s=e&&e.diff,a=s?.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of i.uniqueValueInfos??[]){const i=r(e.symbol),s=t.uniqueValueInfos?.find((t=>t.value===e.value));s&&i!==r(s.symbol)&&o.push({oldId:i,newId:r(s.symbol)})}}return!a&&i.defaultSymbol&&o.push({oldId:r(i.defaultSymbol),newId:r(t.defaultSymbol)}),o}_updateSymbolMapping(e,t){const i=null!=t&&t?\"string\"==typeof t?t:t.id:null;if(null==e||e===i)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(i,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(i,s),this._symbolMaterials=null,null!=s)){const e=\"string\"==typeof t?null:t;null!=e?s.symbol=e:s.symbol.id=i}}_updateUnchangedSymbolMappings(e,t,i){const r=this._calculateUnchangedSymbolMapping(e,t,i);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,i){if(this._diffHasSymbolChange(e))return!1;if(t instanceof $&&i instanceof $&&this._applyUniqueValueRendererDiff(e,t,i)&&0===Object.keys(e.diff).length)return!0;for(const r of this._graphicsBySymbol.keys()){const i=this._symbols.get(r);if(null!=i)switch(i.applyRendererDiff(e,t)){case Ge.RecreateSymbol:this._recreateSymbol(r);break;case Ge.RecreateGraphics:this._recreateGraphicsForSymbol(r);case Ge.FastUpdate:}}return!0}opacityChange(){this._updateStageLayerVisibility(),this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"opacity\",t)))}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.sliceable=e,this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"slicePlaneEnabled\",t))),this._deconflictor?.slicePlaneEnabledChange(),this._labeler?.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",t)||this._recreateSymbol(i)}))}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"skipHighSymbolLods\",t)||this._recreateSymbol(i)}))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"pixelRatio\",t)||this._recreateSymbol(i)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=S((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,t){const i=this.symbolCreationContext.clippingExtent,r=z();return Re(e,r,t)?this.symbolCreationContext.clippingExtent=M(T(),r):this.symbolCreationContext.clippingExtent=null,!k(this.symbolCreationContext.clippingExtent,i)}modifyGraphics3DGraphicVisibilities(e){if(this.destroyed)return;let t=!1;this.graphics3DGraphics.forEach((i=>{e(i)&&(t=!0)})),t&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}forEachGraphics3DSymbol(e,t){for(const[i,r]of this._symbols){if(null==r)return;e(r,this._graphicsBySymbol.get(i)||$e,i)}if(!t?.excludeUnused)for(const i of this._unusedSymbolsCache)e(i,void 0,i.symbol.id)}updateGraphicsVisibilities(){null!=this._filterVisibility&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities((e=>{const t=this._updateUserVisibility(e),i=!!this._scaleVisibility?.updateVisibility(e);return t||i}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(de.GRAPHIC,pe.USER,!1)))}_validateRenderer(e){const t=()=>`'${this.layer.title?`${this.layer.title}, `:\"\"}id:${this.layer.id}'`,i=J(e,{geometryType:this.layer?.geometryType,logWarning:(e,i)=>a.getLogger(this).warn(e,`Symbology conversion for layer ${t()}: ${i}`)});if(i){const e=`Renderer for layer ${t} is not supported in a SceneView`;a.getLogger(this).warn(e,i.message)}}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach(((t,i)=>{if(null==t||t.referenced>0)return;const r=this._graphicsBySymbol.get(i);r&&0!==r.size||(this._graphicsBySymbol.delete(i),this._symbols.delete(i),this._symbolMaterials=null,this._unusedSymbolsCache.put(i,t,p),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){}get performanceInfo(){return new fe(this.graphics3DGraphics.size,Array.from(this.graphics3DGraphics.values()).reduce(((e,t)=>e+(t.isVisible()?1:0)),0),this._graphicsWithoutSymbol.size,this._pendingUpdates.size)}};var Ne;e([G({readOnly:!0})],He.prototype,\"computedExtent\",void 0),e([G()],He.prototype,\"currentRenderer\",void 0),e([G()],He.prototype,\"rendererHasGeometryOperations\",void 0),e([G()],He.prototype,\"_frameTaskHandle\",void 0),e([G()],He.prototype,\"_dataUpdateQueue\",void 0),e([G()],He.prototype,\"_updateQueue\",void 0),e([G({readOnly:!0})],He.prototype,\"_viewSpatialReference\",null),e([G()],He.prototype,\"_rendererChangeAbortController\",void 0),e([G()],He.prototype,\"_elevationInfoChangeAbortController\",void 0),e([G()],He.prototype,\"_initializeAbortController\",void 0),e([G()],He.prototype,\"_elevationAlignment\",void 0),e([G()],He.prototype,\"_scaleVisibility\",void 0),e([G()],He.prototype,\"_filterVisibility\",void 0),e([G()],He.prototype,\"_initializePromise\",void 0),e([G()],He.prototype,\"_spatialIndex\",void 0),e([G({readOnly:!0})],He.prototype,\"extentPadding\",void 0),e([G()],He.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([G()],He.prototype,\"_featureStore\",void 0),e([G()],He.prototype,\"_objectStates\",void 0),e([G()],He.prototype,\"_loadingSymbols\",void 0),e([G({constructOnly:!0})],He.prototype,\"compressionTracker\",void 0),e([G()],He.prototype,\"preferredUpdatePolicy\",void 0),e([G()],He.prototype,\"_forcedUpdatePolicy\",void 0),e([G({readOnly:!0})],He.prototype,\"effectiveUpdatePolicy\",null),e([G({constructOnly:!0})],He.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([G({constructOnly:!0})],He.prototype,\"owner\",void 0),e([G({constructOnly:!0})],He.prototype,\"layer\",void 0),e([G({constructOnly:!0})],He.prototype,\"graphicSymbolSupported\",void 0),e([G({constructOnly:!0})],He.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([G({constructOnly:!0})],He.prototype,\"componentFactories\",void 0),e([G({constructOnly:!0})],He.prototype,\"setUidToIdOnAdd\",void 0),e([G()],He.prototype,\"featureStore\",null),e([G()],He.prototype,\"initializePromise\",null),e([G()],He.prototype,\"scaleVisibility\",null),e([G()],He.prototype,\"elevationAlignment\",null),e([G()],He.prototype,\"objectStates\",null),e([G()],He.prototype,\"filterVisibility\",null),e([G({readOnly:!0})],He.prototype,\"updating\",null),e([G({readOnly:!0})],He.prototype,\"dataUpdating\",null),e([G({readOnly:!0})],He.prototype,\"running\",null),e([G({readOnly:!0})],He.prototype,\"suspendedOrOutsideOfView\",null),e([G({readOnly:!0,dependsOn:[]})],He.prototype,\"updatingRemaining\",null),e([G({readOnly:!0})],He.prototype,\"displayFeatureLimit\",null),e([G({readOnly:!0,dependsOn:[]})],He.prototype,\"averageSymbolComplexity\",null),e([G({constructOnly:!0})],He.prototype,\"hasZ\",void 0),e([G({constructOnly:!0})],He.prototype,\"hasM\",void 0),e([G()],He.prototype,\"_objectIdField\",null),He=ke=e([w(\"esri.views.3d.layers.graphics.Graphics3DCore\")],He),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(Ne||(Ne={}));class Be{constructor(){this.add=null,this.renderingInfo=null,this.state=Ne.NEW,this.abortController=null,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=Ne.NEW,this.abortController=null,this.remove=null}}const qe=10,Ye=U(),Qe=U(),$e=new Map;export{He as Graphics3DCore};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport\"../../../../core/has.js\";import t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as i}from\"../../../support/Scheduler.js\";const h=.05;class a{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=i){const e=this._extents,o=new Set;let a=0;for(;a!==e.length;){e.sort(((t,e)=>t[0]-e[0])),a=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const a=e.at(i);if(a){for(let t=i+1;t<e.length;++t){const r=e.at(t);if(null==r||r[0]>=a[2])break;o.add(r)}o.forEach((i=>{if(a===i)return;if(i[2]<=a[0])return void o.delete(i);const l=s(a),_=s(i),c=this._tmpExtent;n(a,i,c);const d=l+_;(s(c)-d)/d<h&&(r(a,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(a)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>o(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){}}export{a as ExtentSet};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as n}from\"./ExtentSet.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{TaskPriority as h}from\"../../../support/Scheduler.js\";let p=class extends e{constructor(t){super(t),this._dirtyExtents=new n,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const t=this.elevationProvider,e=this.graphicsCoreOwner.view.resourceController.scheduler;this._task=e.registerTask(d(this.graphicsCore.layer.elevationInfo?.mode),this),this.addHandles([t.on(\"elevation-change\",(t=>this._elevationChanged(t))),r((()=>this.graphicsCoreOwner.suspended),(()=>this._suspendedChange())),this._task,r((()=>d(this.graphicsCore.layer.elevationInfo?.mode)),(t=>this._task.priority=t))])}destroy(){this._dirtyGraphicsSet.clear(),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(t){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,t.madeProgress()),t.run((()=>this._dirtyExtents.merge(t)));this.running&&!t.done;)this._updateDirtyGraphics(t),this._updateDirtyExtents(t);this.notifyChange(\"updating\")}_updateDirtyGraphics(t){const e=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===o.ASYNC;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),null!=s&&(s.alignWithElevation(this.elevationProvider,e,i),this.graphicsCore.deconflictor?.setDirty(),t.madeProgress()),t.done)return}}_updateDirtyExtents(t){for(;!this._dirtyExtents.empty&&!t.done;){const e=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(e,i,(t=>{const e=this.graphicsCore.getGraphics3DGraphicById(t);null!=e&&e.needsElevationUpdates()&&this._dirtyGraphicsSet.add(t)})),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,t.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((t,e)=>this._dirtyGraphicsSet.add(e)))}_elevationChanged(t){if(\"scene\"===t.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const e=t.extent;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const t=this.graphicsCore.computedExtent;t&&e[2]>t.xmin&&e[0]<t.xmax&&e[3]>t.ymin&&e[1]<t.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",t)}else e[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(e),this.notifyChange(\"updating\")}};function d(t){return null==t?h.ELEVATION_ALIGNMENT:\"relative-to-scene\"===t?h.ELEVATION_ALIGNMENT_SCENE:h.ELEVATION_ALIGNMENT}t([s()],p.prototype,\"graphicsCoreOwner\",void 0),t([s()],p.prototype,\"graphicsCore\",void 0),t([s()],p.prototype,\"queryGraphicUIDsInExtent\",void 0),t([s()],p.prototype,\"elevationProvider\",void 0),t([s({readOnly:!0})],p.prototype,\"updating\",null),t([s({readOnly:!0})],p.prototype,\"updatingRemaining\",null),p=t([a(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],p);export{p as Graphics3DElevationAlignment};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{create as r}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{e as n,d as t,f as i,g as e,j as c,c as o,n as u}from\"../../../chunks/vec32.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as l,signedDistance as s}from\"../../../geometry/support/plane.js\";function p(r,n,t){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]<t}function a(r,n,t){const i=n[0],e=n[1],c=n[2];return!(r[0][0]*i+r[0][1]*e+r[0][2]*c+r[0][3]>t)&&(!(r[1][0]*i+r[1][1]*e+r[1][2]*c+r[1][3]>t)&&(!(r[2][0]*i+r[2][1]*e+r[2][2]*c+r[2][3]>t)&&(!(r[3][0]*i+r[3][1]*e+r[3][2]*c+r[3][3]>t)&&(!(r[4][0]*i+r[4][1]*e+r[4][2]*c+r[4][3]>t)&&!(r[5][0]*i+r[5][1]*e+r[5][2]*c+r[5][3]>t)))))}function m(r,n,t,i){return h(r,n,null,v(i,n,t,!1))}function d(r,n){for(let t=0;t<6;t++){if(s(r[t],n)>0)return!1}return!0}function g(r,n,t,i){return h(r,n,t,v(i,n,t,!0))}function j(r,c,o,u){const f=n(o,t(r,u,c));return i(r,c,e(r,o,f))}const b={dir:f(),len:0,clip:r()};function v(r,n,i,f){const l=b;return r?(i&&f&&(l.len=c(n,i)),o(l.dir,r)):f?(l.len=c(n,i),t(l.dir,i,n),e(l.dir,l.dir,1/l.len)):(t(l.dir,i,n),u(l.dir,l.dir)),l}function x(r,t,i){const e=n(l(r),i.dir),c=-s(r,t);if(c<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return c>0;if((c<0||e<0)&&!(c<0&&e<0))return!0;const o=c/e;return e>0?o<i.clip[1]&&(i.clip[1]=o):o>i.clip[0]&&(i.clip[0]=o),i.clip[0]<=i.clip[1]}function h(r,n,t,i){i.clip[0]=0,i.clip[1]=t?i.len:Number.MAX_VALUE;for(let e=0;e<r.length;e++)if(!x(r[e],n,i))return!1;return!0}export{j as closestPointOnRay,g as frustumLineSegment,d as frustumPoint,m as frustumRay,a as frustumSphere,p as planeSphere};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{invert as i}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as n,g as o,E as s,t as a,i as c,e as l}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as d}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBoundingRect as m}from\"../../../geometry/projection/projectBoundingRect.js\";import{projectVectorToVector as _}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as g,create as f,expandWithVec3 as u}from\"../../../geometry/support/aaBoundingBox.js\";import{center as x,create as R}from\"../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as y}from\"../../../geometry/support/frustum.js\";import{fromPoints as j,create as b}from\"../../../geometry/support/lineSegment.js\";import{create as A,fromVectorsAndPoint as E,copy as S,negate as B,signedDistance as C}from\"../../../geometry/support/plane.js\";import{wrap as H}from\"../../../geometry/support/ray.js\";import{ViewingMode as w}from\"../../ViewingMode.js\";import{frustumLineSegment as G}from\"./intersectionUtils.js\";const M=.5*Math.PI,F=M/Math.PI*180;class N{constructor(t){this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()},this._renderCoordsHelper=t.renderCoordsHelper;for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=A();this._planes[y.NEAR]=A(),this._planes[y.FAR]=A(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),E(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}E(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[y.NEAR]),r?B(this._planes[y.NEAR],this._planes[y.FAR]):(S(this._planes[y.FAR],this._planes[y.NEAR]),B(this._planes[y.NEAR],this._planes[y.NEAR])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*h(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(this._renderCoordsHelper.viewingMode===w.Global){const i=this._maxSpanSpatialReference.isGeographic?F:M*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(H(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(H(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(j(e.origin,e.cap.next,k),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(G(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;x(t,V),V[2]=n,d(r,V,v,this._renderCoordsHelper.spatialReference),i(I,v),g(L);for(const{x0:i,x1:s,y0:c,y1:l}of U)for(let p=0;p<o;p++){const h=p/(o-1);V[0]=e(t[i],t[s],h),V[1]=e(t[c],t[l],h),V[2]=n,_(V,r,V,this._renderCoordsHelper.spatialReference),a(V,V,I),u(L,V)}c(this._extent[0].origin,L[0],L[1],L[2]),c(this._extent[1].origin,L[3],L[1],L[2]),c(this._extent[2].origin,L[3],L[4],L[2]),c(this._extent[3].origin,L[0],L[4],L[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,v)}_toRenderBoundingExtentLocal(t,e,i){m(t,e,P,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,P[0],P[1],i),c(this._extent[1].origin,P[2],P[1],i),c(this._extent[2].origin,P[2],P[3],i),c(this._extent[3].origin,P[0],P[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case w.Global:this._toRenderBoundingExtentGlobal(e,i,r);break;case w.Local:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(C(t.planes[y.NEAR],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(C(t.planes[y.NEAR],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const U=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],V=p(),v=r(),I=r(),L=f(),P=R(),k=b();export{N as FrustumExtentIntersection};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{watch as s,sync as i,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as a}from\"../../../../geometry/ellipsoidUtils.js\";import{FrustumExtentIntersection as p}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as c}from\"../../../support/Scheduler.js\";import{Yield as l}from\"../../../support/Yield.js\";const h=1.2;let u=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new p({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,n=t.basemapTerrain,o=t.resourceController.scheduler;this.addHandles([t.on(\"resize\",(()=>this._viewChange())),s((()=>t.state.camera),(()=>this._viewChange()),i),o.registerTask(c.FRUSTUM_VISIBILITY,this),s((()=>n.visibleElevationBounds),(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this.addHandles([s((()=>[n.baseOpacity,n.wireframe,t.map?.ground?.navigationConstraint?.type]),(()=>this._updateIsVisibleBelowSurface()),r)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*a(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(h-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get running(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),l;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=a(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};e([n({readOnly:!0})],u.prototype,\"suspended\",void 0),e([n({constructOnly:!0})],u.prototype,\"graphicsCoreOwner\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],u);export{u as Graphics3DFrustumVisibility};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{Object3DState as e}from\"./basicInterfaces.js\";class t{}class s extends t{constructor(e,t){super(),this.objectStateId=e,this.object=t}remove(){this.object.removeStateID(this.objectStateId)}}class o extends t{constructor(e,t,s){super(),this.objectStateId=e,this.object=t,this.owner=s}remove(){this.owner.removeRenderGeometryObjectState(this.object,this.objectStateId)}}class c extends t{constructor(e,t){super(),this.objectStateId=e,this._removeCallback=t,this.object=null}remove(){this._removeCallback(this.objectStateId)}}class r{constructor(){this._items=[]}addObject(e,t){this._items.push(new s(t,e))}addRenderGeometry(e,t,s){this._items.push(new o(t,e,s))}addExternal(e,t){this._items.push(new c(t,e))}remove(e){this._remove((t=>t.objectStateId===e))}removeByObject(e){this._remove((t=>t.object===e))}removeAll(){this._items.forEach((e=>e.remove())),this._items=[]}_remove(e){const{_items:t}=this;for(let s=t.length-1;s>=0;--s){const o=t[s];e(o)&&(o.remove(),t.splice(s,1))}}}class i extends r{constructor(){super(...arguments),this.stateType=e.MaskOccludee}}class h extends r{constructor(t){super(),this.highlightName=t,this.stateType=e.Highlight}}export{h as Object3DHighlightStateSet,i as Object3DOccludeeStateSet};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{Object3DState as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DOccludeeStateSet as e,Object3DHighlightStateSet as s}from\"../../webgl-engine/lib/Object3DStateSet.js\";class i{constructor(t){this.objectIdField=t,this.ids=new Set,this.paused=!1}hasGraphic(t){const e=this.objectIdField?t.graphic.attributes[this.objectIdField]:t.graphic.uid;return this.ids.has(e)}}class c extends i{constructor(s){super(s),this.stateType=t.MaskOccludee,this.objectStateSet=new e}}class h extends i{constructor(e,i){super(i),this.highlightName=e,this.stateType=t.Highlight,this.objectStateSet=new s(e)}}export{h as Graphics3DObjectHighlightStateSet,c as Graphics3DOccludeeStateSet};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{Graphics3DOccludeeStateSet as e,Graphics3DObjectHighlightStateSet as s}from\"./Graphics3DObjectStateSet.js\";class a{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets.length=0)}acquireOccludeeSet(s){const a=new e(s);this._stateSets.push(a);const i=t((()=>this.releaseSet(a)));return{set:a,handle:i}}acquireHighlightSet(e,a){const i=new s(e,a);this._stateSets.push(i);const c=t((()=>this.releaseSet(i)));return{set:i,handle:c}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&s.addObjectStateSet(t.objectStateSet)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&t.addObjectStateSet(e.objectStateSet)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&t.removeObjectState(e.objectStateSet)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&e.addObjectStateSet(t.objectStateSet)})):t.ids.forEach((s=>{const a=e.get(s);a&&a.addObjectStateSet(t.objectStateSet)}))}get test(){}}export{a as Graphics3DObjectStates};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../core/support/UpdatingHandles.js\";import{projectBoundingRect as l}from\"../../../../geometry/projection/projectBoundingRect.js\";import{create as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityGroup as c,VisibilityFlag as o}from\"./enums.js\";import{scaleBoundsPredicate as h}from\"../../../support/layerViewUtils.js\";import{TaskPriority as p}from\"../../../support/Scheduler.js\";import{Yield as d}from\"../../../support/Yield.js\";let u=class extends i{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this._updatingHandles=new a,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.addHandles(e.registerTask(p.SCALE_VISIBILITY,this)),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.layerMinMaxScaleChangeHandler()))}destroy(){this._updatingHandles.destroy(),this.removeHandles(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this._updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e??null;else{const r=n();l(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&null!=i&&g(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&g(e.minScale??0,e.maxScale??0))));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.hasHandles(y)&&this.basemapTerrain?(this.addHandles(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),y),this.layerScaleEnabled&&this.addHandles(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),y)):!t&&this.hasHandles(y)&&this.removeHandles(y),r}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(e){const i=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&i&&i.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(this._layerScaleRangeVisibilityQuery)return d;{this._layerScaleRangeVisibilityQuery=!0;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange;i.queryVisibleScaleRange(this._extent,e,t,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0);e.madeProgress()}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||h(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return h(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(null!=e.centroid?i=e.centroid:null!=e.graphic.geometry&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(!this._scaleRangeActive)return!1;const i=this._graphicVisible(e);return e.setVisibilityFlag(c.GRAPHIC,o.SCALE_RANGE,i)}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelLayers.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelLayers.length)return!1;const t=e.labelLayers[0].labelClass;if(null!=t?.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(c.LABEL,o.SCALE_RANGE,r))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),!this.graphicsCore.visible)return;const i=e.extent,r=e.scale,s=this._visibleAtLayerScale(r);let a=!1;const n=this.graphicsCoreOwner.view.spatialReference,h=e.spatialReference;if(null==h)return void t.getLogger(this).error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const p=!h.equals(n);if(p){if(!l(i,h,m,n))return void t.getLogger(this).error(\"scaleUpdate: Internal error, cannot project AABR from \"+h+\" to wkid \"+n)}const d=p?m:i;this.queryGraphicUIDsInExtent(d,n,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);if(null==t)return;const l=t.centroid;null!=l&&(i[0]>l.x||i[1]>l.y||i[2]<l.x||i[3]<l.y)||(t.setVisibilityFlag(c.GRAPHIC,o.SCALE_RANGE,s)&&(a=!0),this._updateLabelScaleVisibility(t,r)&&(a=!0))})),a&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(c.GRAPHIC,o.SCALE_RANGE,!0))):this._scaleRangeActive&&this.graphicsCore.updateGraphicsVisibilities(),this._setDirty()}};function g(e,i){return e>0||i>0}e([r()],u.prototype,\"graphicsCoreOwner\",void 0),e([r()],u.prototype,\"layer\",void 0),e([r()],u.prototype,\"queryGraphicUIDsInExtent\",void 0),e([r()],u.prototype,\"graphicsCore\",void 0),e([r()],u.prototype,\"basemapTerrain\",void 0),e([r({constructOnly:!0})],u.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],u.prototype,\"suspended\",void 0),e([r({readOnly:!0})],u.prototype,\"updating\",null),e([r()],u.prototype,\"_dirty\",void 0),u=e([s(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],u);const y=\"terrain-events\",m=n();export{u as Graphics3DScaleVisibility};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport r from\"../../../../core/Collection.js\";import{makeHandle as o}from\"../../../../core/handleUtils.js\";import{isGraphic as t}from\"../../../../support/guards.js\";function e(o){return r.isCollection(o)?o.toArray():Array.isArray(o)?o:i(o)||t(o)||c(o)?[o]:n}function i(r){return\"number\"==typeof r||\"string\"==typeof r}const n=[],s=o();function c(r){return\"esri.views.3d.layers.i3s.PointCloudGraphic\"===r.declaredClass}export{s as emptyHighlightHandle,i as isObjectId,e as normalizeHighlightTargetExceptQuery};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import e from\"../../../../core/Accessor.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{watch as o,sync as a,syncAndInitial as p}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as h}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as u}from\"../../../../core/support/UpdatingHandles.js\";import d from\"../../../../layers/Layer.js\";import{hydrateGraphic as y}from\"../../../../layers/graphics/hydratedFeatures.js\";import{getRenderingInfo as g,getRenderingInfoAsync as m}from\"../../../../renderers/support/renderingInfoUtils.js\";import f from\"../../../../rest/support/Query.js\";import{DrapeSourceType as b}from\"../interfaces.js\";import{suspendResumeExtentOptimism as C}from\"./constants.js\";import{Graphics3DCore as w}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as j}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as V}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as v}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as G}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as S}from\"./graphicUtils.js\";import{normalizeHighlightTargetExceptQuery as E}from\"../support/highlightUtils.js\";import{UpdatePolicy as O}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{hasLayerBasedScaleVisibility as _}from\"../../../support/layerViewUtils.js\";let x=class extends e{constructor(i){super(i),this.drapeSourcePriorityOffset=0,this.type=\"graphics-3d\",this.graphicsCore=null,this.drapeSourceType=b.Features,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null,this._updatingHandles=new u}initialize(){const{layer:i}=this,t=\"effectiveScaleRange\"in i?i:null,e=!_()&&this.scaleVisibilityEnabled&&null!=t,r=new w({owner:this,layer:this.owner.layer,preferredUpdatePolicy:O.SYNC,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:(i,t)=>new j({graphicsCoreOwner:this,graphicsCore:i,queryGraphicUIDsInExtent:t,elevationProvider:this.view.elevationProvider}),scaleVisibility:e?(i,e)=>new G({graphicsCoreOwner:this,layer:t,queryGraphicUIDsInExtent:e,graphicsCore:i,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:i=>new v(i)}});if(this._set(\"graphicsCore\",r),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new V({graphicsCoreOwner:this})),\"fullOpacity\"in this.owner){const i=this.owner;this._updatingHandles.add((()=>i.fullOpacity),(()=>this.graphicsCore.opacityChange()))}if(\"elevationInfo\"in i){const t=i;this._updatingHandles.add((()=>t.elevationInfo),((i,t)=>{h(i,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())}))}this._set(\"initializePromise\",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){try{await this.graphicsCore.initializePromise}catch(i){if(n(i))return;throw i}this.destroyed||(this.addHandles(o((()=>this.view.clippingArea),(()=>this._updateClippingExtent()),a)),this._updateClippingExtent(),this._setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",s(this.frustumVisibility)),this._set(\"graphicsCore\",s(this.graphicsCore))}get layer(){return this.owner.layer}get layerViewUid(){return this.owner.uid}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get scaleVisibilitySuspended(){return!(null==this.scaleVisibility||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return null!=this.frustumVisibility&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||null!=this.scaleVisibility&&this.scaleVisibility.updating||null!=this.frustumVisibility&&this.frustumVisibility.updating||this._updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(i){this.graphicsCore.notifyGraphicGeometryChanged(i)}notifyGraphicVisibilityChanged(i){this.graphicsCore.notifyGraphicVisibilityChanged(i)}notifyContentGeometryUpdate(){this.owner.notifyContentGeometryUpdate?.()}getRenderingInfo(i,t,e){const r=g(i,{renderer:t,arcade:e});if(r?.color){const i=r.color;i[0]=i[0]/255,i[1]=i[1]/255,i[2]=i[2]/255}return r}getRenderingInfoAsync(i,t,e,r){return m(i,{renderer:t,arcade:e,...r})}getHit(i){if(this.owner.loadedGraphics){const t=this.owner.loadedGraphics.find((t=>t.uid===i));if(t){const i=this.layer instanceof d?this.layer:null,e=y(t,i);return{type:\"graphic\",graphic:e,layer:e.layer}}}return null}whenGraphicBounds(i,t){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(i,t):Promise.reject()}computeAttachmentOrigin(i,t){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(i,t):null}getSymbolLayerSize(i,t){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(i,t):null}maskOccludee(i){const t=this.graphicsCore?.objectStates;if(!t)return r();const{set:e,handle:s}=t.acquireOccludeeSet(null);return t.setUid(e,i.uid),s}highlight(i,e){const r=this.graphicsCore?.objectStates;if(!r)return P;if(i instanceof f)return P;const s=E(i);if(0===s.length)return P;if(s[0]instanceof t){const i=s.map((i=>i.uid)),{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setUids(t,i),n}if(\"number\"==typeof s[0]){const i=s,{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setObjectIds(t,i),n}return P}_setupSuspendResumeExtent(){const{scaleVisibility:i,frustumVisibility:t}=this;if(null==i&&null==t)return;const e=({computedExtent:e,extentPadding:r})=>{this._suspendResumeExtent=S(e,this._suspendResumeExtent,C,r),null!=i&&i.setExtent(this._suspendResumeExtent),null!=t&&t.setExtent(this._suspendResumeExtent)};this.addHandles(o((()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding})),(i=>e(i)),p))}_updateClippingExtent(){const i=this.view.clippingArea;this.graphicsCore.setClippingExtent(i,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};i([l()],x.prototype,\"drapeSourcePriorityOffset\",void 0),i([l()],x.prototype,\"type\",void 0),i([l({constructOnly:!0})],x.prototype,\"owner\",void 0),i([l()],x.prototype,\"layer\",null),i([l()],x.prototype,\"layerViewUid\",null),i([l()],x.prototype,\"view\",null),i([l({constructOnly:!0})],x.prototype,\"graphicsCore\",void 0),i([l()],x.prototype,\"scaleVisibility\",null),i([l({constructOnly:!0})],x.prototype,\"frustumVisibility\",void 0),i([l()],x.prototype,\"elevationAlignment\",null),i([l()],x.prototype,\"scaleVisibilitySuspended\",null),i([l({readOnly:!0})],x.prototype,\"frustumVisibilitySuspended\",null),i([l()],x.prototype,\"suspended\",null),i([l({readOnly:!0})],x.prototype,\"updating\",null),i([l()],x.prototype,\"loadedGraphics\",null),i([l()],x.prototype,\"fullOpacity\",null),i([l()],x.prototype,\"slicePlaneEnabled\",null),i([l()],x.prototype,\"drapeSourceType\",void 0),i([l()],x.prototype,\"updatePolicy\",null),i([l({constructOnly:!0})],x.prototype,\"scaleVisibilityEnabled\",void 0),i([l({constructOnly:!0})],x.prototype,\"frustumVisibilityEnabled\",void 0),i([l()],x.prototype,\"initializePromise\",void 0),x=i([c(\"esri.views.3d.layers.graphics.GraphicsProcessor\")],x);const P=r();export{x as GraphicsProcessor};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{loadArcade as n}from\"../../../../support/loadArcade.js\";async function r(r,a,s){if(null==r||0===a.candidates.length)return t;const i=r.graphics3DGraphicsByObjectID??r.graphics3DGraphics,o=[],c=[],{renderer:d}=r,l=null!=d&&\"arcadeRequired\"in d&&d.arcadeRequired?n():null,p=async(e,{graphic:n,graphics3DSymbol:t})=>{const a=await l,i=await r.getRenderingInfoAsync(n,d,a,{signal:s});return null==i?[]:t.queryForSnapping(e,g,i,s)},{candidates:u,spatialReference:g}=a;for(let e=0;e<u.length;++e){const n=u[e],{objectId:r}=n,t=\"number\"==typeof r?i?.get(r):void 0;if(null==t)continue;const{graphics3DSymbol:a}=t;a.symbologySnappingSupported&&(o.push(p(n,t)),c.push(e))}if(0===o.length)return t;const h=await Promise.all(o);e(s);const f=[],m=[];for(let e=0;e<h.length;++e){const n=h[e],r=c[e];for(const e of n)f.push(e),m.push(r)}return{candidates:f,sourceCandidateIndices:m}}const t={candidates:[],sourceCandidateIndices:[]};export{r as queryForSymbologySnapping};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nclass t{constructor(t,e=0,s=0,r=0,i=0,o=null){this.usedMemory=t,this.displayedFeatures=e,this.totalFeatures=s,this.maximumFeatures=r,this.nodes=i,this.core=o}}function e(t){return\"performanceInfo\"in t}export{t as LayerViewPerformanceInfo,e as isPerformanceInfoLayerView};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{when as i}from\"../../../core/reactiveUtils.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{elevationAlignPointsInFeatures as n}from\"./graphics/elevationAlignPointsInFeatures.js\";import{GraphicsProcessor as p}from\"./graphics/GraphicsProcessor.js\";import{queryForSymbologySnapping as l}from\"./graphics/queryForSymbologySnapping.js\";import{LayerViewPerformanceInfo as c}from\"./support/LayerViewPerformanceInfo.js\";import{UpdatePolicy as h}from\"../webgl-engine/lib/UpdatePolicy.js\";import d from\"../../layers/LayerView.js\";import{defaultHighlightName as u}from\"../../support/HighlightDefaults.js\";import{isInEffectiveScaleRange as g,hasLayerBasedScaleVisibility as m}from\"../../support/layerViewUtils.js\";import{projectWithZConversionSilent as y}from\"../../support/projectionUtils.js\";let f=class extends(a(d)){constructor(){super(...arguments),this.type=\"graphics-3d\",this.symbologySnappingSupported=!0,this._slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.ignoresMemoryFactor=!0}get highlightOptions(){return null}initialize(){this._set(\"processor\",new p({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this.addHandles(this.layer.on(\"graphic-update\",(e=>this.processor.graphicsCore.graphicUpdateHandler(e)))),this.layer.internal?this.notifyChange(\"updating\"):(\"local\"===this.view.viewingMode&&this.addResolvingPromise((async()=>this.fullExtentInLocalViewSpatialReference=await y(this.layer.fullExtent,this.view.spatialReference))()),this.addHandles(i((()=>this.view?.basemapTerrain?.ready),(()=>()=>this.notifyChange(\"updating\")),{once:!0})))}destroy(){this._updatingHandles.removeAll(),this._set(\"processor\",s(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}get visibleAtCurrentScale(){return m()?g(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}get slicePlaneEnabled(){const e=this.layer.internal;return this._slicePlaneEnabled&&!e}set slicePlaneEnabled(e){this._slicePlaneEnabled=e}getSuspendInfo(){const e=super.getSuspendInfo();return e.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,e}getHit(e){return this.processor.getHit(e)}whenGraphicBounds(e,r){return this.processor.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}getSymbolLayerSize(e,r){return this.processor.getSymbolLayerSize(e,r)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e,r){return this.processor.highlight(e,r?.name??u)}notifyContentGeometryUpdate(){this.emit(\"visible-geometry-changed\")}async elevationAlignPointsInFeatures(e,s){const{processor:i}=this;if(null==i?.graphics3DGraphics)throw new r(\"graphicslayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");const{graphics3DGraphics:t}=i,o=e=>\"number\"==typeof e?t.get(e):void 0;return n(this.view,this.layer,o,e,s)}async queryForSymbologySnapping(e,r){return l(this.processor,e,r)}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||h.SYNC}isUpdating(){return this.view&&this.layer&&!(!this.processor?.updating&&(this.layer.internal||this.view.basemapTerrain?.ready))}get performanceInfo(){return new c(this.usedMemory,this.loadedGraphics.length,-1,-1)}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return this.processor?.graphicsCore?.unprocessedMemoryEstimate}get test(){return{graphics3DProcessor:this.processor,loadedGraphics:this.loadedGraphics}}};e([t()],f.prototype,\"highlightOptions\",null),e([t()],f.prototype,\"loadedGraphics\",null),e([t({readOnly:!0})],f.prototype,\"legendEnabled\",null),e([t()],f.prototype,\"layer\",void 0),e([t({readOnly:!0})],f.prototype,\"processor\",void 0),e([t({readOnly:!0})],f.prototype,\"visibleAtCurrentScale\",null),e([t()],f.prototype,\"_slicePlaneEnabled\",void 0),e([t({type:Boolean})],f.prototype,\"slicePlaneEnabled\",null),f=e([o(\"esri.views.3d.layers.GraphicsLayerView3D\")],f);const b=f;export{b as default};\r\n"],
  "mappings": "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",
  "names": ["l", "n", "g", "o", "r", "s", "i", "a", "l", "m", "d", "j", "u", "v", "g", "I", "x", "y", "h", "f", "w", "R", "a", "s", "S", "b", "z", "E", "o", "P", "e", "U", "C", "n", "F", "t", "i", "c", "e", "m", "t", "l", "e", "t", "r", "s", "i", "L", "A", "d", "u", "l", "b", "t", "o", "e", "R", "r", "s", "r", "s", "t", "s", "e", "i", "r", "l", "p", "g", "r", "o", "t", "b", "e", "B", "A", "i", "a", "e", "d", "n", "e", "t", "T", "A", "u", "i", "O", "o", "S", "D", "r", "s", "a", "c", "l", "f", "h", "p", "L", "_", "R", "y", "e", "t", "A", "d", "r", "T", "i", "s", "l", "a", "u", "n", "o", "U", "b", "m", "O", "c", "p", "G", "h", "w", "S", "D", "t", "e", "o", "l", "a", "w", "i", "r", "s", "f", "a", "p", "o", "n", "e", "v", "u", "A", "t", "i", "r", "s", "L", "z", "n", "g", "l", "a", "o", "M", "w", "e", "o", "r", "p", "r", "e", "t", "s", "o", "a", "i", "u", "d", "n", "l", "A", "s", "p", "r", "o", "t", "e", "a", "_", "l", "D", "t", "i", "n", "s", "p", "o", "r", "t", "s", "P", "e", "a", "s", "i", "t", "h", "s", "t", "i", "R", "e", "a", "d", "b", "t", "s", "e", "u", "R", "e", "_", "v", "y", "o", "b", "e", "g", "i", "t", "E", "r", "n", "s", "x", "a", "C", "l", "j", "w", "u", "l", "m", "i", "e", "o", "n", "e", "r", "n", "u", "b", "d", "C", "e", "t", "i", "r", "s", "a", "o", "l", "h", "m", "A", "L", "R", "f", "w", "g", "E", "p", "v", "y", "c", "h", "a", "r", "t", "u", "C", "e", "o", "i", "l", "_", "c", "f", "d", "p", "b", "t", "a", "o", "e", "d", "l", "i", "C", "r", "s", "g", "g", "r", "n", "t", "i", "h", "v", "b", "n", "v", "r", "i", "f", "l", "p", "s", "c", "g", "A", "x", "t", "e", "P", "V", "o", "h", "M", "F", "t", "n", "e", "j", "i", "r", "a", "u", "g", "P", "L", "h", "s", "l", "k", "o", "V", "m", "v", "I", "c", "U", "p", "h", "u", "b", "e", "t", "n", "o", "l", "g", "s", "i", "t", "s", "e", "o", "c", "r", "i", "h", "i", "t", "e", "c", "s", "h", "a", "t", "s", "c", "i", "e", "h", "u", "b", "e", "h", "g", "i", "t", "r", "y", "o", "A", "L", "s", "a", "n", "p", "m", "d", "l", "e", "o", "V", "i", "c", "n", "r", "s", "x", "b", "i", "e", "h", "t", "o", "r", "C", "p", "u", "a", "l", "n", "c", "s", "P", "R", "d", "S", "w", "r", "a", "s", "t", "i", "o", "c", "d", "l", "e", "p", "n", "g", "u", "h", "f", "m", "t", "e", "s", "r", "i", "o", "f", "l", "u", "x", "e", "p", "o", "t", "r", "c", "s", "i", "C", "b"]
}
