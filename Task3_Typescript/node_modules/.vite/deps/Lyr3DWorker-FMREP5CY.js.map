{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/Lyr3DWorker.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{Lyr3DWasmWorkerOutputStatus as s}from\"../../../layers/ILyr3DWasmPerSceneView.js\";import{loadLyr3DWorkerWASM as t}from\"../../../libs/lyr3d/Lyr3DModule.js\";let e,r;async function n(t){await o();const e={status:s.Failed,error:\"\",jobDescJson:\"\",data:new Uint8Array(0),missingInputUrls:[]};if(t.inputs.length<1)return{result:e,transferList:[]};const n={ptrs:[],sizes:[]};for(const s of t.inputs){const t=r._malloc(s.byteLength);new Uint8Array(r.HEAPU8.buffer,t,s.byteLength).set(new Uint8Array(s)),n.ptrs.push(t),n.sizes.push(s.byteLength)}const i=r.process(t.jobDescJson,t.id,n,t.isMissingResourceCase);e.status=i.status,e.missingInputUrls=i.missingInputUrls.slice();const u=i.status===s.Succeeded&&i.data,l=e.status===s.MissingInputs&&e.missingInputUrls.length>0;e.jobDescJson=i.jobDescJson.slice(),e.error=i.error.slice(),u?e.data=i.data.slice():l&&(e.originalInputs=t.inputs.slice());for(let s=0;s<n.ptrs.length;++s)r._free(n.ptrs[s]);const a=[];if(u)a.push(e.data.buffer);else if(l)for(const s of t.inputs)a.push(s);return{result:e,transferList:a}}function i(){r&&(r.uninitialize_lyr3d_worker_wasm(),r=null)}function o(){return r?Promise.resolve():(e||(e=t().then((s=>{r=s,r.initialize_lyr3d_worker_wasm(),e=null}))),e)}export{i as destroyWasm,o as initialize,n as process};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAIiK,IAAIA;AAAJ,IAAM;AAAE,eAAe,EAAE,GAAE;AAAC,QAAM,EAAE;AAAE,QAAMA,KAAE,EAAC,QAAO,EAAE,QAAO,OAAM,IAAG,aAAY,IAAG,MAAK,IAAI,WAAW,CAAC,GAAE,kBAAiB,CAAC,EAAC;AAAE,MAAG,EAAE,OAAO,SAAO,EAAE,QAAM,EAAC,QAAOA,IAAE,cAAa,CAAC,EAAC;AAAE,QAAMC,KAAE,EAAC,MAAK,CAAC,GAAE,OAAM,CAAC,EAAC;AAAE,aAAU,KAAK,EAAE,QAAO;AAAC,UAAMC,KAAE,EAAE,QAAQ,EAAE,UAAU;AAAE,QAAI,WAAW,EAAE,OAAO,QAAOA,IAAE,EAAE,UAAU,EAAE,IAAI,IAAI,WAAW,CAAC,CAAC,GAAED,GAAE,KAAK,KAAKC,EAAC,GAAED,GAAE,MAAM,KAAK,EAAE,UAAU;AAAA,EAAC;AAAC,QAAME,KAAE,EAAE,QAAQ,EAAE,aAAY,EAAE,IAAGF,IAAE,EAAE,qBAAqB;AAAE,EAAAD,GAAE,SAAOG,GAAE,QAAOH,GAAE,mBAAiBG,GAAE,iBAAiB,MAAM;AAAE,QAAMC,KAAED,GAAE,WAAS,EAAE,aAAWA,GAAE,MAAK,IAAEH,GAAE,WAAS,EAAE,iBAAeA,GAAE,iBAAiB,SAAO;AAAE,EAAAA,GAAE,cAAYG,GAAE,YAAY,MAAM,GAAEH,GAAE,QAAMG,GAAE,MAAM,MAAM,GAAEC,KAAEJ,GAAE,OAAKG,GAAE,KAAK,MAAM,IAAE,MAAIH,GAAE,iBAAe,EAAE,OAAO,MAAM;AAAG,WAAQ,IAAE,GAAE,IAAEC,GAAE,KAAK,QAAO,EAAE,EAAE,GAAE,MAAMA,GAAE,KAAK,CAAC,CAAC;AAAE,QAAM,IAAE,CAAC;AAAE,MAAGG,GAAE,GAAE,KAAKJ,GAAE,KAAK,MAAM;AAAA,WAAU,EAAE,YAAU,KAAK,EAAE,OAAO,GAAE,KAAK,CAAC;AAAE,SAAM,EAAC,QAAOA,IAAE,cAAa,EAAC;AAAC;AAAC,SAAS,IAAG;AAAC,QAAI,EAAE,+BAA+B,GAAE,IAAE;AAAK;AAAC,SAAS,IAAG;AAAC,SAAO,IAAE,QAAQ,QAAQ,KAAGA,OAAIA,KAAE,EAAE,EAAE,KAAM,OAAG;AAAC,QAAE,GAAE,EAAE,6BAA6B,GAAEA,KAAE;AAAA,EAAI,CAAE,IAAGA;AAAE;",
  "names": ["e", "n", "t", "i", "u"]
}
