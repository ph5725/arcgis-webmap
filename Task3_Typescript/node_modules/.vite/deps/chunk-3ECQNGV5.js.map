{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js", "../../@arcgis/core/views/3d/layers/support/symbolColorUtils.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{VertexAttribute as o}from\"../../../lib/VertexAttribute.js\";function t(t,i){switch(i.normalType){case a.Compressed:t.attributes.add(o.NORMALCOMPRESSED,\"vec2\"),t.vertex.code.add(r`vec3 decompressNormal(vec2 normal) {\r\nfloat z = 1.0 - abs(normal.x) - abs(normal.y);\r\nreturn vec3(normal + sign(normal) * min(z, 0.0), z);\r\n}\r\nvec3 normalModel() {\r\nreturn decompressNormal(normalCompressed);\r\n}`);break;case a.Attribute:t.attributes.add(o.NORMAL,\"vec3\"),t.vertex.code.add(r`vec3 normalModel() {\r\nreturn normal;\r\n}`);break;case a.ScreenDerivative:t.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\r\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\r\n}`);break;default:e(i.normalType);case a.COUNT:}}var a;!function(e){e[e.Attribute=0]=\"Attribute\",e[e.Compressed=1]=\"Compressed\",e[e.ScreenDerivative=2]=\"ScreenDerivative\",e[e.COUNT=3]=\"COUNT\"}(a||(a={}));export{t as NormalAttribute,a as NormalType};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{clamp as t}from\"../../../../core/mathUtils.js\";var n;function e(t){switch(t){case\"multiply\":default:return n.Multiply;case\"ignore\":return n.Ignore;case\"replace\":return n.Replace;case\"tint\":return n.Tint}}function r(e,r,a){if(null==e||r===n.Ignore)return a[0]=255,a[1]=255,a[2]=255,void(a[3]=255);const c=t(Math.round(e[3]*i),0,i),p=0===c||r===n.Tint?0:r===n.Replace?u:l;a[0]=t(Math.round(e[0]*o),0,o),a[1]=t(Math.round(e[1]*o),0,o),a[2]=t(Math.round(e[2]*o),0,o),a[3]=c+p}!function(t){t[t.Multiply=1]=\"Multiply\",t[t.Ignore=2]=\"Ignore\",t[t.Replace=3]=\"Replace\",t[t.Tint=4]=\"Tint\"}(n||(n={}));const o=255,i=85,u=i,l=2*i;export{n as ColorMixModeEnum,r as encodeSymbolColor,e as parseColorMixMode};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{ColorMixModeEnum as o}from\"../../../../../layers/support/symbolColorUtils.js\";import{glsl as l}from\"../../../../core/shaderModules/glsl.js\";function a(a){a.vertex.code.add(l`\r\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\r\n      float symbolAlpha = 0.0;\r\n\r\n      const float maxTint = 85.0;\r\n      const float maxReplace = 170.0;\r\n      const float scaleAlpha = 3.0;\r\n\r\n      if (symbolColor.a > maxReplace) {\r\n        colorMixMode = ${l.int(o.Multiply)};\r\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\r\n      } else if (symbolColor.a > maxTint) {\r\n        colorMixMode = ${l.int(o.Replace)};\r\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\r\n      } else if (symbolColor.a > 0.0) {\r\n        colorMixMode = ${l.int(o.Tint)};\r\n        symbolAlpha = scaleAlpha * symbolColor.a;\r\n      } else {\r\n        colorMixMode = ${l.int(o.Multiply)};\r\n        symbolAlpha = 0.0;\r\n      }\r\n\r\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\r\n    }\r\n  `)}export{a as DecodeSymbolColor};\r\n"],
  "mappings": ";;;;;;;;;;;;;;AAI4L,SAAS,EAAEA,IAAEC,IAAE;AAAC,UAAOA,GAAE,YAAW;AAAA,IAAC,KAAK,EAAE;AAAW,MAAAD,GAAE,WAAW,IAAI,EAAE,kBAAiB,MAAM,GAAEA,GAAE,OAAO,KAAK,IAAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM/S;AAAE;AAAA,IAAM,KAAK,EAAE;AAAU,MAAAF,GAAE,WAAW,IAAI,EAAE,QAAO,MAAM,GAAEA,GAAE,OAAO,KAAK,IAAIE;AAAA;AAAA,EAE7E;AAAE;AAAA,IAAM,KAAK,EAAE;AAAiB,MAAAF,GAAE,SAAS,KAAK,IAAIE;AAAA;AAAA,EAEpD;AAAE;AAAA,IAAM;AAAQ,QAAED,GAAE,UAAU;AAAA,IAAE,KAAK,EAAE;AAAA,EAAM;AAAC;AAAC,IAAI;AAAE,CAAC,SAASE,IAAE;AAAC,EAAAA,GAAEA,GAAE,YAAU,CAAC,IAAE,aAAYA,GAAEA,GAAE,aAAW,CAAC,IAAE,cAAaA,GAAEA,GAAE,mBAAiB,CAAC,IAAE,oBAAmBA,GAAEA,GAAE,QAAM,CAAC,IAAE;AAAO,EAAE,MAAI,IAAE,CAAC,EAAE;;;ACVpJ,IAAIC;AAAE,SAASC,GAAEC,IAAE;AAAC,UAAOA,IAAE;AAAA,IAAC,KAAI;AAAA,IAAW;AAAQ,aAAOF,GAAE;AAAA,IAAS,KAAI;AAAS,aAAOA,GAAE;AAAA,IAAO,KAAI;AAAU,aAAOA,GAAE;AAAA,IAAQ,KAAI;AAAO,aAAOA,GAAE;AAAA,EAAI;AAAC;AAAC,SAASG,GAAEF,IAAEE,IAAEC,IAAE;AAAC,MAAG,QAAMH,MAAGE,OAAIH,GAAE,OAAO,QAAOI,GAAE,CAAC,IAAE,KAAIA,GAAE,CAAC,IAAE,KAAIA,GAAE,CAAC,IAAE,KAAI,MAAKA,GAAE,CAAC,IAAE;AAAK,QAAM,IAAE,EAAE,KAAK,MAAMH,GAAE,CAAC,IAAE,CAAC,GAAE,GAAE,CAAC,GAAE,IAAE,MAAI,KAAGE,OAAIH,GAAE,OAAK,IAAEG,OAAIH,GAAE,UAAQ,IAAE;AAAE,EAAAI,GAAE,CAAC,IAAE,EAAE,KAAK,MAAMH,GAAE,CAAC,IAAE,CAAC,GAAE,GAAE,CAAC,GAAEG,GAAE,CAAC,IAAE,EAAE,KAAK,MAAMH,GAAE,CAAC,IAAE,CAAC,GAAE,GAAE,CAAC,GAAEG,GAAE,CAAC,IAAE,EAAE,KAAK,MAAMH,GAAE,CAAC,IAAE,CAAC,GAAE,GAAE,CAAC,GAAEG,GAAE,CAAC,IAAE,IAAE;AAAC;AAAC,CAAC,SAASF,IAAE;AAAC,EAAAA,GAAEA,GAAE,WAAS,CAAC,IAAE,YAAWA,GAAEA,GAAE,SAAO,CAAC,IAAE,UAASA,GAAEA,GAAE,UAAQ,CAAC,IAAE,WAAUA,GAAEA,GAAE,OAAK,CAAC,IAAE;AAAM,EAAEF,OAAIA,KAAE,CAAC,EAAE;AAAE,IAAM,IAAE;AAAR,IAAY,IAAE;AAAd,IAAiB,IAAE;AAAnB,IAAqB,IAAE,IAAE;;;ACA5d,SAASK,GAAEA,IAAE;AAAC,EAAAA,GAAE,OAAO,KAAK,IAAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAS1JA,GAAE,IAAIA,GAAE,QAAQ,CAAC;AAAA;AAAA;AAAA,yBAGjBA,GAAE,IAAIA,GAAE,OAAO,CAAC;AAAA;AAAA;AAAA,yBAGhBA,GAAE,IAAIA,GAAE,IAAI,CAAC;AAAA;AAAA;AAAA,yBAGbA,GAAE,IAAIA,GAAE,QAAQ,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAMvC;AAAC;",
  "names": ["t", "i", "n", "e", "n", "e", "t", "r", "a", "a", "n"]
}
