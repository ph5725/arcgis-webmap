{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/polygonUtils.js", "../../@arcgis/core/geometry/support/triangulationUtils.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{deg2rad as r}from\"../../core/mathUtils.js\";import{getMetersPerUnitForSR as t,getMetersPerVerticalUnitForSR as o}from\"../../core/unitUtils.js\";import{i as s}from\"../../chunks/vec32.js\";import{Axis as i}from\"./Axis.js\";import{getNormal as a,create as n,fromManyPoints as m}from\"./plane.js\";function c(t,o,s){const n=e(f,t,o,s)?a(f):[0,0,1];return Math.abs(n[2])>Math.cos(r(80))?i.Z:Math.abs(n[1])>Math.abs(n[0])?i.Y:i.X}function e(r,i,a,n){const c=(r=>!Array.isArray(r[0]))(i)?(r,t)=>i[3*r+t]:(r,t)=>i[r][t],e=n?t(n)/o(n):1;return m(r,((r,t)=>s(r,c(t,0)*e,c(t,1)*e,c(t,2))),a)}const f=n();export{e as fitPlane,c as leastSignificantAxis};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{e as n}from\"../../chunks/earcut.js\";import{Axis as t}from\"./Axis.js\";import{isClockwise as e}from\"./coordsUtils.js\";import{doubleSubArray as o,doubleArrayFrom as r,newDoubleArray as s}from\"./DoubleArray.js\";import{compactMeshIndices as i}from\"./Indices.js\";import{leastSignificantAxis as l}from\"./polygonUtils.js\";import{deduplicate as c}from\"./meshUtils/deduplicate.js\";function f(t){const e=a(t.rings,t.hasZ,p.CCW_IS_HOLE,t.spatialReference),s=new Array;let l=0,f=0;for(const r of e.polygons){const t=r.count,c=r.index,h=o(e.position,3*c,3*t),a=r.holeIndices.map((n=>n-c)),g=i(n(h,a,3));s.push({position:h,faces:g}),l+=h.length,f+=g.length}const g=h(s,l,f),u=Array.isArray(g.position)?c(g.position,3,{originalIndices:g.faces}):c(g.position.buffer,6,{originalIndices:g.faces});return g.position=r(new Float64Array(u.buffer)),g.faces=u.indices,g}function h(n,t,e){if(1===n.length)return n[0];const o=s(t),r=new Array(e);let l=0,c=0,f=0;for(const s of n){for(let n=0;n<s.position.length;n++)o[l++]=s.position[n];for(const n of s.faces)r[c++]=n+f;f=l/3}return{position:o,faces:i(r)}}function a(n,t,e,o){const r=n.length,i=new Array(r),l=new Array(r),c=new Array(r);let f=0;for(let s=0;s<r;++s)f+=n[s].length;let h=0,a=0,m=0;const d=s(3*f);let y=0;for(let s=r-1;s>=0;s--){const f=n[s],A=e===p.CCW_IS_HOLE&&u(f,t,o);if(A&&1!==r)i[h++]=f;else{let n=f.length;for(let t=0;t<h;++t)n+=i[t].length;const e={index:y,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=f.length,f.length>0&&(c[m++]={index:y,count:f.length}),y=A?g(f,f.length-1,-1,d,y,f.length,t):g(f,0,1,d,y,f.length,t);for(let o=0;o<h;++o){const n=i[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(c[m++]={index:y,count:n.length}),y=g(n,0,1,d,y,n.length,t)}h=0,e.count>0&&(l[a++]=e)}}for(let s=0;s<h;++s){const n=i[s];n.length>0&&(c[m++]={index:y,count:n.length}),y=g(n,0,1,d,y,n.length,t)}return l.length=a,c.length=m,{position:d,polygons:l,outlines:c}}function g(n,t,e,o,r,s,i){r*=3;for(let l=0;l<s;++l){const s=n[t];o[r++]=s[0],o[r++]=s[1],o[r++]=i&&s[2]?s[2]:0,t+=e}return r/3}function u(n,o,r){if(!o)return!e(n);const s=n.length-1;switch(l(n,s,r)){case t.X:return!e(n,t.Y,t.Z);case t.Y:return!e(n,t.X,t.Z);case t.Z:return!e(n,t.X,t.Y)}}var p;!function(n){n[n.NONE=0]=\"NONE\",n[n.CCW_IS_HOLE=1]=\"CCW_IS_HOLE\"}(p||(p={}));export{p as CounterClockwiseMode,u as isCounterClockwise,a as ringsToTriangulationInfo,f as triangulate};\r\n"],
  "mappings": "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",
  "names": ["t", "o", "s", "n", "e", "a", "c", "r", "f", "t", "e", "a", "s", "c", "h", "n", "g", "u", "o"]
}
