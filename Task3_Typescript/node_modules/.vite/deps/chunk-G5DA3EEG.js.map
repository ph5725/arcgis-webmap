{
  "version": 3,
  "sources": ["../../@arcgis/core/core/accessorSupport/diffUtils.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport t from\"../Accessor.js\";import e from\"../Collection.js\";import{getProperties as n}from\"./utils.js\";const o=new Set([\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"]);function r(e){return e instanceof t}function f(t){return t instanceof e?Object.keys(t.items):r(t)?n(t).keys():t?Object.keys(t):[]}function i(t,n){return t instanceof e?t.items[n]:t[n]}function l(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function u(t){return t?t.declaredClass:null}function c(t,e){const n=t.diff;if(n&&\"function\"==typeof n)return n(t,e);const s=f(t),p=f(e);if(0===s.length&&0===p.length)return;if(!s.length||!p.length||l(t,e))return{type:\"complete\",oldValue:t,newValue:e};const a=p.filter((t=>!s.includes(t))),y=s.filter((t=>!p.includes(t))),d=s.filter((n=>p.includes(n)&&i(t,n)!==i(e,n))).concat(a,y).sort(),m=u(t);if(m&&o.has(m)&&d.length)return{type:\"complete\",oldValue:t,newValue:e};let h;const b=r(t)&&r(e);for(const o of d){const r=i(t,o),f=i(e,o);let l;if((b||\"function\"!=typeof r&&\"function\"!=typeof f)&&(r!==f&&(null!=r||null!=f))){if(n&&n[o]&&\"function\"==typeof n[o])l=n[o]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;l={type:\"complete\",oldValue:r,newValue:f}}else l=\"object\"==typeof r&&\"object\"==typeof f&&u(r)===u(f)?c(r,f):{type:\"complete\",oldValue:r,newValue:f};null!=l&&(null!=h?h.diff[o]=l:h={type:\"partial\",diff:{[o]:l}})}}return h}function s(t,e){return p(t,e)}function p(t,e){if(null==t)return!1;const n=e.split(\".\");let o=t;for(const r of n){if(\"complete\"===o.type)return!0;if(\"partial\"!==o.type)return!1;{const t=o.diff[r];if(!t)return!1;o=t}}return!0}function a(t,e){if(!t)return!1;if(\"partial\"===t.type){const n=Object.keys(t.diff);return 1===n.length&&n[0]===e}return!1}function y(t,e){if(\"function\"!=typeof t&&\"function\"!=typeof e&&(null!=t||null!=e))return null==t||null==e||\"object\"==typeof t&&\"object\"==typeof e&&u(t)!==u(e)?{type:\"complete\",oldValue:t,newValue:e}:c(t,e)}function d(t){if(null==t)return!0;switch(t.type){case\"complete\":return!1;case\"collection\":{const e=t;for(const t of e.added)if(!d(t))return!1;for(const t of e.removed)if(!d(t))return!1;for(const t of e.changed)if(!d(t))return!1;return!0}case\"partial\":for(const e in t.diff){if(!d(t.diff[e]))return!1}return!0}}export{y as diff,p as hasDiff,s as hasRootDiff,a as hasRootDiffOnly,d as isEmpty};\r\n"],
  "mappings": "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",
  "names": ["n", "s", "p", "a", "t", "y", "d", "b", "o", "r", "f", "l"]
}
