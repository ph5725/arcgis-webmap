{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/meshUtils/External.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport s from\"../../../request.js\";import{equals as t}from\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{getFileFormatId as r,getMimeTypeOrFilenameFormatId as a}from\"../../../layers/support/infoFor3D.js\";class i{constructor(s,t,e){this.assetName=s,this.assetMimeType=t,this.parts=e}equals(s){return this===s||this.assetName===s.assetName&&this.assetMimeType===s.assetMimeType&&t(this.parts,s.parts,((s,t)=>s.equals(t)))}isOnService(s){return this.parts.every((t=>t.isOnService(s)))}makeHash(){let s=\"\";for(const t of this.parts)s+=t.partHash;return s}async toBlob(s){const{parts:t}=this;if(1===t.length)return t[0].toBlob(s);const r=await Promise.all(t.map((t=>t.toBlob(s))));return e(s),new Blob(r)}}class n{constructor(s,t){this.partUrl=s,this.partHash=t}equals(s){return this===s||this.partUrl===s.partUrl&&this.partHash===s.partHash}isOnService(s){return this.partUrl.startsWith(`${s.path}/assets/`)}async toBlob(t){const{data:r}=await s(this.partUrl,{responseType:\"blob\"});return e(t),r}}function o(s){return l(s?.source)}const c=/^(model\\/gltf\\+json)|(model\\/gltf-binary)$/,u=/\\.(gltf|glb)/i;function l(s){switch(s?.type){case\"client\":return Array.isArray(s.files)?s.files.some(p):p(s.files);case\"service\":return s.assets.some(p);case\"loadable\":return!0;default:return!1}}function p(s){if(s instanceof File){const{type:t,name:e}=s;return c.test(t)||u.test(e)}return c.test(s.assetMimeType)||u.test(s.assetName)}function f(s,t){if(!s)return!1;const{source:e}=s;return h(e,t)}function m(s,t){if(s===t)return!0;const{source:e}=s,{source:r}=t;if(e===r)return!0;if(\"service\"===e.type&&\"service\"===r.type){if(e.assets.length!==r.assets.length)return!1;const s=(s,t)=>s.assetName<t.assetName?-1:s.assetName>t.assetName?1:0,t=[...e.assets].sort(s),a=[...r.assets].sort(s);for(let e=0;e<t.length;++e)if(!t[e].equals(a[e]))return!1;return!0}return!1}function h(s,t){return\"service\"===s.type&&s.assets.every((s=>s.isOnService(t)))}function y(s,t){return s instanceof File?r(s,t):a(s.assetMimeType,s.assetName,t)}function b(s){switch(s.type){case\"client\":return Array.isArray(s.files)?s.files:[s.files];case\"service\":return s.assets;case\"loadable\":return}}function v(s){return!!s.original}export{i as ServiceAsset,n as ServiceAssetPart,y as assetFormatId,f as externalIsOnService,b as externalSourceToMultiPart,m as externalSourcesAreEqual,p as isDisplayAsset,o as isDisplayExternal,l as isDisplaySource,v as isOriginalExternal};\r\n"],
  "mappings": "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",
  "names": ["s", "t", "c", "f", "h", "e"]
}
