{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/displayFilterUtils.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{floatGreaterThan as e,floatLessThan as n,floatEqualAbsolute as t,floatGreaterThanOrEqual as r}from\"../../core/mathUtils.js\";import{sqlOr as o}from\"../../core/sql.js\";function i(e,n){return{...n,filterMode:e.mode}}function u(e,n){return l(e,n).next().value??null}function c(t,r,i){const u=f(t);if(u&&(e(r,u[0])||n(i,u[1])))return\"\";const c=Array.from(l(t,r,i)),m=a(c,r,i)?\"1=1\":c.map((e=>e.where||\"1=1\")).reduce(((e,n)=>o(e,n)),\"\");return m&&\"1=1\"!==m?m:\"\"}function f(e){if(\"manual\"===s(e))return null;const n=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:t,maxScale:r}of e.filters)n[0]=Math.max(n[0],I(t)),n[1]=Math.min(n[1],d(r));return n}function*l(e,n,t){if(\"manual\"===s(e)){const n=e.filters.find((n=>n.id===e.activeFilterId));n&&(yield n)}else{\"object\"==typeof n&&(n=n.scale);for(const r of e.filters)m(r.minScale,r.maxScale,n,t)&&(yield r)}}function a(t,r,o){if(0===t.length)return!0;const i=I(t.at(0)?.minScale),u=d(t.at(-1)?.maxScale);if(n(i,r)||e(u,o))return!0;for(let e=0;e<t.length-1;e++){const r=t[e],o=t[e+1];if(n(I(o.minScale),d(r.maxScale)))return!0}return!1}function m(e,n,o,i){return e=I(e),o=I(o),n=d(n),!(!t(o,e)&&(i??o)>e)&&(!r(n,o)&&(void 0===i||!t(i,e)))}function s(e){return\"mode\"in e?e.mode:e.filterMode}function I(e){return e||Number.POSITIVE_INFINITY}function d(e){return e||0}export{i as createDisplayFilterJSONContext,c as getClauseForScaleRange,u as getEffectiveDisplayFilter};\r\n"],
  "mappings": ";;;;;;;;;;;AAI6K,SAAS,EAAE,GAAE,GAAE;AAAC,SAAM,EAAC,GAAG,GAAE,YAAW,EAAE,KAAI;AAAC;AAAC,SAASA,GAAE,GAAE,GAAE;AAAC,SAAO,EAAE,GAAE,CAAC,EAAE,KAAK,EAAE,SAAO;AAAI;AAAC,SAAS,EAAE,GAAE,GAAEC,IAAE;AAAC,QAAMD,KAAE,EAAE,CAAC;AAAE,MAAGA,OAAI,EAAE,GAAEA,GAAE,CAAC,CAAC,KAAG,EAAEC,IAAED,GAAE,CAAC,CAAC,GAAG,QAAM;AAAG,QAAME,KAAE,MAAM,KAAK,EAAE,GAAE,GAAED,EAAC,CAAC,GAAEE,KAAE,EAAED,IAAE,GAAED,EAAC,IAAE,QAAMC,GAAE,IAAK,OAAG,EAAE,SAAO,KAAM,EAAE,OAAQ,CAAC,GAAE,MAAI,EAAE,GAAE,CAAC,GAAG,EAAE;AAAE,SAAOC,MAAG,UAAQA,KAAEA,KAAE;AAAE;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,aAAW,EAAE,CAAC,EAAE,QAAO;AAAK,QAAM,IAAE,CAAC,OAAO,mBAAkB,OAAO,iBAAiB;AAAE,aAAS,EAAC,UAAS,GAAE,UAAS,EAAC,KAAI,EAAE,QAAQ,GAAE,CAAC,IAAE,KAAK,IAAI,EAAE,CAAC,GAAE,EAAE,CAAC,CAAC,GAAE,EAAE,CAAC,IAAE,KAAK,IAAI,EAAE,CAAC,GAAE,EAAE,CAAC,CAAC;AAAE,SAAO;AAAC;AAAC,UAAS,EAAE,GAAE,GAAE,GAAE;AAAC,MAAG,aAAW,EAAE,CAAC,GAAE;AAAC,UAAMC,KAAE,EAAE,QAAQ,KAAM,CAAAA,OAAGA,GAAE,OAAK,EAAE,cAAe;AAAE,IAAAA,OAAI,MAAMA;AAAA,EAAE,OAAK;AAAC,gBAAU,OAAO,MAAI,IAAE,EAAE;AAAO,eAAU,KAAK,EAAE,QAAQ,CAAAD,GAAE,EAAE,UAAS,EAAE,UAAS,GAAE,CAAC,MAAI,MAAM;AAAA,EAAE;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE,GAAE;AAAC,MAAG,MAAI,EAAE,OAAO,QAAM;AAAG,QAAMF,KAAE,EAAE,EAAE,GAAG,CAAC,GAAG,QAAQ,GAAED,KAAE,EAAE,EAAE,GAAG,EAAE,GAAG,QAAQ;AAAE,MAAG,EAAEC,IAAE,CAAC,KAAG,EAAED,IAAE,CAAC,EAAE,QAAM;AAAG,WAAQ,IAAE,GAAE,IAAE,EAAE,SAAO,GAAE,KAAI;AAAC,UAAMK,KAAE,EAAE,CAAC,GAAEC,KAAE,EAAE,IAAE,CAAC;AAAE,QAAG,EAAE,EAAEA,GAAE,QAAQ,GAAE,EAAED,GAAE,QAAQ,CAAC,EAAE,QAAM;AAAA,EAAE;AAAC,SAAM;AAAE;AAAC,SAASF,GAAE,GAAE,GAAE,GAAEF,IAAE;AAAC,SAAO,IAAE,EAAE,CAAC,GAAE,IAAE,EAAE,CAAC,GAAE,IAAE,EAAE,CAAC,GAAE,EAAE,CAAC,EAAE,GAAE,CAAC,MAAIA,MAAG,KAAG,OAAK,CAAC,EAAE,GAAE,CAAC,MAAI,WAASA,MAAG,CAAC,EAAEA,IAAE,CAAC;AAAG;AAAC,SAAS,EAAE,GAAE;AAAC,SAAM,UAAS,IAAE,EAAE,OAAK,EAAE;AAAU;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,KAAG,OAAO;AAAiB;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,KAAG;AAAC;",
  "names": ["u", "i", "c", "m", "n", "r", "o"]
}
