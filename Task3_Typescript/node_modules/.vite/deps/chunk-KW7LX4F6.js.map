{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/support/previewSymbol3D.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{getAssetUrl as e}from\"../../assets.js\";import{toHSV as t,toRGB as l}from\"../../core/colorUtils.js\";import\"../../core/has.js\";import a from\"../../core/Error.js\";import s from\"../../core/Logger.js\";import{pt2px as n}from\"../../core/screenUtils.js\";import{defaultThematicColor as r,dekebabifyLineStyle as o,getPatternUrlWithColor as i}from\"./gfxUtils.js\";import{defaultPrimitive as c}from\"./IconSymbol3DLayerResource.js\";import{defaultPrimitive as p}from\"./ObjectSymbol3DLayerResource.js\";import{adjustColorComponentBrightness as u,getExtrudeSymbolShapes as h,shapes as m,getPathSymbolShapes as f,SymbolSizeDefaults as y,getTetrahedronShapes as d,getDiamondShapes as b,getCylinderShapes as k,getCubeShapes as v,getInvertedConeShapes as g,getConeShapes as w,getWaterSymbolShapes as x}from\"./previewUtils.js\";import{renderSymbol as M,tintImageWithColor as L}from\"./renderUtils.js\";import{isVolumetricSymbol as j,getIconHref as z}from\"./utils.js\";import{resolveWebStyleSymbol as S}from\"./webStyleSymbolUtils.js\";const P=y.size,D=y.maxSize,U=y.maxOutlineSize,O=y.lineWidth,C=y.tallSymbolWidth;function R(e){const t=e.outline,l=null!=e.material?e.material.color:null,a=null!=l?l.toHex():null;if(null==t||\"pattern\"in t&&null!=t.pattern&&\"style\"===t.pattern.type&&\"none\"===t.pattern.style)return\"fill\"===e.type&&\"#ffffff\"===a?{color:\"#bdc3c7\",width:.75}:null;const s=n(t.size)||0;return{color:\"rgba(\"+(null!=t.color?t.color.toRgba():\"255,255,255,1\")+\")\",width:Math.min(s,U),style:\"pattern\"in t&&null!=t.pattern&&\"style\"===t.pattern.type?o(t.pattern.style):null,join:\"butt\",cap:\"patternCap\"in t?t.patternCap:\"butt\"}}async function E(t,l){if(t.thumbnail?.url)return t.thumbnail.url;if(\"icon\"===l.type){const e=l?.resource?.href;if(e)return z(l)}const a=e(\"esri/images/Legend/legend3dsymboldefault.png\");if(t.styleOrigin&&(t.styleOrigin.styleName||t.styleOrigin.styleUrl)){const e=await S(t.styleOrigin,{portal:t.styleOrigin.portal}).catch((()=>null));if(e&&\"thumbnail\"in e&&e.thumbnail?.url)return e.thumbnail.url}return a}function q(e,a=1){const s=e.a,n=t(e),r=n.h,o=n.s/a,i=100-(100-n.v)/a,{r:c,g:p,b:u}=l({h:r,s:o,v:i});return[c,p,u,s]}function I(e){return\"water\"===e.type?null==e.color?null:e.color:null==e.material?.color?null:e.material.color}function Z(e,t=0){const l=I(e);if(!l){if(\"fill\"===e.type)return null;const l=r.r,a=u(l,t);return[a,a,a,100]}const a=l.toRgba();for(let s=0;s<3;s++)a[s]=u(a[s],t);return a}async function H(t,l){const a=t.style;if(\"none\"===a)return null;return{type:\"pattern\",x:0,y:0,src:await i(e(`esri/symbols/patterns/${a}.png`),l.toCss(!0)),width:5,height:5}}function N(e){return e.outline?R(e):{color:\"rgba(0, 0, 0, 1)\",width:1.5}}function T(e,t){const l=I(e);if(!l)return null;let a=\"rgba(\";return a+=u(l.r,t)+\",\",a+=u(l.g,t)+\",\",a+=u(l.b,t)+\",\",a+l.a+\");\"}function W(e,t){const l=T(e,t);if(!l)return{};if(\"pattern\"in e&&null!=e.pattern&&\"style\"===e.pattern.type&&\"none\"===e.pattern.style)return null;return{color:l,width:Math.min(e.size?n(e.size):.75,U),style:\"pattern\"in e&&null!=e.pattern&&\"style\"===e.pattern.type?o(e.pattern.style):null,cap:\"cap\"in e?e.cap:null,join:\"join\"in e?\"miter\"===e.join?n(2):e.join:null}}function F(e,t,l){const a=null!=l?.75*l:0;return{type:\"linear\",x1:a?.25*a:0,y1:a?.5*a:0,x2:a||4,y2:a?.5*a:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function $(e){const t=e.depth,l=e.height,a=e.width;return 0!==a&&0!==t&&0!==l&&a===t&&null!=a&&null!=l&&a<l}function A(e,t,l){const a=[];if(!e)return a;switch(e.type){case\"icon\":{const l=0,s=0,n=t,r=t;switch(e.resource?.primitive??c){case\"circle\":a.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:Z(e,0),stroke:R(e)});break;case\"square\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,r]},{command:\"L\",values:[l,s]},{command:\"L\",values:[n,s]},{command:\"L\",values:[n,r]},{command:\"Z\",values:[]}]},fill:Z(e,0),stroke:R(e)});break;case\"triangle\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,r]},{command:\"L\",values:[.5*n,s]},{command:\"L\",values:[n,r]},{command:\"Z\",values:[]}]},fill:Z(e,0),stroke:R(e)});break;case\"cross\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[.5*n,s]},{command:\"L\",values:[.5*n,r]},{command:\"M\",values:[l,.5*r]},{command:\"L\",values:[n,.5*r]}]},stroke:N(e)});break;case\"x\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,s]},{command:\"L\",values:[n,r]},{command:\"M\",values:[n,s]},{command:\"L\",values:[l,r]}]},stroke:N(e)});break;case\"kite\":a.push({shape:{type:\"path\",path:[{command:\"M\",values:[l,.5*r]},{command:\"L\",values:[.5*n,s]},{command:\"L\",values:[n,.5*r]},{command:\"L\",values:[.5*n,r]},{command:\"Z\",values:[]}]},fill:Z(e,0),stroke:R(e)})}break}case\"object\":switch(e.resource?.primitive??p){case\"cone\":{const s=F(Z(e,0),Z(e,-.6),l?C:t),n=w(t,l);a.push({shape:n[0],fill:s},{shape:n[1],fill:s});break}case\"inverted-cone\":{const l=Z(e,0),s=F(l,Z(e,-.6),t),n=g(t);a.push({shape:n[0],fill:s},{shape:n[1],fill:l});break}case\"cube\":{const s=v(t,l);a.push({shape:s[0],fill:Z(e,0)},{shape:s[1],fill:Z(e,-.3)},{shape:s[2],fill:Z(e,-.5)});break}case\"cylinder\":{const s=F(Z(e,0),Z(e,-.6),l?C:t),n=k(t,l);a.push({shape:n[0],fill:s},{shape:n[1],fill:s},{shape:n[2],fill:Z(e,0)});break}case\"diamond\":{const l=b(t);a.push({shape:l[0],fill:Z(e,-.3)},{shape:l[1],fill:Z(e,0)},{shape:l[2],fill:Z(e,-.3)},{shape:l[3],fill:Z(e,-.7)});break}case\"sphere\":{const l=F(Z(e,0),Z(e,-.6));l.x1=0,l.y1=0,l.x2=.25*t,l.y2=.25*t,a.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:l});break}case\"tetrahedron\":{const l=d(t);a.push({shape:l[0],fill:Z(e,-.3)},{shape:l[1],fill:Z(e,0)},{shape:l[2],fill:Z(e,-.6)});break}}break}return a}function B(e){const t=\"number\"==typeof e?.size?e?.size:null;return t?n(t):null}function G(e){return\"icon\"===e.type?\"multiply\":\"tint\"}async function J(e,t){const l=B(t),a=t?.maxSize?n(t.maxSize):null,r=t?.disableUpsampling??!1,o=e.symbolLayers,i=[],c=[];let p=!1,u=0,h=0,m=0;o.forEach((s=>{if(\"icon\"!==s.type&&\"object\"!==s.type)return;s&&\"icon\"===s.type&&(m=Math.max(s.size&&n(s.size),m));const o=\"icon\"===s.type?s.size&&n(s.size):0,f=l||o?Math.ceil(Math.min(l||o,a||D)):P;let y=\"icon\"===s.type?s.angle:null;if(null!=t?.rotation&&(y=(y??0)+t.rotation),c.push(y),s?.resource?.href){const t=E(e,s).then((e=>{const t=s?.material?.color,l=G(s);return L(e,f,t,l,r)})).then((e=>{const t=e.width,l=e.height;return u=Math.max(u,t),h=Math.max(h,l),y&&(p=!0),[{shape:{type:\"image\",x:0,y:0,width:t,height:l,src:e.url},fill:null,stroke:null}]}));i.push(t)}else{let e=f;\"icon\"===s.type&&l&&(e=f*(o/m));const a=\"tall\"===t?.symbolConfig||t?.symbolConfig?.isTall||\"object\"===s.type&&$(s);u=Math.max(u,a?C:e),h=Math.max(h,e),y&&s.resource?.primitive&&[\"square\",\"triangle\",\"x\"].includes(s.resource?.primitive)&&(p=!0),i.push(Promise.resolve(A(s,e,a)))}}));const f=await Promise.allSettled(i),y=[];return f.forEach((e=>{\"fulfilled\"===e.status?y.push(e.value):e.reason&&s.getLogger(\"esri.symbols.support.previewSymbol3D\").warn(\"error while building swatchInfo!\",e.reason)})),M(y,[u,h],{node:t?.node,scale:!1,opacity:t?.opacity,ariaLabel:t?.ariaLabel,rotations:c,useRotationSize:p})}function K(e,t){const l=e.symbolLayers,a=[],s=j(e),r=B(t),o=(t?.maxSize?n(t.maxSize):null)||U;let i,c=0,p=0;return l.forEach(((e,t)=>{if(!e)return;if(\"line\"!==e.type&&\"path\"!==e.type)return;const l=[];switch(e.type){case\"line\":{const a=W(e,0);if(null==a)break;const s=a?.width||0;0===t&&(i=s);const n=Math.min(r||s,o),u=0===t?n:r?n*(s/i):n,h=u>O/2?2*u:O;p=Math.max(p,u),c=Math.max(c,h),a.width=u,l.push({shape:{type:\"path\",path:[{command:\"M\",values:[0,.5*p]},{command:\"L\",values:[c,.5*p]}]},stroke:a});break}case\"path\":{const t=Math.min(r||P,o),a=Z(e,0),s=Z(e,-.2),n=T(e,-.4),i=n?{color:n,width:1}:{};if(\"quad\"===e.profile){const t=e.width,n=e.height,r=f(t&&n?t/n:1,0===n,0===t),o={...i,join:\"bevel\"};l.push({shape:r[0],fill:s,stroke:o},{shape:r[1],fill:s,stroke:o},{shape:r[2],fill:a,stroke:o})}else l.push({shape:m.pathSymbol3DLayer[0],fill:s,stroke:i},{shape:m.pathSymbol3DLayer[1],fill:a,stroke:i});p=Math.max(p,t),c=p}}a.push(l)})),Promise.resolve(M(a,[c,p],{node:t?.node,scale:s,opacity:t?.opacity,ariaLabel:t?.ariaLabel}))}async function Q(e,t){const l=\"mesh-3d\"===e.type,a=e.symbolLayers,s=B(t),r=t?.maxSize?n(t.maxSize):null,o=s||P,i=[];let c=0,p=0,u=!1;for(let n=0;n<a.length;n++){const e=a.at(n),t=[];if(!l||\"fill\"===e.type){switch(e.type){case\"fill\":{const a=Math.min(o,r||D);if(c=Math.max(c,a),p=Math.max(p,a),u=!0,l){const l=m.meshSymbol3DFill,a=T(e,-.4),s=a?{color:a,width:1,join:\"round\"}:{};t.push({shape:l[0],fill:Z(e,0),stroke:s},{shape:l[1],fill:Z(e,-.2),stroke:s},{shape:l[2],fill:Z(e,-.6),stroke:s})}else{let l=Z(e,0);const a=\"pattern\"in e?e.pattern:null,s=R(e),n=I(e);null!=a&&\"style\"===a.type&&\"solid\"!==a.style&&n&&(l=await H(a,n)),t.push({shape:m.fill[0],fill:l,stroke:s})}break}case\"line\":{const l=W(e,0);if(null==l)break;const a={stroke:l,shape:m.fill[0]};c=Math.max(c,P),p=Math.max(p,P),t.push(a);break}case\"extrude\":{const l={join:\"round\",width:1,...W(e,-.4)},a=Z(e,0),s=Z(e,-.2),n=Math.min(o,r||D),i=h(n);l.width=1,t.push({shape:i[0],fill:s,stroke:l},{shape:i[1],fill:s,stroke:l},{shape:i[2],fill:a,stroke:l});const u=P,m=.7*P+.5*n;c=Math.max(c,u),p=Math.max(p,m);break}case\"water\":{const l=I(e),a=q(l),s=q(l,2),n=q(l,3),i=x();u=!0,t.push({shape:i[0],fill:a},{shape:i[1],fill:s},{shape:i[2],fill:n});const h=Math.min(o,r||D);c=Math.max(c,h),p=Math.max(p,h);break}}i.push(t)}}return M(i,[c,p],{node:t?.node,scale:u,opacity:t?.opacity,ariaLabel:t?.ariaLabel})}function V(e,t){if(0===e.symbolLayers.length)return Promise.reject(new a(\"symbolPreview: renderPreviewHTML3D\",\"No symbolLayers in the symbol.\"));switch(e.type){case\"point-3d\":return J(e,t);case\"line-3d\":return K(e,t);case\"polygon-3d\":case\"mesh-3d\":return Q(e,t)}return Promise.reject(new a(\"symbolPreview: swatchInfo3D\",\"symbol not supported.\"))}export{H as getPatternDescriptor,B as getSizeFromOptions,Z as getSymbolLayerFill,V as previewSymbol3D};\r\n"],
  "mappings": "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",
  "names": ["U", "e", "t", "l", "s", "b", "n", "o", "i", "c", "p", "u", "a", "h", "B", "m", "f", "y", "d", "r"]
}
