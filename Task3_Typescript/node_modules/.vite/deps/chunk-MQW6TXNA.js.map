{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/layers/features/support/arcadeUtils.js", "../../@arcgis/core/views/2d/layers/features/support/Tile.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nfunction e(e,{timeZone:t,timeExtent:r}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:r?.start,currentEnd:r?.end}}}}export{e as createArcadeEvaluationOptions};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../../core/ArrayPool.js\";import{create as t,toExtent as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import s from\"../../../../../rest/support/QuantizationParameters.js\";import{createArcadeEvaluationOptions as o}from\"./arcadeUtils.js\";import n from\"../../../tiling/TileKey.js\";class r{constructor(e,i){this.key=new n(0,0,0,0),this.bounds=t(),this.objectIds=new Set,this.key.set(i);const s=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=s.resolution,this.level=s.level,this.scale=s.scale,this.minScale=e.zoomToScale(s.level-1),this.maxScale=e.zoomToScale(s.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return i(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:\"upperLeft\",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return o(this.scale,e)}createChildTiles(){const t=this.key.getChildKeys(),i=e.acquire();for(let e=0;e<t.length;e++)i[e]=new r(this.tileInfoView,t[e]);return i}getQuantizationParameters(){return s.fromJSON({mode:\"view\",originPosition:\"upperLeft\",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}export{r as Tile};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;AAIA,SAASA,GAAEA,IAAE,EAAC,UAASC,IAAE,YAAWC,GAAC,GAAE;AAAC,SAAM,EAAC,OAAM,EAAC,OAAMF,IAAE,UAASC,IAAE,gBAAe,EAAC,cAAaC,IAAG,OAAM,YAAWA,IAAG,IAAG,EAAC,EAAC;AAAC;;;ACAsL,IAAM,IAAN,MAAM,GAAC;AAAA,EAAC,YAAYC,IAAE,GAAE;AAAC,SAAK,MAAI,IAAI,EAAE,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,SAAO,EAAE,GAAE,KAAK,YAAU,oBAAI,OAAI,KAAK,IAAI,IAAI,CAAC;AAAE,UAAM,IAAEA,GAAE,aAAa,KAAK,GAAG;AAAE,SAAK,eAAaA,IAAE,KAAK,aAAa,cAAc,KAAK,QAAO,KAAK,KAAI,IAAE,GAAE,KAAK,aAAW,EAAE,YAAW,KAAK,QAAM,EAAE,OAAM,KAAK,QAAM,EAAE,OAAM,KAAK,WAASA,GAAE,YAAY,EAAE,QAAM,CAAC,GAAE,KAAK,WAASA,GAAE,YAAY,EAAE,QAAM,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,MAAK;AAAC,WAAO,KAAK,aAAa,aAAa,KAAK,GAAG;AAAA,EAAC;AAAA,EAAC,IAAI,KAAI;AAAC,WAAO,KAAK,IAAI;AAAA,EAAE;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,EAAE,KAAK,QAAO,KAAK,aAAa,SAAS,gBAAgB;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAM,EAAC,gBAAe,aAAY,OAAM,CAAC,KAAK,YAAW,KAAK,UAAU,GAAE,WAAU,CAAC,KAAK,OAAO,CAAC,GAAE,KAAK,OAAO,CAAC,CAAC,EAAC;AAAA,EAAC;AAAA,EAAC,8BAA8BA,IAAE;AAAC,WAAOA,GAAE,KAAK,OAAMA,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,UAAMC,KAAE,KAAK,IAAI,aAAa,GAAE,IAAE,EAAE,QAAQ;AAAE,aAAQD,KAAE,GAAEA,KAAEC,GAAE,QAAOD,KAAI,GAAEA,EAAC,IAAE,IAAI,GAAE,KAAK,cAAaC,GAAED,EAAC,CAAC;AAAE,WAAO;AAAA,EAAC;AAAA,EAAC,4BAA2B;AAAC,WAAO,EAAE,SAAS,EAAC,MAAK,QAAO,gBAAe,aAAY,WAAU,KAAK,YAAW,QAAO,EAAC,MAAK,KAAK,OAAO,CAAC,GAAE,MAAK,KAAK,OAAO,CAAC,GAAE,MAAK,KAAK,OAAO,CAAC,GAAE,MAAK,KAAK,OAAO,CAAC,GAAE,kBAAiB,KAAK,aAAa,SAAS,iBAAgB,EAAC,CAAC;AAAA,EAAC;AAAC;",
  "names": ["e", "t", "r", "e", "t"]
}
