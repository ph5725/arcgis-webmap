{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/coordsUtils.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{equals as n}from\"../../core/arrayUtils.js\";import{Axis as t}from\"./Axis.js\";import{getInfo as r}from\"./spatialReferenceUtils.js\";function e(n){if(!n)return null;if(Array.isArray(n))return n;const t=n.hasZ,r=n.hasM;if(\"point\"===n.type)return r&&t?[n.x,n.y,n.z,n.m]:t?[n.x,n.y,n.z]:r?[n.x,n.y,n.m]:[n.x,n.y];if(\"polygon\"===n.type)return n.rings.slice();if(\"polyline\"===n.type)return n.paths.slice();if(\"multipoint\"===n.type)return n.points.slice();if(\"extent\"===n.type){const t=n.clone().normalize();if(!t)return null;let r=!1,e=!1;return t.forEach((n=>{n.hasZ&&(r=!0),n.hasM&&(e=!0)})),t.map((n=>{const t=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]];if(r&&n.hasZ){const r=.5*(n.zmax-n.zmin);for(let n=0;n<t.length;n++)t[n].push(r)}if(e&&n.hasM){const r=.5*(n.mmax-n.mmin);for(let n=0;n<t.length;n++)t[n].push(r)}return t}))}return null}function i(n,t){const r=t[0]-n[0],e=t[1]-n[1];if(n.length>2&&t.length>2){const i=n[2]-t[2];return Math.sqrt(r*r+e*e+i*i)}return Math.sqrt(r*r+e*e)}function o(n,t,r){const e=n[0]+r*(t[0]-n[0]),i=n[1]+r*(t[1]-n[1]);return n.length>2&&t.length>2?[e,i,n[2]+r*(t[2]-n[2])]:[e,i]}function s(n,t,r,e){return f(n,t,r[e],r[e+1])}function f(n,t,r,e){const[i,o]=t,[s,f]=r,[u,l]=e,c=u-s,h=l-f,p=c*c+h*h,a=(i-s)*c+(o-f)*h,y=Math.min(1,Math.max(0,a/p));return n[0]=s+c*y,n[1]=f+h*y,n}function u(n,t,r){let e,i,o,s,f=!1,u=1/0;for(r.reset();r.nextPath();)if(r.nextPoint())for(e=r.x,i=r.y;r.nextPoint();)o=r.x,s=r.y,i>t!=s>t&&n<(o-e)*(t-i)/(s-i)+e&&(f=!f),u=Math.min(u,l(n,t,e,i,o,s)),e=o,i=s;return 0===u?0:(f?1:-1)*Math.sqrt(u)}function l(n,t,r,e,i,o){let s=r,f=e,u=i-s,l=o-f;if(0!==u||0!==l){const r=((n-s)*u+(t-f)*l)/(u*u+l*l);r>1?(s=i,f=o):r>0&&(s+=u*r,f+=l*r)}return u=n-s,l=t-f,u*u+l*l}function c(n,t){return o(n,t,.5)}function h(n){const t=n.length;let r=0;for(let e=0;e<t-1;++e)r+=i(n[e],n[e+1]);return r}function p(n,t){if(t<=0)return n[0];const r=n.length;let e=0;for(let s=0;s<r-1;++s){const r=i(n[s],n[s+1]);if(t-e<r){const i=(t-e)/r;return o(n[s],n[s+1],i)}e+=r}return n[r-1]}function a(n,r=t.X,e=t.Y){let i=0;const o=n.length;let s=n[0];for(let t=1;t<o;t++){const o=n[t];i+=(o[r]-s[r])*(o[e]+s[e]),s=o}if(y(n)){const t=n[0];i+=(t[r]-s[r])*(t[e]+s[e])}return i>=0}function y(t){const r=t.length;return r>0&&!n(t[0],t[r-1])}function m(n){\"rings\"in n&&(g(n),x(n))}function g(n){if(\"rings\"in n)for(const t of n.rings)y(t)&&t.push(t[0].slice())}function x(n){if(!(\"rings\"in n))return!1;if(0===n.rings.length||a(n.rings[0]))return!1;for(const t of n.rings)t.reverse();return!0}function M(n){if(\"polygon\"!==n.type&&\"polyline\"!==n.type)return n;return z(\"polygon\"===n.type?n.rings:n.paths,n.spatialReference),n}function z(n,t){const e=r(t);if(!e)return;const i=e.valid[0],o=e.valid[1],s=o-i;for(const r of n){let n=1/0,t=-1/0;for(const s of r){const r=v(s[0],i,o);n=Math.min(n,r),t=Math.max(t,r),s[0]=r}const e=t-n;s-e<e&&r.forEach((n=>{n[0]<0&&(n[0]+=s)}))}}function v(n,t,r){const e=r-t;return n<t?r-(t-n)%e:n>r?t+(n-t)%e:n}function j(n,t){if(n===t)return!0;if(n.type!==t.type)return!1;if(\"point\"===n.type||\"mesh\"===n.type||\"extent\"===n.type)return!0;if(\"multipoint\"===n.type)return n.points.length===t.points.length;const[r,e]=\"polyline\"===n.type?[n.paths,t.paths]:[n.rings,t.rings];return r.length===e.length&&r.every(((n,t)=>n.length===e[t].length))}export{g as closeRings,m as closeRingsAndFixWinding,u as distanceFromPointToPolygon,l as distanceToSegmentSquared,e as geometryToCoordinates,i as getLength,c as getMidpoint,h as getPathLength,p as getPointOnPath,j as hasCompatibleTopology,a as isClockwise,s as projectPointOnLine,f as projectPointOnLineSeg,M as unnormalizeGeometryOnDatelineCrossing,z as unnormalizeVerticesOnDatelineCrossing,v as unnormalizedCoordinate};\r\n"],
  "mappings": "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",
  "names": ["n", "t", "r", "e", "i", "o", "s", "f", "l", "c", "h", "p", "a", "y", "n", "e", "i", "o", "s", "f", "l", "r", "h", "t"]
}
