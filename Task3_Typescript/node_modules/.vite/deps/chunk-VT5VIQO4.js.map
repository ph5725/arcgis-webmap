{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2BindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DUintBindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js", "../../@arcgis/core/webscene/support/AlphaCutoff.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"ivec2\",r.Bind,((r,i)=>r.setUniform2iv(e,o(i))))}}export{o as Integer2BindUniform};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class e extends o{constructor(o,e){super(o,\"int\",r.Bind,((r,i)=>r.setUniform1i(o,e(i))))}}export{e as IntegerBindUniform};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"usampler2D\",r.Bind,((r,s)=>r.bindTexture(e,o(s))))}}export{o as Texture2DUintBindUniform};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{HighlightReadBitmap as i}from\"../HighlightReadBitmap.glsl.js\";import{ShaderOutput as e}from\"../ShaderOutput.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{Integer2BindUniform as h}from\"../../shaderModules/Integer2BindUniform.js\";import{IntegerBindUniform as g}from\"../../shaderModules/IntegerBindUniform.js\";import{Texture2DBindUniform as l}from\"../../shaderModules/Texture2DBindUniform.js\";import{Texture2DUintBindUniform as d}from\"../../shaderModules/Texture2DUintBindUniform.js\";function o(o,u){const{fragment:r}=o,{output:c,draped:n,hasHighlightMixTexture:s}=u;c===e.Highlight?(r.uniforms.add(new g(\"highlightLevel\",(i=>i.highlightLevel??0)),new h(\"highlightMixOrigin\",(i=>i.highlightMixOrigin))),o.outputs.add(\"fragHighlight\",\"uvec2\",0),o.include(i),s?r.uniforms.add(new d(\"highlightMixTexture\",(i=>i.highlightMixTexture))).code.add(t`uvec2 getAccumulatedHighlight() {\r\nreturn texelFetch(highlightMixTexture, ivec2(gl_FragCoord.xy) - highlightMixOrigin, 0).rg;\r\n}\r\nvoid outputHighlight(bool occluded) {\r\nif (highlightLevel == 0) {\r\nuint bits = occluded ? 3u : 1u;\r\nfragHighlight = uvec2(bits, 0);\r\n} else {\r\nint ll = (highlightLevel & 3) << 1;\r\nint li = (highlightLevel >> 2) & 3;\r\nuint bits;\r\nif (occluded) {\r\nbits = 3u << ll;\r\n} else {\r\nbits = 1u << ll;\r\n}\r\nuvec2 combinedHighlight = getAccumulatedHighlight();\r\ncombinedHighlight[li] |= bits;\r\nfragHighlight = combinedHighlight;\r\n}\r\n}`):r.code.add(t`void outputHighlight(bool occluded) {\r\nuint bits = occluded ? 3u : 1u;\r\nfragHighlight = uvec2(bits, 0);\r\n}`),n?r.code.add(t`bool isHighlightOccluded() {\r\nreturn false;\r\n}`):r.uniforms.add(new l(\"depthTexture\",(i=>i.mainDepth))).code.add(t`bool isHighlightOccluded() {\r\nfloat sceneDepth = texelFetch(depthTexture, ivec2(gl_FragCoord.xy), 0).x;\r\nreturn gl_FragCoord.z > sceneDepth + 5e-7;\r\n}`),r.code.add(t`void calculateOcclusionAndOutputHighlight() {\r\noutputHighlight(isHighlightOccluded());\r\n}`)):r.code.add(t`void calculateOcclusionAndOutputHighlight() {}`)}export{o as OutputHighlight};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nconst o=1/255.5;export{o as alphaCutoff};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAIgH,IAAMA,KAAN,cAAgB,EAAC;AAAA,EAAC,YAAYC,IAAED,IAAE;AAAC,UAAMC,IAAE,SAAQ,EAAE,MAAM,CAAC,GAAEC,OAAI,EAAE,cAAcD,IAAED,GAAEE,EAAC,CAAC,CAAE;AAAA,EAAC;AAAC;;;ACA5F,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,YAAYC,IAAEC,IAAE;AAAC,UAAMD,IAAE,OAAM,EAAE,MAAM,CAAC,GAAEE,OAAI,EAAE,aAAaF,IAAEC,GAAEC,EAAC,CAAC,CAAE;AAAA,EAAC;AAAC;;;ACAzF,IAAMC,KAAN,cAAgB,EAAC;AAAA,EAAC,YAAYC,IAAED,IAAE;AAAC,UAAMC,IAAE,cAAa,EAAE,MAAM,CAAC,GAAE,MAAI,EAAE,YAAYA,IAAED,GAAE,CAAC,CAAC,CAAE;AAAA,EAAC;AAAC;;;ACAyS,SAASE,GAAEA,IAAE,GAAE;AAAC,QAAK,EAAC,UAAS,EAAC,IAAEA,IAAE,EAAC,QAAO,GAAE,QAAOC,IAAE,wBAAuB,EAAC,IAAE;AAAE,QAAIA,GAAE,aAAW,EAAE,SAAS,IAAI,IAAI,EAAE,kBAAkB,CAAAC,OAAGA,GAAE,kBAAgB,CAAE,GAAE,IAAIF,GAAE,sBAAsB,CAAAE,OAAGA,GAAE,kBAAmB,CAAC,GAAEF,GAAE,QAAQ,IAAI,iBAAgB,SAAQ,CAAC,GAAEA,GAAE,QAAQ,CAAC,GAAE,IAAE,EAAE,SAAS,IAAI,IAAIA,GAAE,uBAAuB,CAAAE,OAAGA,GAAE,mBAAoB,CAAC,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAoB11B,IAAE,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,EAGb,GAAED,KAAE,EAAE,KAAK,IAAI;AAAA;AAAA,EAEf,IAAE,EAAE,SAAS,IAAI,IAAI,EAAE,gBAAgB,CAAAC,OAAGA,GAAE,SAAU,CAAC,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,EAGlE,GAAE,EAAE,KAAK,IAAI;AAAA;AAAA,EAEb,KAAG,EAAE,KAAK,IAAI,iDAAiD;AAAC;;;AC9BlE,IAAMC,KAAE,IAAE;",
  "names": ["o", "e", "i", "o", "e", "i", "o", "e", "o", "n", "i", "o"]
}
