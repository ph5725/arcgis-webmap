{
  "version": 3,
  "sources": ["../../@arcgis/core/core/PerformanceSampler.js", "../../@arcgis/core/core/scheduling.js", "../../@arcgis/core/core/accessorSupport/tracking/ObservationHandle.js", "../../@arcgis/core/core/accessorSupport/ObservableBase.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nclass s{constructor(s,t=30){this.name=s,this._counter=0,this._samples=new Array(t)}push(s){null!=s&&(this._samples[++this._counter%this._samples.length]=s)}set(s){null!=s&&(this._samples[this._counter%this._samples.length]=s)}get median(){return this._samples.slice().sort(((s,t)=>s-t))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((s,t)=>s+t),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}export{s as default};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{nextTick as e}from\"./nextTick.js\";import t from\"./PerformanceSampler.js\";import n from\"./PooledArray.js\";import{createResolver as r,isAborted as s,createAbortError as o}from\"./promiseUtils.js\";import{Milliseconds as a}from\"./time.js\";class i{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class c{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let m=0,l=0;const u={time:a(0),deltaTime:a(0),elapsedFrameTime:a(0),frameDuration:a(0)},p=[\"prepare\",\"preRender\",\"render\",\"postRender\",\"update\",\"finish\"],f=[],h=new n;class d{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,k()}}function w(){null!=T&&(cancelAnimationFrame(T),T=requestAnimationFrame(D))}function k(){null==T&&(m=performance.now(),T=requestAnimationFrame(D))}const v={frameTasks:h,willDispatch:!1,clearFrameTasks:j,dispatch:g,executeFrameTasks:q,reschedule:w};function A(t){const n=new c(t);return f.push(n),v.willDispatch||(v.willDispatch=!0,e(g)),n}function F(e){const t=new i(e);return h.push(t),k(),new d(t)}let T=null;function j(e=!1){h.forAll((e=>{e.removed=!0})),e&&b()}function x(e){l=Math.max(0,e)}function D(){const e=performance.now();T=null;const t=h.some((e=>!e.paused&&!e.removed));T=t?requestAnimationFrame(D):null,v.executeFrameTasks(e)}function q(e){const t=a(e-m);m=e;const n=l>0?l:1e3/60,r=Math.max(0,t-n);u.time=e,u.frameDuration=a(n-r);for(let s=0;s<p.length;s++){const n=performance.now(),r=p[s];h.forAll((n=>{if(n.paused||n.removed)return;0===s&&n.ticks++;n.phases[r]&&(u.elapsedFrameTime=a(performance.now()-e),u.deltaTime=0===n.ticks?a(0):t,n.phases[r]?.call(n,u))})),U[s].push(performance.now()-n)}b(),S.push(performance.now()-e)}const _=new n;function b(){h.forAll((e=>{e.removed&&_.push(e)})),h.removeUnorderedMany(_.data,_.length),_.clear()}function g(){for(;f.length;){const e=f.shift();e.isActive&&e.callback()}v.willDispatch=!1}function y(t=1,n){const a=r(),i=()=>{s(n)?a.reject(o()):0===t?a():(--t,e((()=>i())))};return i(),a.promise}function M(e){return y(1,e)}function P(){const e=r(),t=F({postRender:()=>{t.remove(),A(e)}});return e.promise}async function R(e){await M(e),await new Promise((t=>requestAnimationFrame((()=>{e?.aborted||t()}))))}const U=p.map((e=>new t(e))),S=new t(\"total\");export{d as FrameTaskHandle,F as addFrameTask,v as debug,U as performanceInfo,S as performanceTotal,A as schedule,x as setFrameDuration,R as waitAnimationFrame,P as waitRender,M as waitTick,y as waitTicks};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{remove as r}from\"../../arrayUtils.js\";class s{constructor(r,s){this._observers=r,this._observer=s}remove(){r(this._observers,this._observer)}}export{s as ObservationHandle};\r\n", "/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{makeHandle as e}from\"../handleUtils.js\";import{ObservationHandle as s}from\"./tracking/ObservationHandle.js\";class r{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return t;null==this._observers&&(this._observers=[]);const r=this._observers;let o=!1,i=!1;const n=r.length;for(let s=0;s<n;++s){const t=r[s];if(t.destroyed)i=!0;else if(t===e){o=!0;break}}return o||(r.push(e),i&&this._removeDestroyedObservers()),new s(r,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const s=e.length;let r=0;for(let t=0;t<s;++t){for(;t+r<s;){if(!e[t+r].destroyed)break;++r}if(r>0){if(!(t+r<s))break;e[t]=e[t+r]}}e.length=s-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const s of e)s.onCommitted();this._observers=null}}}const t=e();export{r as ObservableBase};\r\n"],
  "mappings": "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",
  "names": ["s", "t", "e", "c", "u", "t", "n", "e", "t", "n", "r", "u", "s", "i", "e", "t", "s", "r", "r", "e", "t", "i", "n", "s"]
}
