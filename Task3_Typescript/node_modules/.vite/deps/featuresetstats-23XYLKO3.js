import {
  l
} from "./chunk-NJQ3IQ46.js";
import {
  K,
  Ke,
  ae,
  q,
  te
} from "./chunk-Q7K6M7G6.js";
import "./chunk-EK343S5L.js";
import "./chunk-4J6GMCJZ.js";
import "./chunk-VZZR2ZMJ.js";
import {
  R,
  i
} from "./chunk-F5BDMX7A.js";
import {
  h
} from "./chunk-NY6S6EMV.js";
import {
  a,
  r
} from "./chunk-AQGMTI4V.js";
import "./chunk-QG7JWSBW.js";
import "./chunk-6TS2ZJL4.js";
import "./chunk-IBGTNH54.js";
import "./chunk-EOMIFMDH.js";
import {
  e,
  o
} from "./chunk-6QA2BVC5.js";
import "./chunk-N3A2BVTW.js";
import "./chunk-52HWRRRQ.js";
import "./chunk-VNTEV3V4.js";
import "./chunk-OGOQOMMV.js";
import "./chunk-7Z3AF3B2.js";
import "./chunk-6GWORUT3.js";
import "./chunk-FPSA4NFH.js";
import "./chunk-UY6B6IVT.js";
import "./chunk-O5TPFXRT.js";
import "./chunk-Q6XRAGMA.js";
import "./chunk-JUAPMINU.js";
import "./chunk-PK2ZR2SJ.js";
import "./chunk-YFPGM5UE.js";
import "./chunk-OXSERRAR.js";
import "./chunk-7HI4VRVW.js";
import "./chunk-ZX46THLM.js";
import "./chunk-Y2ZIOB7Y.js";
import "./chunk-KTUX3OKX.js";
import "./chunk-E3KEUGUG.js";
import "./chunk-N3XLUQJI.js";
import "./chunk-JUAD7TJ6.js";
import "./chunk-VHLUKPRH.js";
import "./chunk-5TPMG26T.js";
import "./chunk-3NBBZ43U.js";
import "./chunk-VOLWOTEG.js";
import "./chunk-XTNIDRTB.js";
import "./chunk-FGWIXJQY.js";
import "./chunk-TKYAZCMB.js";
import "./chunk-3TBMFSPB.js";
import "./chunk-PSZLDJJA.js";
import "./chunk-ZWFY3WY5.js";
import "./chunk-LQFTAGIV.js";
import "./chunk-S7IJH524.js";
import "./chunk-GZ2P4SCJ.js";
import "./chunk-XWG6QGFK.js";
import "./chunk-GWNLQRNM.js";
import "./chunk-FXKORAMT.js";
import "./chunk-GNMFMITH.js";

// node_modules/@arcgis/core/arcade/functions/featuresetstats.js
async function l2(n, t, e2, a2) {
  if (1 === e2.length) {
    if (o(e2[0])) return l(n, e2[0], q(e2[1], -1));
    if (te(e2[0])) return l(n, e2[0].toArray(), q(e2[1], -1));
  } else if (2 === e2.length) {
    if (o(e2[0])) return l(n, e2[0], q(e2[1], -1));
    if (te(e2[0])) return l(n, e2[0].toArray(), q(e2[1], -1));
    if (K(e2[0])) {
      const r2 = await e2[0].load(), i2 = await y(R.create(e2[1], { fieldsIndex: r2.getFieldsIndex(), timeZone: r2.dateFieldsTimeZoneDefaultUTC }), a2, t);
      return g(t, await e2[0].calculateStatistic(n, i2, q(e2[2], 1e3), t.abortSignal));
    }
  } else if (3 === e2.length && K(e2[0])) {
    const r2 = await e2[0].load(), i2 = await y(R.create(e2[1], { fieldsIndex: r2.getFieldsIndex(), timeZone: r2.dateFieldsTimeZoneDefaultUTC }), a2, t);
    return g(t, await e2[0].calculateStatistic(n, i2, q(e2[2], 1e3), t.abortSignal));
  }
  return l(n, e2, -1);
}
function g(t, e2) {
  return e2 instanceof i ? h.fromReaderAsTimeStampOffset(e2.toStorageFormat()) : e2 instanceof Date ? h.dateJSAndZoneToArcadeDate(e2, Ke(t)) : e2;
}
async function y(n, t, e2) {
  const a2 = n.getVariables();
  if (a2.length > 0) {
    const r2 = {};
    for (const n2 of a2) r2[n2] = t.evaluateIdentifier(e2, { name: n2 });
    n.parameters = r2;
  }
  return n;
}
function A(n) {
  "async" === n.mode && (n.functions.stdev = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("stdev", t, r2, n));
  }, n.functions.variance = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("variance", t, r2, n));
  }, n.functions.average = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("mean", t, r2, n));
  }, n.functions.mean = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("mean", t, r2, n));
  }, n.functions.sum = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("sum", t, r2, n));
  }, n.functions.min = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("min", t, r2, n));
  }, n.functions.max = function(t, e2) {
    return n.standardFunctionAsync(t, e2, (e3, a2, r2) => l2("max", t, r2, n));
  }, n.functions.count = function(o2, s) {
    return n.standardFunctionAsync(o2, s, async (n2, c, u) => {
      if (ae(u, 1, 1, o2, s), K(u[0])) return u[0].count(n2.abortSignal);
      if (o(u[0]) || e(u[0])) return u[0].length;
      if (te(u[0])) return u[0].length();
      throw new a(o2, r.InvalidParameter, s);
    });
  });
}
export {
  A as registerFunctions
};
//# sourceMappingURL=featuresetstats-23XYLKO3.js.map
