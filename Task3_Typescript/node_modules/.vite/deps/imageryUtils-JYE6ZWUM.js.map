{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/save/imageryUtils.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{save as e,saveAs as t}from\"./utils.js\";import{getPrimaryRasters as r}from\"../support/rasterDatasets/datasetUtils.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as i,toggleTypeKeyword as y}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",o=\"imagery-layer-save\",m=\"imagery-layer-save-as\",n=\"imagery-tile-layer-save\",c=\"imagery-tile-layer-save-as\",p=\"WCS\",u=\"wcs-layer-save\",g=\"wcs-layer-save-as\";function v(e){if(\"imagery\"===e.type||\"wcs\"===e.type)return{isValid:!0};const{raster:t}=e,a=r(t)[0];return{isValid:\"RasterTileServer\"===a?.datasetFormat&&(\"Raster\"===a.tileType||\"Map\"===a.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function f(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function d(e,t){const{parsedUrl:r,title:l,fullExtent:o}=e;t.url=r.path,t.title||=l;try{t.extent=await a(o)}catch{t.extent=void 0}s(t,i.METADATA),y(t,i.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function I(t,r){const a=\"imagery\"===t.type?o:\"imagery-tile\"===t.type?n:u,s=\"wcs\"===t.type?p:l;return e({layer:t,itemType:s,validateLayer:v,createItemData:f,errorNamePrefix:a},r)}async function T(e,r,a){const s=\"imagery\"===e.type?m:\"imagery-tile\"===e.type?c:g,i=\"wcs\"===e.type?p:l;return t({layer:e,itemType:i,validateLayer:v,createItemData:f,errorNamePrefix:s,newItem:r,setItemProperties:d},a)}export{I as save,T as saveAs};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI2Q,IAAMA,KAAE;AAAR,IAAwB,IAAE;AAA1B,IAA+C,IAAE;AAAjD,IAAyE,IAAE;AAA3E,IAAqGC,KAAE;AAAvG,IAAoI,IAAE;AAAtI,IAA4IC,KAAE;AAA9I,IAA+J,IAAE;AAAoB,SAAS,EAAE,GAAE;AAAC,MAAG,cAAY,EAAE,QAAM,UAAQ,EAAE,KAAK,QAAM,EAAC,SAAQ,KAAE;AAAE,QAAK,EAAC,QAAOC,GAAC,IAAE,GAAE,IAAE,EAAEA,EAAC,EAAE,CAAC;AAAE,SAAM,EAAC,SAAQ,uBAAqB,GAAG,kBAAgB,aAAW,EAAE,YAAU,UAAQ,EAAE,WAAU,cAAa,mEAAkE;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,QAAMA,KAAE,EAAE;AAAU,SAAO,QAAQ,QAAQA,MAAG,OAAO,KAAKA,EAAC,EAAE,SAAOA,KAAE,IAAI;AAAC;AAAC,eAAe,EAAE,GAAEA,IAAE;AAAC,QAAK,EAAC,WAAU,GAAE,OAAMH,IAAE,YAAWI,GAAC,IAAE;AAAE,EAAAD,GAAE,MAAI,EAAE,MAAKA,GAAE,UAAQH;AAAE,MAAG;AAAC,IAAAG,GAAE,SAAO,MAAM,EAAEC,EAAC;AAAA,EAAC,QAAM;AAAC,IAAAD,GAAE,SAAO;AAAA,EAAM;AAAC,IAAEA,IAAE,EAAE,QAAQ,GAAE,EAAEA,IAAE,EAAE,eAAc,mBAAiB,EAAE,IAAI;AAAC;AAAC,eAAe,EAAEA,IAAE,GAAE;AAAC,QAAM,IAAE,cAAYA,GAAE,OAAK,IAAE,mBAAiBA,GAAE,OAAK,IAAED,IAAE,IAAE,UAAQC,GAAE,OAAK,IAAEH;AAAE,SAAO,EAAE,EAAC,OAAMG,IAAE,UAAS,GAAE,eAAc,GAAE,gBAAe,GAAE,iBAAgB,EAAC,GAAE,CAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE,GAAE;AAAC,QAAM,IAAE,cAAY,EAAE,OAAK,IAAE,mBAAiB,EAAE,OAAKF,KAAE,GAAE,IAAE,UAAQ,EAAE,OAAK,IAAED;AAAE,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAc,GAAE,gBAAe,GAAE,iBAAgB,GAAE,SAAQ,GAAE,mBAAkB,EAAC,GAAE,CAAC;AAAC;",
  "names": ["l", "c", "u", "t", "o"]
}
