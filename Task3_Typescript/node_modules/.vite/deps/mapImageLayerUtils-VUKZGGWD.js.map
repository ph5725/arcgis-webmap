{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/save/mapImageLayerUtils.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as n,addTypeKeyword as s,toggleTypeKeyword as i}from\"../../portal/support/portalItemUtils.js\";const o=\"Map Service\",l=\"map-image-layer-save\",m=\"map-image-layer-save-as\";function c(e){return{isValid:\"map-image\"===e.type&&!e.sourceJSON?.tileInfo,errorMessage:\"Layer.type should be 'map-image' and reference a dynamic (non-cached) map service\"}}function p(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}function u(e,t){return f(e,t),Promise.resolve()}async function y(e,t){const{parsedUrl:s,title:i,fullExtent:o}=e;t.url=s.path,t.title||=i,t.extent=o?await r(o):null,a(t,n.METADATA),f(e,t)}function f(e,t){s(t,n.DYNAMIC);const r=e.sublayers?.length??0;i(t,n.MULTI_LAYER,r>1),i(t,n.SINGLE_LAYER,1===r)}async function v(t,r){return e({layer:t,itemType:o,validateLayer:c,createItemData:p,errorNamePrefix:l,setItemProperties:u},r)}async function I(e,r,a){return t({layer:e,itemType:o,validateLayer:c,createItemData:p,errorNamePrefix:m,newItem:r,setItemProperties:y},a)}export{v as save,I as saveAs};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIiN,IAAM,IAAE;AAAR,IAAsBA,KAAE;AAAxB,IAA+C,IAAE;AAA0B,SAASC,GAAE,GAAE;AAAC,SAAM,EAAC,SAAQ,gBAAc,EAAE,QAAM,CAAC,EAAE,YAAY,UAAS,cAAa,oFAAmF;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQ,KAAG,OAAO,KAAK,CAAC,EAAE,SAAO,IAAE,IAAI;AAAC;AAAC,SAASC,GAAE,GAAE,GAAE;AAAC,SAAO,EAAE,GAAE,CAAC,GAAE,QAAQ,QAAQ;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,QAAK,EAAC,WAAU,GAAE,OAAMC,IAAE,YAAWC,GAAC,IAAE;AAAE,IAAE,MAAI,EAAE,MAAK,EAAE,UAAQD,IAAE,EAAE,SAAOC,KAAE,MAAM,EAAEA,EAAC,IAAE,MAAK,EAAE,GAAE,EAAE,QAAQ,GAAE,EAAE,GAAE,CAAC;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE;AAAC,IAAE,GAAE,EAAE,OAAO;AAAE,QAAM,IAAE,EAAE,WAAW,UAAQ;AAAE,IAAE,GAAE,EAAE,aAAY,IAAE,CAAC,GAAE,EAAE,GAAE,EAAE,cAAa,MAAI,CAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAcH,IAAE,gBAAe,GAAE,iBAAgBD,IAAE,mBAAkBE,GAAC,GAAE,CAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE,GAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAAS,GAAE,eAAcD,IAAE,gBAAe,GAAE,iBAAgB,GAAE,SAAQ,GAAE,mBAAkB,EAAC,GAAE,CAAC;AAAC;",
  "names": ["l", "c", "u", "i", "o"]
}
