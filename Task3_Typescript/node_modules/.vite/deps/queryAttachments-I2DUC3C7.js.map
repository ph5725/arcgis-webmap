{
  "version": 3,
  "sources": ["../../@arcgis/core/rest/query/operations/queryAttachments.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\r\n*/\r\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as r}from\"../../operations/urlUtils.js\";import n from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o}function a(o,r){const s={};for(const a of r){const{parentObjectId:r,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,d=e(t(`${o.path}/${r}/attachments/${i}`)),m=n.fromJSON(a);m.set({url:d,parentObjectId:r,parentGlobalId:c}),s[r]?s[r].push(m):s[r]=[m]}}return s}function c(t,e,n){let a={query:r({...t.query,f:\"json\",...s(e)})};return n&&(a={...n,...a,query:{...n.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function i(t,e,r){const{objectIds:n}=e,s=[];for(const a of n)s.push(o(t.path+\"/\"+a+\"/attachments\",r));return Promise.all(s).then((t=>n.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,i as fetchAttachments,a as processAttachmentQueryResult};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIwP,SAAS,EAAEA,IAAE;AAAC,QAAM,IAAEA,GAAE,OAAO;AAAE,SAAO,EAAE,oBAAkB,EAAE,kBAAgB,EAAE,gBAAgB,KAAK,GAAG,IAAG,EAAE,aAAW,EAAE,WAAS,EAAE,SAAS,KAAK,GAAG,IAAG,EAAE,cAAY,EAAE,YAAU,EAAE,UAAU,KAAK,GAAG,IAAG,EAAE,cAAY,EAAE,YAAU,EAAE,UAAU,KAAK,GAAG,IAAG,EAAE,SAAO,EAAE,OAAK,EAAE,KAAK,KAAK,GAAG,IAAG,EAAE,kBAAgB,EAAE,gBAAc,EAAE,cAAc,KAAK,GAAG,IAAG;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE;AAAC,QAAMC,KAAE,CAAC;AAAE,aAAUC,MAAK,GAAE;AAAC,UAAK,EAAC,gBAAeC,IAAE,gBAAeC,IAAE,iBAAgBC,GAAC,IAAEH;AAAE,eAAUA,MAAKG,IAAE;AAAC,YAAK,EAAC,IAAGA,GAAC,IAAEH,IAAEI,KAAE,EAAE,EAAE,GAAG,EAAE,IAAI,IAAIH,EAAC,gBAAgBE,EAAC,EAAE,CAAC,GAAE,IAAE,EAAE,SAASH,EAAC;AAAE,QAAE,IAAI,EAAC,KAAII,IAAE,gBAAeH,IAAE,gBAAeC,GAAC,CAAC,GAAEH,GAAEE,EAAC,IAAEF,GAAEE,EAAC,EAAE,KAAK,CAAC,IAAEF,GAAEE,EAAC,IAAE,CAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAOF;AAAC;AAAC,SAAS,EAAED,IAAE,GAAE,GAAE;AAAC,MAAIE,KAAE,EAAC,OAAMF,GAAE,EAAC,GAAGA,GAAE,OAAM,GAAE,QAAO,GAAG,EAAE,CAAC,EAAC,CAAC,EAAC;AAAE,SAAO,MAAIE,KAAE,EAAC,GAAG,GAAE,GAAGA,IAAE,OAAM,EAAC,GAAG,EAAE,OAAM,GAAGA,GAAE,MAAK,EAAC,IAAG,EAAEF,GAAE,OAAK,qBAAoBE,EAAC,EAAE,KAAM,CAAAF,OAAGA,GAAE,KAAK,gBAAiB;AAAC;AAAC,eAAe,EAAEA,IAAE,GAAE,GAAE;AAAC,QAAK,EAAC,WAAU,EAAC,IAAE,GAAEC,KAAE,CAAC;AAAE,aAAUC,MAAK,EAAE,CAAAD,GAAE,KAAK,EAAED,GAAE,OAAK,MAAIE,KAAE,gBAAe,CAAC,CAAC;AAAE,SAAO,QAAQ,IAAID,EAAC,EAAE,KAAM,CAAAD,OAAG,EAAE,IAAK,CAAC,GAAEO,QAAK,EAAC,gBAAe,GAAE,iBAAgBP,GAAEO,EAAC,EAAE,KAAK,gBAAe,EAAG,CAAE;AAAC;",
  "names": ["t", "s", "a", "r", "c", "i", "d", "e"]
}
