/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{_ as e}from"../../../../../../../../chunks/tslib.es6.js";import{uniform as r,UniformGroup as t}from"../../../GraphShaderModule.js";import{step as n,Vec2 as o,Bool as i,texture2D as s,floor as u,fract as a,IVec2 as m,int as p,Vec3 as d,ifElse as c,lessThanEqual as f,texelFetch as l,Int as w,dot as g,Sampler2D as y}from"../../../graph/glsl.js";import{oneMinus as x}from"../utils.js";import{sampleBilinear as b}from"./sampleBilinear.js";class S extends t{}function v(e,r){const t=s(r.transformTexture,e);return new o(t.r,t.g)}function j(e,r){const{transformTexture:t,targetImageSize:n,transformSpacing:i}=r,s=u(e.multiply(n)),l=new o(4,1),w=u(s.divide(i)).multiply(l),g=a(s.add(new o(.5,.5)).divide(i)),y=new m(p(w.x),p(w.y)),x=new d(g,1);return c(f(g.x,g.y),h(t,y,x),z(t,y,x))}function h(e,r,t){const n=l(e,r,new w(0)),i=new m(r.x.add(1),r.y),s=l(e,i,new w(0));return new o(g(n.rgb,t),g(s.rgb,t))}function z(e,r,t){const n=new m(r.x.add(2),r.y),i=l(e,n,new w(0)),s=new m(r.x.add(3),r.y),u=l(e,s,new w(0));return new o(g(i.rgb,t),g(u.rgb,t))}function I(e){const r=n(new o(-1e-5,-1e-5),e).multiply(n(e,new o(1.00001,1.00001))),t=x(r.x.multiply(r.y));return new i(t)}function T(e,r,t=!1){return r?t?v(e,r):j(e,r):e}function G(e,r,t){const{bicubic:n=!1,bilinear:o=!1,nearestOnEdge:i=!1}=t??{};return n||o?b(r.texture,e,r.srcImageSize,i):s(r.texture,e)}e([r(y)],S.prototype,"transformTexture",void 0),e([r(o)],S.prototype,"targetImageSize",void 0),e([r(o)],S.prototype,"transformSpacing",void 0),e([r(o)],S.prototype,"transformGridSize",void 0);export{S as ProjectionConfig,G as getPixel,T as getPixelLocation,I as isOutside};
